<div
    class="user-icon d-flex justify-content-center align-items-center"
    (click)="toggleSpecialFilter()"
    [ngClass]="type | filterClass : activeFilter : dataArray : dataCount"
    (mouseenter)="activeFilter ? (hoverFilter = true) : (hoverFilter = false)"
    (mouseleave)="hoverFilter = false"
>
    <div
        mainContent
        ngbTooltip
        mainTooltip="{{
            !hoverClose
                ? dataArray?.filteredArray?.length > 0
                    ? activeFilter
                        ? 'Close Filter'
                        : filterTitle
                    : activeFilter
                    ? 'Close Filter'
                    : filterTitle
                : 'Remove Filter'
        }}"
        position="bottom"
        tooltipBackground="{{
            activeFilter ? '#B7B7B7' : !hoverClose ? '#2F2F2F' : '#2F2F2F'
        }}"
        tooltipColor="{{ activeFilter ? '#2F2F2F' : '#FFFFFF' }}"
        tooltipTextAlign="center"
        class="main-icon-holder d-flex justify-content-center align-items-center"
    >
        <div>
            <svg-icon [src]="icon | taSvg : 'common'"></svg-icon>
        </div>
        <div
            class="filters-selected-value-holder justify-content-center align-items-center show-number ta-font-extra-bold"
            [ngClass]="{
                'd-flex': (!activeFilter || !hoverFilter) && !isCountHidden,
                'd-none': (activeFilter && hoverFilter) || isCountHidden
            }"
        >
            {{
                dataArray?.filteredArray?.length ?? dataCount ?? 0
            }}
        </div>
        <ng-container
            *ngIf="dataArray?.filteredArray?.length > 0 && activeFilter"
        >
            <div
                class="filters-selected-value-holder justify-content-center align-items-center clear-filter-icon ta-font-extra-bold"
                [ngClass]="{
                    'd-none': !activeFilter && !hoverFilter,
                    'd-flex': activeFilter && hoverFilter
                }"
                (mouseenter)="hoverClose = true"
                (mouseleave)="hoverClose = false"
            >
                <svg-icon
                    src="assets/svg/common/ic_cancel_violation.svg"
                ></svg-icon>
            </div>
        </ng-container>
    </div>
</div>
