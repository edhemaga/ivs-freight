<div
    class="d-flex flex-column custom-period-range"
    (click)="handleContainerClick($event)"
>
    <!-- Header -->

    <div class="d-flex align-items-center custom-period-range-header">
        <p class="m-0 ta-font-extra-bold">CUSTOM RANGE</p>
    </div>

    <!-- Form -->

    <div
        class="d-flex flex-column justify-content-center custom-period-range-form"
        [formGroup]="customPeriodRangeForm"
    >
        <div
            class="d-flex align-items-center custom-period-range-form-date-inputs"
            [ngStyle]="{
                'margin-bottom': !isOnlyDateInputsLayout ? '42px' : '24px',
            }"
        >
            <div class="custom-period-range-form-date-inputs-input">
                <ca-input-datetime-picker
                    formControlName="fromDate"
                    [inputConfig]="fromDateConfig"
                ></ca-input-datetime-picker>
            </div>

            <div class="custom-period-range-form-date-inputs-input">
                <ca-input-datetime-picker
                    formControlName="toDate"
                    [inputConfig]="toDateConfig"
                ></ca-input-datetime-picker>
            </div>
        </div>

        <ng-container *ngIf="!isOnlyDateInputsLayout">
            <div class="custom-period-range-form-subperiod-input">
                <app-ta-input-dropdown
                    formControlName="subPeriod"
                    [inputConfig]="subPeriodConfig"
                    [options]="subPeriodDropdownList"
                    [activeItem]="selectedSubPeriod"
                    (selectedItem)="handleInputSelect($event)"
                ></app-ta-input-dropdown>
            </div>
        </ng-container>
    </div>

    <!-- Buttons -->

    <div class="d-flex align-items-center custom-period-range-buttons">
        <button
            class="custom-period-range-buttons-btn"
            type="button"
            (click)="handleCancelOrSetClick(true)"
        >
            <p class="m-0 ta-font-extra-bold">CANCEL</p>
        </button>

        <button
            class="custom-period-range-buttons-btn"
            type="button"
            [disabled]="customPeriodRangeForm.invalid || !isFormDirty"
            [ngClass]="{
                disabled: customPeriodRangeForm.invalid || !isFormDirty,
            }"
            (click)="handleCancelOrSetClick(false)"
        >
            <p class="m-0 ta-font-extra-bold">SET</p>
        </button>
    </div>
</div>
