<ng-container *ngIf="viewData?.length">
    <table>
        <thead [ngClass]="{ 'set-cursor-resize': resizing }">
            <!-- Pined -->

            <tr
                class="tr pined-columns-container"
                [ngClass]="{
                    'tr-height-2':
                        tableData[0].gridNameTitle | tableDoubleHeadingHeight
                }"
            >
                <ng-container
                    *ngFor="let column of pinedColumns; let i = index"
                >
                    <th
                        cdkDragBoundary="tr"
                        [resizeColumn]="column.resizable && !locked"
                        [index]="i"
                        [tableSection]="'pined'"
                        [tableColumn]="column"
                        [cdkDragPreviewClass]="'cdk-drag-preview'"
                        [ngStyle]="{
                            width: column.width + 'px',
                            'min-width.px': column?.minWidth
                                ? column.minWidth
                                : 'unset',
                            'margin-left': column.moveRight ? 'auto' : 'unset'
                        }"
                        [ngClass]="{
                            'set-center':
                                column.ngTemplate === 'checkbox' ||
                                column.thSetCenter,
                            'column-unlocket': !locked,
                            'resize-hit-limit':
                                resizeHitLimit === i && resizeIsPined,
                            'pined-columns-margin':
                                column.ngTemplate !== '' &&
                                column.ngTemplate !== 'checkbox' &&
                                column.ngTemplate !== 'user-checkbox',
                            'remove-head-title':
                                column.width < 68 && !locked && !resizing,
                            'align-items-end':
                                tableData[0].gridNameTitle
                                | tableDoubleHeadingHeight
                        }"
                        (resizing)="onResize($event)"
                    >
                        <!-- Selected Row Count -->

                        <ng-container
                            *ngIf="
                                column.ngTemplate === 'checkbox' ||
                                    column.ngTemplate === 'user-checkbox';
                                else doubleHeading
                            "
                        >
                            <div
                                #op="ngbPopover"
                                class="selected-rows-count"
                                [autoClose]="true"
                                [ngbPopover]="optionsPopover"
                                [placement]="'right-top'"
                                popoverClass="{{
                                    mySelection.length
                                        ? 'has-selected-options-popover'
                                        : 'selected-options-popover'
                                }}"
                                triggers="manual"
                                [ngClass]="{
                                    'has-selected d-flex align-items-center justify-content-center':
                                        mySelection.length
                                }"
                                (click)="onSelectedOptions(op)"
                            >
                                {{ mySelection.length ?? '' }}
                            </div>
                        </ng-container>

                        <!-- Double Heading -->

                        <ng-template #doubleHeading>
                            <ng-container
                                *ngIf="
                                    column.ngTemplate
                                        | tableHeadingConditions
                                            : {
                                                  conditionType:
                                                      'double-heading',
                                                  name: column.name,
                                                  title: column.title
                                              };
                                    else headingIcon
                                "
                            >
                                <ng-container
                                    *ngIf="
                                        column
                                            | tableDoubleHeading
                                                : tableData[0]
                                                : true
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <p
                                            class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                        >
                                            {{
                                                column.tableHeadTitle
                                                    | tableDoubleHeadingText
                                            }}
                                        </p>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{ column.tableHeadTitle }}

                                            <span
                                                class="th-title-double-subtitle-additional"
                                            >
                                                {{
                                                    column.tableHeadTitle ===
                                                    'TERM'
                                                        ? 'mo.'
                                                        : ''
                                                }}
                                            </span>
                                        </p>
                                    </div>
                                </ng-container>

                                <!-- ///////////////////////////////////// -->

                                <!-- TRUCK -->

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Owner Details'
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                ' NAME'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                OWNER
                                            </p>
                                        </ng-container>
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                    ' NAME';
                                                else showCommition
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{ column.tableHeadTitle }}
                                            </p>
                                        </ng-container>
                                        <ng-template #showCommition>
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                COMM
                                            </p>
                                        </ng-template>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'FHWA Inspection '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle === 'TERM'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                FHWA
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{ column.tableHeadTitle }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName ===
                                            'Registration Detail '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'PLATE NUMBER'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                LICENCE
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{
                                                column.tableHeadTitle.split(
                                                    ' '
                                                )[0]
                                            }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Title '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'NUMBER'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                TITLE
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{
                                                column.tableHeadTitle.split(
                                                    ' '
                                                )[0]
                                            }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Purchase Detail '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'PRICE'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                PURCHASE
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{ column.tableHeadTitle }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Assigned To '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'DRIVER'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                ASSIGNED
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{ column.tableHeadTitle }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Fuel Detail'
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'FUEL TYPE'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                FUEL
                                            </p>
                                        </ng-container>

                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                    'FUEL TYPE';
                                                else showSecond
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{
                                                    column.tableHeadTitle.split(
                                                        ' '
                                                    )[1]
                                                }}
                                            </p>
                                        </ng-container>
                                        <ng-template #showSecond>
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{
                                                    column.tableHeadTitle.split(
                                                        ' '
                                                    )[0]
                                                }}
                                            </p>
                                        </ng-template>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Assigned To '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'DRIVER'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                ASSIGNED
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{ column.tableHeadTitle }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Toll Device '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'TOLL TRANSPONDER'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                TOLL DEVICE
                                            </p>
                                        </ng-container>
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                    'TOLL TRANSPONDER';
                                                else showCommition
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{
                                                    column.tableHeadTitle.split(
                                                        ' '
                                                    )[1]
                                                }}
                                            </p>
                                        </ng-container>
                                        <ng-template #showCommition>
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{
                                                    column.tableHeadTitle.split(
                                                        ' '
                                                    )[0]
                                                }}
                                            </p>
                                        </ng-template>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Wheel Detail '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'FRONT WHEELS'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                FUEL
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{
                                                column.tableHeadTitle.split(
                                                    ' '
                                                )[0]
                                            }}
                                        </p>
                                    </div>
                                </ng-container>

                                <!-- REPAIR -->

                                <ng-container
                                    *ngIf="
                                        tableData[0].gridNameTitle ===
                                            'Repair' && column.groupName
                                    "
                                >
                                    <ng-container
                                        *ngIf="
                                            column.groupName === 'Unit ';
                                            else showShop
                                        "
                                    >
                                        <div
                                            class="d-flex flex-column border-test justify-content-center th-title"
                                            (click)="sortHeaderClick(column)"
                                        >
                                            <ng-container
                                                *ngIf="column.showRepairTitle"
                                            >
                                                <p
                                                    class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                                >
                                                    UNIT
                                                </p>
                                            </ng-container>

                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{ column.tableHeadTitle }}
                                            </p>
                                        </div>
                                    </ng-container>

                                    <ng-template #showShop>
                                        <ng-container
                                            *ngIf="
                                                column.groupName ===
                                                    'Shop Detail ';
                                                else showItem
                                            "
                                        >
                                            <div
                                                class="d-flex flex-column border-test justify-content-center th-title"
                                                (click)="
                                                    sortHeaderClick(column)
                                                "
                                            >
                                                <ng-container
                                                    *ngIf="
                                                        column.showRepairTitle
                                                    "
                                                >
                                                    <p
                                                        class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                                    >
                                                        REPAIR SHOP
                                                    </p>
                                                </ng-container>

                                                <p
                                                    class="m-0 ta-font-bold th-title"
                                                >
                                                    {{ column.tableHeadTitle }}
                                                </p>
                                            </div>
                                        </ng-container>
                                    </ng-template>

                                    <ng-template #showItem>
                                        <ng-container
                                            *ngIf="
                                                column.groupName ===
                                                'Item Detail '
                                            "
                                        >
                                            <div
                                                class="d-flex flex-column border-test justify-content-center th-title"
                                                (click)="
                                                    sortHeaderClick(column)
                                                "
                                            >
                                                <ng-container
                                                    *ngIf="
                                                        column.showRepairTitle
                                                    "
                                                >
                                                    <p
                                                        class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                                    >
                                                        ITEM
                                                    </p>
                                                </ng-container>

                                                <p
                                                    class="m-0 ta-font-bold th-title"
                                                >
                                                    {{ column.tableHeadTitle }}
                                                </p>
                                            </div>
                                        </ng-container>
                                    </ng-template>
                                </ng-container>

                                <!-- Heading -->

                                <ng-container
                                    *ngIf="
                                        column
                                            | tableDoubleHeading
                                                : tableData[0]
                                                : false
                                    "
                                >
                                    <div
                                        class="th-title"
                                        (click)="sortHeaderClick(column)"
                                        [ngStyle]="{
                                            'width.px':
                                                column.resizable && !locked
                                                    ? column.width - 55
                                                    : column.width - 20,
                                            'min-width.px': resizing
                                                ? column.width
                                                : 'unset'
                                        }"
                                        [ngClass]="{
                                            'sort-active':
                                                column.sortDirection !== '' &&
                                                column.sortDirection,
                                            'th-title-locked-cursor': locked,
                                            'set-center-th-title':
                                                column.setCenter
                                        }"
                                    >
                                        {{ column.tableHeadTitle }}
                                    </div>
                                </ng-container>
                            </ng-container>
                        </ng-template>

                        <!-- Heading Icon -->

                        <ng-template #headingIcon>
                            <ng-container
                                *ngIf="
                                    column.ngTemplate
                                        | tableHeadingConditions
                                            : {
                                                  conditionType: 'heading-icon',
                                                  headIconStyle:
                                                      column?.headIconStyle,
                                                  title: column.title
                                              };
                                    else heading
                                "
                            >
                                <div class="icons">
                                    <svg-icon
                                        [svgStyle]="{
                                            'width.px':
                                                column.headIconStyle.width,
                                            'height.px':
                                                column.headIconStyle.height
                                        }"
                                        [src]="
                                            column.headIconStyle.imgPath ?? ''
                                        "
                                    ></svg-icon>
                                </div>
                            </ng-container>
                        </ng-template>

                        <!-- Heading -->

                        <ng-template #heading>
                            <ng-container
                                *ngIf="
                                    column.ngTemplate
                                        | tableHeadingConditions
                                            : {
                                                  conditionType: 'heading',
                                                  title: column.title
                                              };
                                    else specialHeading
                                "
                            >
                                <div
                                    class="th-title-small"
                                    [ngStyle]="{
                                        'width.px':
                                            column.resizable && !locked
                                                ? column.width - 55
                                                : column.width - 20,
                                        'min-width.px': resizing
                                            ? column.width
                                            : 'unset'
                                    }"
                                    [ngClass]="{
                                        'sort-active':
                                            column.sortDirection !== '' &&
                                            column.sortDirection,
                                        'th-title-locked-cursor': locked,
                                        'set-center-th-title': column.setCenter
                                    }"
                                    (click)="sortHeaderClick(column)"
                                >
                                    {{ column.title }}
                                </div>
                            </ng-container>
                        </ng-template>

                        <!-- Special Heading -->

                        <ng-template #specialHeading>
                            <ng-container
                                *ngIf="
                                    column.ngTemplate
                                        | tableHeadingConditions
                                            : {
                                                  conditionType:
                                                      'special-heading'
                                              };
                                    else swTwHeading
                                "
                            >
                                <div
                                    class="special-title"
                                    [ngStyle]="{
                                        'min-width.px':
                                            column.resizable && !locked
                                                ? column.width - 100
                                                : column.width
                                    }"
                                    [ngClass]="{
                                        'sort-active':
                                            column.sortDirection !== '' &&
                                            column.sortDirection,
                                        'th-title-locked-cursor': locked
                                    }"
                                    (click)="sortHeaderClick(column)"
                                >
                                    <ng-container
                                        *ngFor="let title of column.headTitle"
                                    >
                                        <div
                                            class="title"
                                            [ngStyle]="{
                                                'width.px': title.width
                                            }"
                                        >
                                            {{ title.title }}
                                        </div>
                                    </ng-container>
                                </div>
                            </ng-container>
                        </ng-template>

                        <!-- Sw Tw Heading -->

                        <ng-template #swTwHeading>
                            <ng-container
                                *ngIf="
                                    column.ngTemplate
                                        | tableHeadingConditions
                                            : {
                                                  conditionType: 'sw-tw-heading'
                                              };
                                    else citation
                                "
                            >
                                <div
                                    class="sw-tw-title-container"
                                    [ngClass]="{
                                        'sort-active':
                                            column.sortDirection !== '' &&
                                            column.sortDirection,
                                        'th-title-locked-cursor': locked
                                    }"
                                    ž
                                    (click)="sortHeaderClick(column)"
                                >
                                    <div class="sw-tw-title">SW</div>
                                    <div class="sw-tw-title">TW</div>
                                    <div class="sw-tw-title">TOTAL</div>
                                </div>
                            </ng-container>
                        </ng-template>

                        <!-- Citation -->

                        <ng-template #citation>
                            <ng-container
                                *ngIf="
                                    column.ngTemplate
                                        | tableHeadingConditions
                                            : {
                                                  conditionType: 'citation'
                                              };
                                    else accidentCitationIcons
                                "
                            >
                                <!-- Citation Icons -->

                                <div
                                    class="citation-container"
                                    [ngClass]="{
                                        'sort-active':
                                            column.sortDirection !== '' &&
                                            column.sortDirection,
                                        'th-title-locked-cursor': locked
                                    }"
                                    (click)="sortHeaderClick(column)"
                                >
                                    <div class="citation-wrapper">
                                        <div class="icon-container">
                                            <svg-icon
                                                [svgStyle]="{
                                                    'width.px': 18,
                                                    'height.px': 18
                                                }"
                                                [src]="
                                                    'assets/svg/truckassist-table/cop-head-icon.svg'
                                                "
                                            ></svg-icon>
                                        </div>

                                        <div class="icon-container">
                                            <svg-icon
                                                [svgStyle]="{
                                                    'width.px': 18,
                                                    'height.px': 18
                                                }"
                                                [src]="
                                                    'assets/svg/truckassist-table/oss-head-icon.svg'
                                                "
                                            ></svg-icon>
                                        </div>

                                        <div class="icon-container">
                                            <svg-icon
                                                [svgStyle]="{
                                                    'width.px': 18,
                                                    'height.px': 18
                                                }"
                                                [src]="
                                                    'assets/svg/truckassist-table/money-head-icon.svg'
                                                "
                                            ></svg-icon>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </ng-template>

                        <!-- Accident Citation Icons -->

                        <ng-template #accidentCitationIcons>
                            <ng-container
                                *ngIf="
                                    column.ngTemplate
                                        | tableHeadingConditions
                                            : {
                                                  conditionType:
                                                      'citation-icons'
                                              };
                                    else icons
                                "
                            >
                                <div
                                    class="accident-citation-container"
                                    [ngClass]="{
                                        'sort-active':
                                            column.sortDirection !== '' &&
                                            column.sortDirection,
                                        'th-title-locked-cursor': locked
                                    }"
                                    (click)="sortHeaderClick(column)"
                                >
                                    <div class="accident-citation-wrapper">
                                        <div class="icon-container has-margin">
                                            <svg-icon
                                                [svgStyle]="{
                                                    'width.px': 18,
                                                    'height.px': 18
                                                }"
                                                [src]="
                                                    'assets/svg/truckassist-table/accident-crash-vehicles-icon.svg'
                                                "
                                            ></svg-icon>
                                        </div>

                                        <div class="icon-container has-margin">
                                            <svg-icon
                                                [svgStyle]="{
                                                    'width.px': 18,
                                                    'height.px': 18
                                                }"
                                                [src]="
                                                    'assets/svg/truckassist-table/accident-injured-icon.svg'
                                                "
                                            ></svg-icon>
                                        </div>

                                        <div class="icon-container has-margin">
                                            <svg-icon
                                                [svgStyle]="{
                                                    'width.px': 18,
                                                    'height.px': 18
                                                }"
                                                [src]="
                                                    'assets/svg/truckassist-table/accident-rip-icon.svg'
                                                "
                                            ></svg-icon>
                                        </div>

                                        <div class="icon-container has-margin">
                                            <svg-icon
                                                [svgStyle]="{
                                                    'width.px': 18,
                                                    'height.px': 18
                                                }"
                                                [src]="
                                                    'assets/svg/truckassist-table/accident-hook-icon.svg'
                                                "
                                            ></svg-icon>
                                        </div>

                                        <div class="icon-container">
                                            <svg-icon
                                                [svgStyle]="{
                                                    'width.px': 18,
                                                    'height.px': 18
                                                }"
                                                [src]="
                                                    'assets/svg/truckassist-table/accident-hazmat-icon.svg'
                                                "
                                            ></svg-icon>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </ng-template>

                        <!-- Icons -->

                        <ng-template #icons>
                            <ng-container
                                *ngIf="
                                    column.ngTemplate
                                        | tableHeadingConditions
                                            : {
                                                  conditionType: 'icons',
                                                  headIconStyle:
                                                      column.headIconStyle,
                                                  title: column.title
                                              };
                                    else sort
                                "
                            >
                                <div
                                    class="icons"
                                    [ngClass]="{
                                        'icon-hover':
                                            column.ngTemplate !== 'hire'
                                    }"
                                >
                                    <svg-icon
                                        [svgStyle]="{
                                            'width.px':
                                                column.headIconStyle.width,
                                            'height.px':
                                                column.headIconStyle.height
                                        }"
                                        [src]="
                                            column.headIconStyle.imgPath ?? ''
                                        "
                                    ></svg-icon>
                                </div>
                            </ng-container>
                        </ng-template>

                        <!-- Sort -->

                        <ng-template #sort>
                            <ng-container
                                *ngIf="
                                    ''
                                        | tableHeadingConditions
                                            : {
                                                  conditionType: 'sort',
                                                  sortable: column.sortable,
                                                  sortDirection:
                                                      column.sortDirection,
                                                  locked,
                                                  viewDataLength:
                                                      viewData.length
                                              };
                                    else pin
                                "
                            >
                                <div class="sort-indicator-container">
                                    <svg-icon
                                        [svgStyle]="{
                                            'width.px': 12,
                                            'height.px': 12
                                        }"
                                        [src]="
                                            column.sortDirection === 'asc'
                                                ? 'assets/svg/truckassist-table/ascending-sort.svg'
                                                : 'assets/svg/truckassist-table/descending-sort.svg'
                                        "
                                    ></svg-icon>
                                </div>
                            </ng-container>
                        </ng-template>

                        <!-- Pin -->

                        <ng-template #pin>
                            <ng-container
                                *ngIf="
                                    !locked &&
                                    !resizing &&
                                    column.ngTemplate !== 'checkbox' &&
                                    i !== 0 &&
                                    i !== 1
                                "
                            >
                                <div class="pin-remove-container">
                                    <svg-icon
                                        class="pin-icon"
                                        [ngClass]="{
                                            pined: column.isPined,
                                            hide: !column.isPined && reordering
                                        }"
                                        [svgStyle]="{
                                            'width.px': 9,
                                            'height.px': 12
                                        }"
                                        [src]="
                                            'assets/svg/truckassist-table/pin.svg'
                                        "
                                        (click)="onPinColumn(column)"
                                    ></svg-icon>
                                </div>
                            </ng-container>
                        </ng-template>
                    </th>
                </ng-container>
            </tr>

            <!-- Border -->

            <app-table-head-border [isDisplayBorder]="showBorder">
            </app-table-head-border>

            <!-- Not Pined -->

            <tr
                id="scroll"
                cdkDropListOrientation="horizontal"
                cdkDropList
                class="tr not-pined-columns-container"
                [ngClass]="{
                    'tr-height-2':
                        tableData[0].gridNameTitle | tableDoubleHeadingHeight
                }"
                [ngStyle]="{ 'max-width.px': notPinedMaxWidth }"
                (cdkDropListDropped)="onReorder($event)"
            >
                <div class="scroll-container">
                    <ng-container
                        *ngFor="let column of notPinedColumns; let i = index"
                    >
                        <th
                            cdkDrag
                            cdkDragBoundary="tr"
                            [resizeColumn]="column.resizable && !locked"
                            [index]="i"
                            [tableColumn]="column"
                            [tableSection]="'not-pined'"
                            (cdkDragStarted)="reordering = true"
                            (cdkDragEnded)="reordering = false"
                            [cdkDragDisabled]="
                                locked || resizing || column.isAction
                            "
                            [cdkDragPreviewClass]="'cdk-drag-preview'"
                            [ngStyle]="{
                                width: column.width + 'px',
                                'min-width.px': column?.minWidth
                                    ? column.minWidth
                                    : 'unset'
                            }"
                            [ngClass]="{
                                'set-center':
                                    column.ngTemplate === 'checkbox' ||
                                    column.thSetCenter,
                                'column-unlocket': !locked,
                                'column-locked': locked,
                                'resize-hit-limit':
                                    resizeHitLimit === i && !resizeIsPined,
                                'remove-head-title':
                                    column.width < 68 && !locked && !resizing,
                                'space-left': i === 0,
                                'align-items-end':
                                    tableData[0].gridNameTitle
                                    | tableDoubleHeadingHeight
                            }"
                            (resizing)="onResize($event)"
                        >
                            <!-- Double Heading -->

                            <ng-container
                                *ngIf="
                                    column.ngTemplate
                                        | tableHeadingConditions
                                            : {
                                                  conditionType:
                                                      'double-heading',
                                                  name: column.name,
                                                  title: column.title
                                              };
                                    else headingIcon
                                "
                            >
                                <ng-container
                                    *ngIf="
                                        column
                                            | tableDoubleHeading
                                                : tableData[0]
                                                : true
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <p
                                            class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                        >
                                            {{
                                                column.tableHeadTitle
                                                    | tableDoubleHeadingText
                                            }}
                                        </p>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{ column.tableHeadTitle }}

                                            <span
                                                class="th-title-double-subtitle-additional"
                                            >
                                                {{
                                                    column.tableHeadTitle ===
                                                    'TERM'
                                                        ? 'mo.'
                                                        : ''
                                                }}
                                            </span>
                                        </p>
                                    </div>
                                </ng-container>

                                <!-- ///////////////////////////////////// -->

                                <!-- TRUCK -->

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Owner Details'
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                ' NAME'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                OWNER
                                            </p>
                                        </ng-container>
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                    ' NAME';
                                                else showCommition
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{ column.tableHeadTitle }}
                                            </p>
                                        </ng-container>
                                        <ng-template #showCommition>
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                COMM
                                            </p>
                                        </ng-template>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'FHWA Inspection '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle === 'TERM'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                FHWA
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{ column.tableHeadTitle }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName ===
                                            'Registration Detail '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'PLATE NUMBER'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                LICENCE
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{
                                                column.tableHeadTitle.split(
                                                    ' '
                                                )[0]
                                            }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Title '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'NUMBER'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                TITLE
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{
                                                column.tableHeadTitle.split(
                                                    ' '
                                                )[0]
                                            }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Purchase Detail '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'PRICE'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                PURCHASE
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{ column.tableHeadTitle }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Assigned To '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'DRIVER'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                ASSIGNED
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{ column.tableHeadTitle }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Fuel Detail'
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'FUEL TYPE'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                FUEL
                                            </p>
                                        </ng-container>

                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                    'FUEL TYPE';
                                                else showSecond
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{
                                                    column.tableHeadTitle.split(
                                                        ' '
                                                    )[1]
                                                }}
                                            </p>
                                        </ng-container>
                                        <ng-template #showSecond>
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{
                                                    column.tableHeadTitle.split(
                                                        ' '
                                                    )[0]
                                                }}
                                            </p>
                                        </ng-template>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Assigned To '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'DRIVER'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                ASSIGNED
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{ column.tableHeadTitle }}
                                        </p>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Toll Device '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'TOLL TRANSPONDER'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                TOLL DEVICE
                                            </p>
                                        </ng-container>
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                    'TOLL TRANSPONDER';
                                                else showCommition
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{
                                                    column.tableHeadTitle.split(
                                                        ' '
                                                    )[1]
                                                }}
                                            </p>
                                        </ng-container>
                                        <ng-template #showCommition>
                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{
                                                    column.tableHeadTitle.split(
                                                        ' '
                                                    )[0]
                                                }}
                                            </p>
                                        </ng-template>
                                    </div>
                                </ng-container>

                                <ng-container
                                    *ngIf="
                                        tableData[0].tableConfiguration ===
                                            'TRUCK' &&
                                        column.groupName === 'Wheel Detail '
                                    "
                                >
                                    <div
                                        class="d-flex flex-column justify-content-center th-title-double"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngIf="
                                                column.tableHeadTitle ===
                                                'FRONT WHEELS'
                                            "
                                        >
                                            <p
                                                class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                            >
                                                FUEL
                                            </p>
                                        </ng-container>

                                        <p class="m-0 ta-font-bold th-title">
                                            {{
                                                column.tableHeadTitle.split(
                                                    ' '
                                                )[0]
                                            }}
                                        </p>
                                    </div>
                                </ng-container>

                                <!-- REPAIR -->

                                <ng-container
                                    *ngIf="
                                        tableData[0].gridNameTitle ===
                                            'Repair' && column.groupName
                                    "
                                >
                                    <ng-container
                                        *ngIf="
                                            column.groupName === 'Unit ';
                                            else showShop
                                        "
                                    >
                                        <div
                                            class="d-flex flex-column border-test justify-content-center th-title"
                                            (click)="sortHeaderClick(column)"
                                        >
                                            <ng-container
                                                *ngIf="column.showRepairTitle"
                                            >
                                                <p
                                                    class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                                >
                                                    UNIT
                                                </p>
                                            </ng-container>

                                            <p
                                                class="m-0 ta-font-bold th-title"
                                            >
                                                {{ column.tableHeadTitle }}
                                            </p>
                                        </div>
                                    </ng-container>

                                    <ng-template #showShop>
                                        <ng-container
                                            *ngIf="
                                                column.groupName ===
                                                    'Shop Detail ';
                                                else showItem
                                            "
                                        >
                                            <div
                                                class="d-flex flex-column border-test justify-content-center th-title"
                                                (click)="
                                                    sortHeaderClick(column)
                                                "
                                            >
                                                <ng-container
                                                    *ngIf="
                                                        column.showRepairTitle
                                                    "
                                                >
                                                    <p
                                                        class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                                    >
                                                        REPAIR SHOP
                                                    </p>
                                                </ng-container>

                                                <p
                                                    class="m-0 ta-font-bold th-title"
                                                >
                                                    {{ column.tableHeadTitle }}
                                                </p>
                                            </div>
                                        </ng-container>
                                    </ng-template>

                                    <ng-template #showItem>
                                        <ng-container
                                            *ngIf="
                                                column.groupName ===
                                                'Item Detail '
                                            "
                                        >
                                            <div
                                                class="d-flex flex-column border-test justify-content-center th-title"
                                                (click)="
                                                    sortHeaderClick(column)
                                                "
                                            >
                                                <ng-container
                                                    *ngIf="
                                                        column.showRepairTitle
                                                    "
                                                >
                                                    <p
                                                        class="m-0 ta-font-extra-bold th-title-double-subtitle"
                                                    >
                                                        ITEM
                                                    </p>
                                                </ng-container>

                                                <p
                                                    class="m-0 ta-font-bold th-title"
                                                >
                                                    {{ column.tableHeadTitle }}
                                                </p>
                                            </div>
                                        </ng-container>
                                    </ng-template>
                                </ng-container>

                                <!-- Heading -->

                                <ng-container
                                    *ngIf="
                                        column
                                            | tableDoubleHeading
                                                : tableData[0]
                                                : false
                                    "
                                >
                                    <div
                                        class="th-title"
                                        [ngStyle]="{
                                            'width.px':
                                                column.resizable && !locked
                                                    ? column.width - 55
                                                    : column.width - 20,
                                            'min-width.px': resizing
                                                ? column.width
                                                : 'unset'
                                        }"
                                        [ngClass]="{
                                            'sort-active':
                                                column.sortDirection !== '' &&
                                                column.sortDirection,
                                            'th-title-locked-cursor': locked,
                                            'set-center-th-title':
                                                column.setCenter
                                        }"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        {{ column.tableHeadTitle }}
                                    </div>
                                </ng-container>
                            </ng-container>

                            <!-- Heading Icon -->

                            <ng-template #headingIcon>
                                <ng-container
                                    *ngIf="
                                        column.ngTemplate
                                            | tableHeadingConditions
                                                : {
                                                      conditionType:
                                                          'heading-icon',
                                                      headIconStyle:
                                                          column?.headIconStyle,
                                                      title: column.title
                                                  };
                                        else heading
                                    "
                                >
                                    <div class="icons">
                                        <svg-icon
                                            [svgStyle]="{
                                                'width.px':
                                                    column.headIconStyle.width,
                                                'height.px':
                                                    column.headIconStyle.height
                                            }"
                                            [src]="
                                                column.headIconStyle.imgPath ??
                                                ''
                                            "
                                        ></svg-icon>
                                    </div>
                                </ng-container>
                            </ng-template>

                            <!-- Heading -->

                            <ng-template #heading>
                                <ng-container
                                    *ngIf="
                                        column.ngTemplate
                                            | tableHeadingConditions
                                                : {
                                                      conditionType: 'heading',
                                                      title: column.title
                                                  };
                                        else specialHeading
                                    "
                                >
                                    <div
                                        class="th-title-small"
                                        [ngStyle]="{
                                            'width.px':
                                                column.resizable && !locked
                                                    ? column.width - 55
                                                    : column.width - 20,
                                            'min-width.px': resizing
                                                ? column.width
                                                : 'unset'
                                        }"
                                        [ngClass]="{
                                            'sort-active':
                                                column.sortDirection !== '' &&
                                                column.sortDirection,
                                            'th-title-locked-cursor': locked,
                                            'set-center-th-title':
                                                column.setCenter
                                        }"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        {{ column.title }}
                                    </div>
                                </ng-container>
                            </ng-template>

                            <!-- Special Heading -->

                            <ng-template #specialHeading>
                                <ng-container
                                    *ngIf="
                                        column.ngTemplate
                                            | tableHeadingConditions
                                                : {
                                                      conditionType:
                                                          'special-heading'
                                                  };
                                        else swTwHeading
                                    "
                                >
                                    <div
                                        class="special-title"
                                        [ngStyle]="{
                                            'min-width.px':
                                                column.resizable && !locked
                                                    ? column.width - 100
                                                    : column.width
                                        }"
                                        [ngClass]="{
                                            'sort-active':
                                                column.sortDirection !== '' &&
                                                column.sortDirection,
                                            'th-title-locked-cursor': locked
                                        }"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <ng-container
                                            *ngFor="
                                                let title of column.headTitle
                                            "
                                        >
                                            <div
                                                class="title"
                                                [ngStyle]="{
                                                    'width.px': title.width
                                                }"
                                            >
                                                {{ title.title }}
                                            </div>
                                        </ng-container>
                                    </div>
                                </ng-container>
                            </ng-template>

                            <!-- Sw Tw Heading -->

                            <ng-template #swTwHeading>
                                <ng-container
                                    *ngIf="
                                        column.ngTemplate
                                            | tableHeadingConditions
                                                : {
                                                      conditionType:
                                                          'sw-tw-heading'
                                                  };
                                        else citation
                                    "
                                >
                                    <div
                                        class="sw-tw-title-container"
                                        [ngClass]="{
                                            'sort-active':
                                                column.sortDirection !== '' &&
                                                column.sortDirection,
                                            'th-title-locked-cursor': locked
                                        }"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <div class="sw-tw-title">SW</div>
                                        <div class="sw-tw-title">TW</div>
                                        <div class="sw-tw-title">TOTAL</div>
                                    </div>
                                </ng-container>
                            </ng-template>

                            <!-- Citation -->

                            <ng-template #citation>
                                <ng-container
                                    *ngIf="
                                        column.ngTemplate
                                            | tableHeadingConditions
                                                : {
                                                      conditionType: 'citation'
                                                  };
                                        else accidentCitationIcons
                                    "
                                >
                                    <!-- Citation Icons -->

                                    <div
                                        class="citation-container"
                                        [ngClass]="{
                                            'sort-active':
                                                column.sortDirection !== '' &&
                                                column.sortDirection,
                                            'th-title-locked-cursor': locked
                                        }"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <div class="citation-wrapper">
                                            <div class="icon-container">
                                                <svg-icon
                                                    [svgStyle]="{
                                                        'width.px': 18,
                                                        'height.px': 18
                                                    }"
                                                    [src]="
                                                        'assets/svg/truckassist-table/cop-head-icon.svg'
                                                    "
                                                ></svg-icon>
                                            </div>

                                            <div class="icon-container">
                                                <svg-icon
                                                    [svgStyle]="{
                                                        'width.px': 18,
                                                        'height.px': 18
                                                    }"
                                                    [src]="
                                                        'assets/svg/truckassist-table/oss-head-icon.svg'
                                                    "
                                                ></svg-icon>
                                            </div>

                                            <div class="icon-container">
                                                <svg-icon
                                                    [svgStyle]="{
                                                        'width.px': 18,
                                                        'height.px': 18
                                                    }"
                                                    [src]="
                                                        'assets/svg/truckassist-table/money-head-icon.svg'
                                                    "
                                                ></svg-icon>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-template>

                            <!-- Accident Citation Icons -->

                            <ng-template #accidentCitationIcons>
                                <ng-container
                                    *ngIf="
                                        column.ngTemplate
                                            | tableHeadingConditions
                                                : {
                                                      conditionType:
                                                          'citation-icons'
                                                  };
                                        else icons
                                    "
                                >
                                    <div
                                        class="accident-citation-container"
                                        [ngClass]="{
                                            'sort-active':
                                                column.sortDirection !== '' &&
                                                column.sortDirection,
                                            'th-title-locked-cursor': locked
                                        }"
                                        (click)="sortHeaderClick(column)"
                                    >
                                        <div class="accident-citation-wrapper">
                                            <div
                                                class="icon-container has-margin"
                                            >
                                                <svg-icon
                                                    [svgStyle]="{
                                                        'width.px': 18,
                                                        'height.px': 18
                                                    }"
                                                    [src]="
                                                        'assets/svg/truckassist-table/accident-crash-vehicles-icon.svg'
                                                    "
                                                ></svg-icon>
                                            </div>

                                            <div
                                                class="icon-container has-margin"
                                            >
                                                <svg-icon
                                                    [svgStyle]="{
                                                        'width.px': 18,
                                                        'height.px': 18
                                                    }"
                                                    [src]="
                                                        'assets/svg/truckassist-table/accident-injured-icon.svg'
                                                    "
                                                ></svg-icon>
                                            </div>

                                            <div
                                                class="icon-container has-margin"
                                            >
                                                <svg-icon
                                                    [svgStyle]="{
                                                        'width.px': 18,
                                                        'height.px': 18
                                                    }"
                                                    [src]="
                                                        'assets/svg/truckassist-table/accident-rip-icon.svg'
                                                    "
                                                ></svg-icon>
                                            </div>

                                            <div
                                                class="icon-container has-margin"
                                            >
                                                <svg-icon
                                                    [svgStyle]="{
                                                        'width.px': 18,
                                                        'height.px': 18
                                                    }"
                                                    [src]="
                                                        'assets/svg/truckassist-table/accident-hook-icon.svg'
                                                    "
                                                ></svg-icon>
                                            </div>

                                            <div class="icon-container">
                                                <svg-icon
                                                    [svgStyle]="{
                                                        'width.px': 18,
                                                        'height.px': 18
                                                    }"
                                                    [src]="
                                                        'assets/svg/truckassist-table/accident-hazmat-icon.svg'
                                                    "
                                                ></svg-icon>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-template>

                            <!-- Icons -->

                            <ng-template #icons>
                                <ng-container
                                    *ngIf="
                                        column.ngTemplate
                                            | tableHeadingConditions
                                                : {
                                                      conditionType: 'icons',
                                                      headIconStyle:
                                                          column.headIconStyle,
                                                      title: column.title
                                                  };
                                        else sort
                                    "
                                >
                                    <div
                                        class="icons"
                                        [ngClass]="{
                                            'icon-hover':
                                                column.ngTemplate !== 'hire'
                                        }"
                                    >
                                        <svg-icon
                                            [svgStyle]="{
                                                'width.px':
                                                    column.headIconStyle.width,
                                                'height.px':
                                                    column.headIconStyle.height
                                            }"
                                            [src]="
                                                column.headIconStyle.imgPath ??
                                                ''
                                            "
                                        ></svg-icon>
                                    </div>
                                </ng-container>
                            </ng-template>

                            <!-- Sort -->

                            <ng-template #sort>
                                <ng-container
                                    *ngIf="
                                        ''
                                            | tableHeadingConditions
                                                : {
                                                      conditionType: 'sort',
                                                      sortable: column.sortable,
                                                      sortDirection:
                                                          column.sortDirection,
                                                      locked,
                                                      viewDataLength:
                                                          viewData.length
                                                  };
                                        else pin
                                    "
                                >
                                    <div class="sort-indicator-container">
                                        <svg-icon
                                            [svgStyle]="{
                                                'width.px': 12,
                                                'height.px': 12
                                            }"
                                            [src]="
                                                column.sortDirection === 'asc'
                                                    ? 'assets/svg/truckassist-table/ascending-sort.svg'
                                                    : 'assets/svg/truckassist-table/descending-sort.svg'
                                            "
                                        ></svg-icon>
                                    </div>
                                </ng-container>
                            </ng-template>

                            <!-- Pin  -->

                            <ng-template #pin>
                                <ng-container
                                    *ngIf="
                                        !locked &&
                                        !resizing &&
                                        column.ngTemplate !== 'checkbox'
                                    "
                                >
                                    <div class="pin-remove-container">
                                        <!-- Remove -->

                                        <ng-container *ngIf="!reordering">
                                            <svg-icon
                                                class="x-icon"
                                                [svgStyle]="{
                                                    'width.px': 10,
                                                    'height.px': 10
                                                }"
                                                [src]="
                                                    'assets/svg/truckassist-table/x.svg'
                                                "
                                                (click)="onRemoveColumn(column)"
                                            ></svg-icon>
                                        </ng-container>

                                        <!-- Pin -->

                                        <svg-icon
                                            class="pin-icon"
                                            [svgStyle]="{
                                                'width.px': 9,
                                                'height.px': 12
                                            }"
                                            [src]="
                                                'assets/svg/truckassist-table/pin.svg'
                                            "
                                            [ngClass]="{
                                                pined: column.isPined,
                                                hide:
                                                    !column.isPined &&
                                                    reordering
                                            }"
                                            (click)="onPinColumn(column)"
                                        ></svg-icon>
                                    </div>
                                </ng-container>
                            </ng-template>
                        </th>
                    </ng-container>
                </div>
            </tr>

            <!-- Border -->

            <app-table-head-border
                [isBorderLeft]="false"
                [isDisplayBorder]="showBorder"
            >
            </app-table-head-border>

            <!-- Actions -->

            <tr
                class="tr actions-columns-container align-items-end"
                [ngClass]="{
                    'tr-height-2':
                        tableData[0].gridNameTitle | tableDoubleHeadingHeight
                }"
            >
                <ng-container
                    *ngFor="let column of actionColumns; let i = index"
                >
                    <th
                        class="d-flex align-items-center justify-content-center"
                        [ngStyle]="{
                            width: column.isAction
                                ? column.width + 'px'
                                : '0px',
                            'min-width.px': column?.minWidth
                                ? column.minWidth
                                : 'unset',
                            display: column.isAction ? 'flex' : 'none'
                        }"
                        [ngClass]="{
                            'column-unlocket': !locked
                        }"
                    >
                        <ng-container
                            *ngIf="column.isAction && column?.headIconStyle"
                        >
                            <div class="icons">
                                <svg-icon
                                    [svgStyle]="{
                                        'width.px': column.headIconStyle.width,
                                        'height.px': column.headIconStyle.height
                                    }"
                                    [src]="column.headIconStyle.imgPath ?? ''"
                                ></svg-icon>
                            </div>
                        </ng-container>
                    </th>
                </ng-container>
            </tr>
        </thead>
    </table>
</ng-container>

<!-- Select Rows Popover -->

<ng-template #optionsPopover let-data="data" data-toggle="popover">
    <div class="select-options-container">
        <!-- Select All -->

        <ng-container *ngIf="!mySelection.length; else selectionLength">
            <div class="select-option" (click)="onSelect('select')">
                <div class="text">Select All</div>

                <div class="count">{{ selectableRow.length }}</div>
            </div>
        </ng-container>

        <!-- Deselect All -->

        <ng-template #selectionLength>
            <ng-container
                *ngIf="
                    mySelection.length === selectableRow.length;
                    else selectionLengthAndMySelectionLength
                "
            >
                <div class="select-option" (click)="onSelect('deselect')">
                    <div class="text">Deselect All</div>

                    <div class="count">{{ selectableRow.length }}</div>
                </div>
            </ng-container>
        </ng-template>

        <!-- Select Remaining Or Clear Selected -->

        <ng-template #selectionLengthAndMySelectionLength>
            <ng-container
                *ngIf="
                    mySelection.length &&
                    mySelection.length < selectableRow.length
                "
            >
                <div>
                    <div class="select-option" (click)="onSelect('select')">
                        <div class="text">Select Remaining</div>

                        <div class="count">
                            {{ selectableRow.length - mySelection.length }}
                        </div>
                    </div>

                    <div
                        class="select-option clear-selected"
                        (click)="onSelect('deselect')"
                    >
                        <div class="text">Clear Selected</div>

                        <div class="count">{{ mySelection.length }}</div>
                    </div>
                </div>
            </ng-container>
        </ng-template>
    </div>
</ng-template>
