<div
    class="d-flex flex-column justify-content-center comments-search-container"
>
    <div class="search-container">
        @if (isDisplaySearch) {
            <app-ta-search-v2
                [isDetailsSearchLayout]="true"
                [placeHolderText]="'Comment'"
                (searchValueEmitter)="onHandleSearchValue($event)"
            ></app-ta-search-v2>
        }
    </div>

    <div class="d-flex flex-column justify-content-center comments-container">
        @if (!isHeaderHidden) {
            @let commentsDataCount = commentsData?.length;
            <div
                class="d-flex align-items-center justify-content-between comments-container-header"
                [ngClass]="{ disabled: commentsDataCount === 1 }"
            >
                @if (lettersToHighlight) {
                    <p class="m-0 ta-font-bold">
                        {{ commentsDataCount }}
                        {{ commentsDataCount === 1 ? 'RESULT' : 'RESULTS' }}
                    </p>
                } @else {
                    <p class="m-0 ta-font-bold">SORT BY</p>
                }
                <div class="d-flex align-items-center">
                    <span class="ta-font-medium"> Date </span>

                    <svg-icon
                        class="icon"
                        [src]="
                            sortDirection === eSortDirection.DSC
                                ? commentsSearchSvgRoutes.arrowUpSortRoute
                                : commentsSearchSvgRoutes.arrowDownSortRoute
                        "
                        (click)="handleSortClick()"
                    ></svg-icon>
                </div>
            </div>
        }

        @for (comment of commentsData; let i = $index; track i) {
            <app-ta-comment
                [isDetailsCommentLayout]="true"
                [commentData]="comment"
                [commentIndex]="i"
                [isMe]="comment.isMe"
                [commentHighlight]="lettersToHighlight"
                (onAction)="onCommentAction($event)"
            ></app-ta-comment>
        }
    </div>
</div>
