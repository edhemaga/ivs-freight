<div
    class="user-icon d-flex justify-content-center align-items-center"
    app-ta-autoclose-popover
    [customClass]="'filterpopovermain'"
    [placement]="'bottom-left'"
    autoClose="outside"
    (closeFilter)="onFilterClose()"
    (openFilter)="onFilterShown()"
    [ngClass]="{
        'active-options': activeFilter,
        'clear-colors': hoverClose,
        'filter-active-colors':
            filterActiveArray.length > 0 ||
            filterActiveTime !== '' ||
            rangeValue > 0 ||
            totalFiltersNum > 0 ||
            longValueSet !== 0 ||
            maxValueSet !== maxValueRange ||
            minValueSet !== minValueRange ||
            destLongValSet ||
            singleFormActive
    }"
    (mouseenter)="
        filterActiveArray.length > 0 ||
        filterActiveTime !== '' ||
        rangeValue > 0 ||
        totalFiltersNum > 0 ||
        longValueSet !== 0 ||
        maxValueSet !== maxValueRange ||
        minValueSet !== minValueRange ||
        destLongValSet ||
        singleFormActive
            ? (hoverFilter = true)
            : (hoverFilter = false)
    "
    (mouseleave)="hoverFilter = false"
>
    <div
        mainContent
        ngbTooltip
        mainTooltip="{{
            !hoverClose
                ? totalFiltersNum > 0
                    ? activeFilter
                        ? 'Close Filter'
                        : filterTitle
                    : activeFilter
                    ? 'Close Filter'
                    : filterTitle
                : 'Remove Filter'
        }}"
        position="bottom"
        tooltipBackground="{{
            activeFilter ? '#B7B7B7' : !hoverClose ? '#2F2F2F' : '#2F2F2F'
        }}"
        tooltipColor="{{ activeFilter ? '#2F2F2F' : '#FFFFFF' }}"
        tooltipTextAlign="center"
        class="main-icon-holder d-flex justify-content-center align-items-center"
    >
        <div>
            <svg-icon [src]="icon | taSvg : 'common'"></svg-icon>
        </div>
        <ng-container
            *ngIf="filterActiveArray.length > 0 || totalFiltersNum > 0"
        >
            <div
                class="filters-selected-value-holder justify-content-center align-items-center ta-font-extra-bold"
                [ngClass]="{
                    'd-flex':
                        !hoverFilter &&
                        (filterActiveArray.length > 0 ||
                            filterActiveTime !== '' ||
                            rangeValue > 0 ||
                            totalFiltersNum > 0 ||
                            longValueSet !== 0 ||
                            maxValueSet !== maxValueRange ||
                            minValueSet !== minValueRange ||
                            singleFormActive ||
                            destLongValSet),
                    'd-none': hoverFilter
                }"
            >
                {{
                    filterActiveArray.length > 0
                        ? filterActiveArray.length
                        : totalFiltersNum
                }}
            </div>
        </ng-container>
        <ng-container
            *ngIf="
                (filterActiveTime !== '' ||
                    longValueSet !== 0 ||
                    singleFormActive ||
                    destLongValSet ||
                    activeFormNum > 0) &&
                !hoverClose
            "
        >
            <div
                class="filters-selected-value-holder justify-content-center align-items-center conf-icon-holder"
                [ngClass]="{
                    'd-flex':
                        !hoverFilter &&
                        (filterActiveArray.length > 0 ||
                            filterActiveTime !== '' ||
                            rangeValue > 0 ||
                            totalFiltersNum > 0 ||
                            longValueSet !== 0 ||
                            maxValueSet !== maxValueRange ||
                            minValueSet !== minValueRange ||
                            destLongValSet ||
                            singleFormActive),
                    'd-none': hoverFilter
                }"
            >
                <svg-icon src="assets/svg/common/ic_confirm.svg"></svg-icon>
            </div>
        </ng-container>
        <ng-container
            *ngIf="
                filterActiveArray.length > 0 ||
                selectedTimeValue != '' ||
                totalFiltersNum > 0 ||
                rangeValue > 0 ||
                moneyFilterStatus ||
                longVal != 0 ||
                maxValueSet != maxValueRange ||
                destLongValSet ||
                minValueSet != minValueRange
            "
        >
            <div
                class="filters-selected-value-holder justify-content-center align-items-center clear-filter-icon"
                (mouseenter)="hoverClose = true"
                (mouseleave)="hoverClose = false"
                (click)="clearAll($event, true)"
                [ngClass]="{
                    'd-none': !activeFilter && !hoverFilter,
                    'd-flex': activeFilter && hoverFilter
                }"
            >
                <svg-icon
                    src="assets/svg/common/ic_cancel_violation.svg"
                ></svg-icon>
            </div>
        </ng-container>
    </div>
    <div popoverContent class="main-popover-body">
        <div
            *ngIf="defFilterHolder"
            class="filter-holder"
            [class.state-filter]="type == 'stateFilter'"
            [class.department-filter]="noLeftIcon"
            [class.status-filter]="type == 'statusFilter'"
            [class.pm-filter]="leftSideIcon"
            [class.truck-icon-holder]="largeLeftIcon"
        >
            <div class="filter-header filter-text-part">
                <div class="user-title-text counter-padd-title">
                    {{ filterTitle | uppercase }}

                    <ng-container
                        *ngIf="type === 'userFilter' && selectedUser?.length"
                    >
                        <div class="user-filter-box ms-1">
                            {{ selectedUser.length }}
                        </div>
                    </ng-container>
                </div>

                <ng-container
                    *ngIf="
                        type != 'stateFilter' &&
                        type !== 'statusFilter' &&
                        type !== 'userFilter'
                    "
                >
                    <div class="user-filter-box">
                        {{ selectedUser.length }}
                    </div>
                </ng-container>
                <ng-container
                    *ngIf="
                        type === 'categoryRepairFilter' ||
                            type === 'pmFilter' ||
                            type === 'truckFilter' ||
                            type === 'trailerFilter' ||
                            type === 'statusFilter' ||
                            type === 'userFilter';
                        else truckFilter
                    "
                >
                    <div
                        (click)="sortItems()"
                        class="user-title-text sort-text ta-font-medium"
                    >
                        {{
                            type === 'statusFilter' || type === 'userFilter'
                                ? 'Count'
                                : 'Sort Text'
                        }}
                        <svg-icon
                            class="sort-arrow ms-1"
                            [class.rotate]="!isAscendingSortOrder"
                            src="/assets/svg/common/sortArrow_filter.svg"
                            [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                        ></svg-icon>
                    </div>
                </ng-container>
                <ng-template #truckFilter>
                    <ng-container
                        *ngIf="
                            (type === 'truckFilter' ||
                                type === 'trailerFilter') &&
                                isRepairFilter;
                            else stateFilter
                        "
                    >
                        <div
                            (click)="sortItems()"
                            class="user-title-text sort-text"
                        >
                            Count
                            <svg-icon
                                src="/assets/svg/common/sortArrow_filter.svg"
                            ></svg-icon>
                        </div>
                    </ng-container>
                </ng-template>
                <ng-template #stateFilter>
                    <ng-container
                        *ngIf="type == 'stateFilter'; else searchState"
                    >
                        <div class="user-filter-box">
                            {{
                                canadaSelectedStates.length +
                                    usaSelectedStates.length
                            }}
                        </div>
                    </ng-container>
                </ng-template>
                <ng-template #searchState>
                    <ng-container *ngIf="!searchState">
                        <div class="search-icon-holder" (click)="showSearch()">
                            <svg-icon
                                src="assets/svg/common/ic_search.svg"
                            ></svg-icon>
                        </div>
                    </ng-container>
                </ng-template>
            </div>

            <ng-container *ngIf="type === 'userFilter'">
                <div class="search-input-header" [formGroup]="searchForm">
                    <app-ta-input
                        class="input-form-holder"
                        formControlName="search"
                        [inputConfig]="{
                            name: 'search',
                            type: 'text',
                            label: 'Search ' + filterTitle.split(' ')[0] + ' ',
                            placeholderIcon: 'ic_search',
                            customClass: 'filter-search-input',
                            placeholderInsteadOfLabel: true,
                            blackInput: true
                        }"
                    ></app-ta-input>
                </div>
            </ng-container>

            <ng-container
                *ngIf="
                    (type === 'truckFilter' || type === 'trailerFilter') &&
                    isRepairFilter
                "
            >
                <div
                    class="search-input-header"
                    [class.hidenClass]="
                        !expandSearch &&
                        !(
                            (type === 'truckFilter' ||
                                type === 'trailerFilter') &&
                            isRepairFilter
                        )
                    "
                    [formGroup]="searchForm"
                >
                    <app-ta-input
                        class="input-form-holder"
                        formControlName="search"
                        [inputConfig]="{
                            name: 'search',
                            type: 'text',
                            label: 'Search ' + filterTitle.split(' ')[0] + ' ',
                            placeholderIcon: 'ic_search',
                            customClass: 'filter-search-input',
                            placeholderInsteadOfLabel: true,
                            blackInput: true
                        }"
                    ></app-ta-input>
                    <ng-container
                        *ngIf="
                            !searchInputValue.length &&
                            !(
                                type === 'truckFilter' ||
                                type === 'trailerFilter'
                            ) &&
                            !isRepairFilter
                        "
                    >
                        <div
                            ngbTooltip
                            mainTooltip="Close"
                            position="top"
                            tooltipBackground="#6C6C6C"
                            (click)="showSearch('hide')"
                            class="close-input-search"
                        >
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </ng-container>
                </div>
            </ng-container>

            <ng-container *ngIf="type !== 'userFilter'; else marginTemplate">
                <div class="border-filter"></div>
            </ng-container>

            <ng-template #marginTemplate>
                <div class="mb-1"></div>
            </ng-template>

            <div class="selected-user-holder" *ngIf="type != 'stateFilter'">
                <div
                    *ngFor="let item of selectedUser; let indx = index"
                    class="user-main-holder"
                    [@inOutAnimation]="'in'"
                    [@showAnimation]="!!activeFilter"
                    (click)="removeFromSelectedUser(item, indx)"
                >
                    <div class="user-profile-img" *ngIf="type == 'userFilter'">
                        <ng-container *ngIf="!item.avatar; else avatarTemplate">
                            <app-ta-profile-images
                                [indx]="indx"
                                [size]="'small'"
                                [type]="'user'"
                                [name]="item.name"
                            ></app-ta-profile-images>
                        </ng-container>

                        <ng-template #avatarTemplate>
                            <div
                                class="user_avatar"
                                style.background-image="url('{{
                                    item.avatar.url
                                }}')"
                            ></div>
                        </ng-template>
                    </div>
                    <div
                        class="user-profile-img"
                        *ngIf="type == 'driverFilter'"
                    >
                        <app-ta-profile-images
                            *ngIf="!item.avatar"
                            [indx]="indx"
                            [size]="'small'"
                            [type]="'driver'"
                            [name]="item.name"
                        >
                        </app-ta-profile-images>
                        <div
                            class="user_avatar driver_avatar"
                            *ngIf="item.avatar"
                            [ngStyle]="
                                item.avatar && {
                                    'background-image':
                                        'url(' + item.avatar + ')'
                                }
                            "
                        ></div>
                    </div>
                    <div
                        class="user-profile-img"
                        *ngIf="type == 'statusFilter'"
                    >
                        <div
                            class="status-circle"
                            [ngStyle]="
                                loadStatusEnum[item.id]
                                    | dropdownLoadStatusColor : true
                            "
                        ></div>
                    </div>
                    <div
                        class="user-profile-img selected-filter-icon"
                        *ngIf="leftSideIcon"
                    >
                        <ng-container *ngIf="type !== 'labelFilter'">
                            <svg-icon
                                src="{{
                                    item.activeIcon
                                        ? item.activeIcon
                                        : item.icon
                                }}"
                            ></svg-icon>
                        </ng-container>
                        <ng-container *ngIf="type === 'labelFilter'">
                            <svg
                                *ngIf="type == 'labelFilter'"
                                xmlns="http://www.w3.org/2000/svg"
                                width="18"
                                height="18"
                                viewBox="0 0 18 18"
                            >
                                <g id="Label" transform="translate(-1084 -362)">
                                    <rect
                                        id="Rectangle_63447"
                                        data-name="Rectangle 63447"
                                        width="18"
                                        height="18"
                                        transform="translate(1084 362)"
                                        opacity="0"
                                    />
                                    <path
                                        id="tag"
                                        d="M0,7.977V1.519A1.519,1.519,0,0,1,1.519,0H7.977A1.519,1.519,0,0,1,9.051.445l6.7,6.7a1.519,1.519,0,0,1,0,2.148L9.3,15.755a1.519,1.519,0,0,1-2.148,0l-6.7-6.7A1.519,1.519,0,0,1,0,7.977ZM3.544,2.025A1.519,1.519,0,1,0,5.063,3.544,1.519,1.519,0,0,0,3.544,2.025Z"
                                        transform="translate(1084.9 362.9)"
                                        [attr.fill]="item.color"
                                    />
                                </g>
                            </svg>
                        </ng-container>
                    </div>
                    <div class="selected-user-frame">
                        <div
                            class="selected-name-text"
                            [class.text-uppercase]="type === 'statusFilter'"
                        >
                            <span> {{ item.name }}</span>
                            <ng-container *ngIf="item.logo">
                                <div class="select-item-logo">
                                    <ng-container
                                        *ngIf="
                                            type === 'trailerFilter';
                                            else truckLogo
                                        "
                                    >
                                        <svg-icon
                                            [src]="item.logo"
                                            class="trailers"
                                            [ngClass]="
                                                item.name
                                                    | filterTrailerColorPipe
                                            "
                                        ></svg-icon>
                                    </ng-container>
                                    <ng-template #truckLogo>
                                        <svg-icon
                                            [src]="item.logo"
                                            class="truck-logo-icon"
                                        ></svg-icon>
                                    </ng-template>
                                </div>
                            </ng-container>
                        </div>
                        <ng-container *ngIf="item?.count; else noCount">
                            <span
                                class="count-holder align-items-center justify-content-center activeCount"
                            >
                                {{ item.count }}
                            </span>
                        </ng-container>

                        <ng-template #noCount>
                            <ng-container *ngIf="!item.counter; else noCounter">
                                <div class="selected-icon">
                                    <svg-icon
                                        src="assets/svg/common/ic_confirm.svg"
                                    ></svg-icon>
                                </div>
                            </ng-container>
                            <ng-template #noCounter>
                                <div class="counter-holder activeCounter">
                                    2
                                </div>
                            </ng-template>
                        </ng-template>
                        <div
                            (click)="removeFromSelectedUser(item, indx)"
                            class="icon-delete"
                            [class.counterMargin]="item.counter"
                        >
                            <div class="icon-delete-hold"></div>
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                </div>
            </div>
            <div class="selected-user-holder" *ngIf="type == 'stateFilter'">
                <div
                    class="states-selected usa-selected-holder"
                    *ngIf="usaSelectedStates.length > 0"
                    [@stateHeader]="'in'"
                >
                    <div class="state-name-holder">UNITED STATES</div>
                    <div
                        *ngFor="let item of usaSelectedStates; let indx = index"
                        class="user-main-holder holder-bottom-margin"
                        [@inOutAnimation]="'in'"
                        [@showAnimation]="!!activeFilter"
                        (click)="removeFromSelectedUser(item, indx)"
                    >
                        <div
                            class="user-profile-img active state-border-radius"
                        >
                            <div class="state-short-holder">
                                {{ item.stateShortName }}
                            </div>
                        </div>
                        <div class="selected-user-frame">
                            <div class="selected-name-text">
                                <span> {{ item.stateName }} </span>
                            </div>
                            <div class="selected-icon">
                                <svg-icon
                                    src="assets/svg/common/ic_confirm.svg"
                                ></svg-icon>
                            </div>
                            <div class="icon-delete">
                                <svg-icon
                                    src="assets/svg/truckassist-table/x.svg"
                                ></svg-icon>
                            </div>
                        </div>
                    </div>
                </div>
                <div
                    class="states-selected"
                    *ngIf="canadaSelectedStates.length > 0"
                    [@stateHeader]="'in'"
                >
                    <div class="state-name-holder">CANADA</div>
                    <div
                        *ngFor="
                            let item of canadaSelectedStates;
                            let indx = index
                        "
                        class="user-main-holder"
                        (click)="removeFromSelectedUser(item, indx, 'canada')"
                    >
                        <div class="user-profile-img active">
                            <div class="state-short-holder">
                                {{ item.stateShortName }}
                            </div>
                        </div>
                        <div class="selected-user-frame">
                            <div class="selected-name-text">
                                <span> {{ item.stateName }} </span>
                            </div>
                            <div class="selected-icon">
                                <svg-icon
                                    src="assets/svg/common/ic_confirm.svg"
                                ></svg-icon>
                            </div>
                            <div class="icon-delete">
                                <svg-icon
                                    src="assets/svg/truckassist-table/x.svg"
                                ></svg-icon>
                            </div>
                        </div>
                    </div>
                </div>
                <div
                    *ngIf="
                        canadaSelectedStates.length > 0 ||
                        usaSelectedStates.length > 0
                    "
                    class="border-filter border-thrird-margin"
                ></div>
            </div>
            <div
                *ngIf="selectedUser.length > 0 && unselectedVisibleCount"
                class="border-filter border-thrird-margin"
            ></div>
            <div class="user-holder" *ngIf="type == 'userFilter'">
                <ng-container
                    *ngFor="
                        let item of unselectedUser;
                        let indx = index;
                        trackBy: trackByIdentity
                    "
                >
                    <div class="user-frame-holder">
                        <ng-container *ngIf="!item.hidden && !item.isSelected">
                            <div
                                [@inOutAnimation]="'in'"
                                [@showAnimation]="!!activeFilter"
                                (click)="addToSelectedUser(item, indx)"
                                class="user-main-holder"
                            >
                                <div class="user-profile-img">
                                    <ng-container
                                        *ngIf="
                                            !item.avatar;
                                            else avatarTemplate
                                        "
                                    >
                                        <app-ta-profile-images
                                            [indx]="indx"
                                            [size]="'small'"
                                            [type]="'user'"
                                            [name]="item.name"
                                        >
                                        </app-ta-profile-images>
                                    </ng-container>

                                    <ng-template #avatarTemplate>
                                        <div
                                            class="user_avatar"
                                            style.background-image="url('{{
                                                item.avatar.url
                                            }}')"
                                        ></div>
                                    </ng-template>
                                </div>
                                <div class="user-frame">
                                    <div class="selected-name-text">
                                        <span> {{ item.name }} </span>
                                    </div>

                                    <ng-container *ngIf="item?.count">
                                        <span
                                            class="count-holder align-items-center justify-content-center"
                                        >
                                            {{ item.count }}
                                        </span>
                                    </ng-container>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </ng-container>
            </div>
            <div class="user-holder" *ngIf="type == 'departmentFilter'">
                <div
                    *ngFor="let item of departmentArray; let indx = index"
                    class="user-frame-holder"
                >
                    <div
                        [@inOutAnimation]="'in'"
                        [@showAnimation]="!!activeFilter"
                        *ngIf="!item.hidden && !item.isSelected"
                        (click)="addToSelectedUser(item, indx)"
                        class="user-main-holder"
                    >
                        <div class="user-frame">
                            <div class="selected-name-text">
                                <div class="selected-name-text">
                                    <span> {{ item.name }} </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="user-holder" *ngIf="type == 'labelFilter'">
                <div
                    *ngFor="let item of labelArray; let indx = index"
                    class="user-frame-holder"
                >
                    <div
                        [@inOutAnimation]="'in'"
                        [@showAnimation]="!!activeFilter"
                        *ngIf="!item.hidden && !item.isSelected"
                        (click)="addToSelectedUser(item, indx)"
                        class="user-main-holder"
                    >
                        <div class="user-profile-img labelIcon">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="18"
                                height="18"
                                viewBox="0 0 18 18"
                            >
                                <g id="Label" transform="translate(-1084 -362)">
                                    <rect
                                        id="Rectangle_63447"
                                        data-name="Rectangle 63447"
                                        width="18"
                                        height="18"
                                        transform="translate(1084 362)"
                                        opacity="0"
                                    />
                                    <path
                                        id="tag"
                                        d="M0,7.977V1.519A1.519,1.519,0,0,1,1.519,0H7.977A1.519,1.519,0,0,1,9.051.445l6.7,6.7a1.519,1.519,0,0,1,0,2.148L9.3,15.755a1.519,1.519,0,0,1-2.148,0l-6.7-6.7A1.519,1.519,0,0,1,0,7.977ZM3.544,2.025A1.519,1.519,0,1,0,5.063,3.544,1.519,1.519,0,0,0,3.544,2.025Z"
                                        transform="translate(1084.9 362.9)"
                                        [attr.fill]="item.color"
                                    />
                                </g>
                            </svg>
                        </div>
                        <div class="user-frame">
                            <div class="selected-name-text">
                                <span> {{ item.name }} </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="user-holder" *ngIf="type == 'statusFilter'">
                <div class="status-data-main-holder">
                    <ng-container
                        *ngFor="
                            let item of loadStatusOptionsArray;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@showAnimation]="!!activeFilter"
                                    [@inOutAnimation]="'in'"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder"
                                >
                                    <div class="user-profile-img">
                                        <div
                                            class="status-circle"
                                            [ngStyle]="
                                                loadStatusEnum[item.id]
                                                    | dropdownLoadStatusColor
                                                        : true
                                            "
                                        ></div>
                                    </div>
                                    <div class="user-frame">
                                        <div
                                            class="selected-name-text text-uppercase"
                                        >
                                            <span> {{ item.name }} </span>
                                        </div>

                                        <ng-container *ngIf="item?.count">
                                            <span
                                                class="count-holder align-items-center justify-content-center"
                                            >
                                                {{ item.count }}
                                            </span>
                                        </ng-container>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </div>
            <ng-container *ngIf="type === 'pmFilter' && pmFilterArray?.length">
                <div class="user-holder">
                    <ng-container
                        *ngFor="
                            let item of pmFilterArray;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    [@showAnimation]="!!activeFilter"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder"
                                >
                                    <div class="user-profile-img">
                                        <svg-icon
                                            src="{{ item.icon }}"
                                        ></svg-icon>
                                    </div>
                                    <div class="user-frame">
                                        <div class="selected-name-text">
                                            <span> {{ item.name }} </span>
                                        </div>
                                        <span
                                            class="count-holder align-items-center justify-content-center d-flex"
                                        >
                                            {{ item.count }}
                                        </span>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
            <ng-container *ngIf="type === 'categoryFuelFilter'">
                <div class="user-holder">
                    <ng-container
                        *ngFor="
                            let item of categoryFuelArray;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    [@showAnimation]="!!activeFilter"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder"
                                >
                                    <div class="user-frame">
                                        <div class="selected-name-text">
                                            <span> {{ item.name }} </span>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
            <ng-container *ngIf="type === 'categoryRepairFilter'">
                <div class="user-holder" *ngIf="type == 'categoryRepairFilter'">
                    <ng-container
                        *ngFor="
                            let item of categoryRepairArray;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div
                            class="user-frame-holder"
                            [@showAnimation]="!!activeFilter"
                        >
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder"
                                >
                                    <div class="user-profile-img">
                                        <svg-icon [src]="item?.icon"></svg-icon>
                                    </div>
                                    <div class="user-frame">
                                        <div class="selected-name-text">
                                            <span> {{ item?.name }} </span>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
            <ng-container *ngIf="type === 'truckFilter'">
                <div class="user-holder">
                    <ng-container
                        *ngFor="
                            let item of truckArray;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    [@showAnimation]="!!activeFilter"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder"
                                >
                                    <div class="user-frame">
                                        <div
                                            class="selected-name-text justify-content-between"
                                        >
                                            <div>
                                                <span>
                                                    {{ item.truckType?.name }}
                                                </span>
                                            </div>
                                            <ng-container *ngIf="item.logo">
                                                <div class="truck-icon">
                                                    <svg-icon
                                                        [src]="item.logo"
                                                    ></svg-icon>
                                                </div>
                                            </ng-container>
                                        </div>
                                        <ng-container>
                                            <span
                                                class="count-holder align-items-center justify-content-center d-flex"
                                            >
                                                {{ item.count }}
                                            </span>
                                        </ng-container>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
            <ng-container *ngIf="type === 'trailerFilter'">
                <div class="user-holder">
                    <ng-container
                        *ngFor="
                            let item of trailerArray;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    [@showAnimation]="!!activeFilter"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder"
                                >
                                    <div class="user-frame">
                                        <div
                                            class="selected-name-text justify-content-between"
                                        >
                                            <div>
                                                <span>
                                                    {{ item.name }}
                                                </span>
                                            </div>
                                            <ng-container *ngIf="item.logo">
                                                <div class="truck-icon">
                                                    <svg-icon
                                                        [src]="item.logo"
                                                    ></svg-icon>
                                                </div>
                                            </ng-container>
                                        </div>
                                        <ng-container>
                                            <span
                                                class="count-holder align-items-center justify-content-center d-flex"
                                            >
                                                {{ item.count }}
                                            </span>
                                        </ng-container>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
            <ng-container *ngIf="type === 'fuelStopFilter'">
                <div class="user-holder">
                    <ng-container
                        *ngFor="
                            let item of fuelStopArray;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    [@showAnimation]="!!activeFilter"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder"
                                >
                                    <div class="user-frame">
                                        <div class="selected-name-text">
                                            <span> {{ item.name }} </span>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
            <ng-container *ngIf="type === 'brokerFilter'">
                <div class="user-holder">
                    <ng-container
                        *ngFor="
                            let item of brokerArray;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    [@showAnimation]="!!activeFilter"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder"
                                >
                                    <div class="user-frame">
                                        <div class="selected-name-text">
                                            <span> {{ item.name }} </span>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
            <ng-container *ngIf="type === 'driverFilter'">
                <div class="user-holder">
                    <ng-container
                        *ngFor="
                            let item of driverArray;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    [@showAnimation]="!!activeFilter"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder"
                                >
                                    <div class="user-profile-img">
                                        <ng-container *ngIf="!item.avatar">
                                            <app-ta-profile-images
                                                [indx]="indx"
                                                [size]="'small'"
                                                [type]="'driver'"
                                                [name]="item.name"
                                            >
                                            </app-ta-profile-images>
                                        </ng-container>
                                        <ng-container *ngIf="item.avatar">
                                            <div
                                                class="user_avatar driver_avatar"
                                                [ngStyle]="
                                                    item.avatar && {
                                                        'background-image':
                                                            'url(' +
                                                            item.avatar +
                                                            ')'
                                                    }
                                                "
                                            ></div>
                                        </ng-container>
                                    </div>
                                    <div class="user-frame">
                                        <div class="selected-name-text">
                                            <span> {{ item.name }} </span>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </ng-container>

            <!-- Owner Page -->
            <ng-container *ngIf="type === 'truckTypeFilter'">
                <div class="user-holder">
                    <ng-container
                        *ngFor="
                            let item of truckTypeArray;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    [@showAnimation]="!!activeFilter"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder"
                                >
                                    <div class="type-icon">
                                        <svg-icon
                                            src="{{ item.icon }}"
                                        ></svg-icon>
                                    </div>
                                    <div class="user-frame">
                                        <div class="selected-name-text">
                                            <span> {{ item.name }} </span>
                                        </div>
                                    </div>
                                    <ng-containe *ngIf="item.counter">
                                        <div class="counter-holder">27</div>
                                    </ng-containe>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
            <ng-container *ngIf="type === 'trailerTypeFilter'">
                <div class="user-holder">
                    <ng-container
                        *ngFor="
                            let item of trailerTypeArray;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    [@showAnimation]="!!activeFilter"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder"
                                >
                                    <div class="type-icon">
                                        <svg-icon
                                            src="{{ item.icon }}"
                                        ></svg-icon>
                                    </div>
                                    <div class="user-frame">
                                        <div class="selected-name-text">
                                            <span> {{ item.name }} </span>
                                        </div>
                                    </div>
                                    <ng-containe *ngIf="item.counter">
                                        <div
                                            *ngIf="item.counter"
                                            class="counter-holder"
                                        >
                                            27
                                        </div>
                                    </ng-containe>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
            <ng-container *ngIf="type === 'stateFilter'">
                <div class="user-holder">
                    <div class="state-name-holder sticky-head-title">
                        UNITED STATES
                    </div>
                    <ng-container
                        *ngFor="
                            let item of usaStates;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    [@showAnimation]="!!activeFilter"
                                    (click)="addToSelectedUser(item, indx)"
                                    class="user-main-holder state-main-holder"
                                >
                                    <div class="user-profile-img">
                                        <div class="state-short-holder">
                                            {{ item.stateShortName }}
                                        </div>
                                    </div>
                                    <div class="user-frame">
                                        <div class="selected-name-text">
                                            <span> {{ item.stateName }} </span>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>

                    <div class="state-name-holder canada-sticky-head-title">
                        CANADA
                    </div>
                    <ng-container
                        *ngFor="
                            let item of canadaStates;
                            let indx = index;
                            trackBy: trackByIdentity
                        "
                    >
                        <div class="user-frame-holder">
                            <ng-container
                                *ngIf="!item.hidden && !item.isSelected"
                            >
                                <div
                                    [@inOutAnimation]="'in'"
                                    [@showAnimation]="!!activeFilter"
                                    (click)="
                                        addToSelectedUser(item, indx, 'canada')
                                    "
                                    class="user-main-holder state-main-holder"
                                >
                                    <div class="user-profile-img">
                                        <div class="state-short-holder">
                                            {{ item.stateShortName }}
                                        </div>
                                    </div>
                                    <div class="user-frame">
                                        <div class="selected-name-text">
                                            <span> {{ item.stateName }} </span>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
            <ng-container
                *ngIf="
                    !legendView &&
                    (pmFilterArray?.length > selectedUser.length ||
                        type === 'statusFilter' ||
                        type === 'userFilter')
                "
            >
                <div class="border-filter"></div>
            </ng-container>
            <ng-container *ngIf="!legendView">
                <div class="buttons-holder">
                    <div
                        (click)="clearAll($event)"
                        class="button-clear"
                        [class.active]="
                            selectedUser.length > 0 ||
                            filterActiveArray.length > 0 ||
                            canadaSelectedStates.length > 0 ||
                            usaSelectedStates.length > 0
                        "
                    >
                        Clear All
                    </div>
                    <div
                        (click)="setFilterValue($event)"
                        class="button-set"
                        [class.active]="
                            (selectedUser.length > 0 ||
                                filterActiveArray.length > 0 ||
                                canadaSelectedStates.length > 0 ||
                                usaSelectedStates.length > 0) &&
                            setButtonAvailable
                        "
                    >
                        Set
                    </div>
                </div>
            </ng-container>
        </div>
        <ng-container *ngIf="type === 'timeFilter'">
            <div class="time-filter-holder">
                <div class="time-header">TIME FILTER</div>
                <div class="border-filter"></div>
                <div class="time-items-holder">
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == 'Today'"
                        (click)="setTimeValue('Today')"
                        [@showAnimation]="!!activeFilter"
                    >
                        Today
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == 'Yesterday'"
                        (click)="setTimeValue('Yesterday')"
                        [@showAnimation]="!!activeFilter"
                    >
                        Yesterday
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                </div>
                <div class="border-filter time-data-border"></div>
                <div class="time-items-holder">
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == 'This week'"
                        (click)="setTimeValue('This week')"
                        [@showAnimation]="!!activeFilter"
                    >
                        This week
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == 'Last week'"
                        (click)="setTimeValue('Last week')"
                        [@showAnimation]="!!activeFilter"
                    >
                        Last week
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == '1 week'"
                        (click)="setTimeValue('1 week')"
                        [@showAnimation]="!!activeFilter"
                    >
                        1 week
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                </div>
                <div class="border-filter time-data-border"></div>
                <div class="time-items-holder">
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == 'This month'"
                        (click)="setTimeValue('This month')"
                        [@showAnimation]="!!activeFilter"
                    >
                        This month
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == 'Last month'"
                        (click)="setTimeValue('Last month')"
                        [@showAnimation]="!!activeFilter"
                    >
                        Last month
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == '1 month'"
                        (click)="setTimeValue('1 month')"
                        [@showAnimation]="!!activeFilter"
                    >
                        1 month
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == '3 months'"
                        (click)="setTimeValue('3 months')"
                        [@showAnimation]="!!activeFilter"
                    >
                        3 months
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                </div>
                <div class="border-filter time-data-border"></div>
                <div class="time-items-holder">
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == 'This quarter'"
                        (click)="setTimeValue('This quarter')"
                        [@showAnimation]="!!activeFilter"
                    >
                        This quarter
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == 'Last quarter'"
                        (click)="setTimeValue('Last quarter')"
                        [@showAnimation]="!!activeFilter"
                    >
                        Last quarter
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                </div>
                <div class="border-filter time-data-border"></div>
                <div class="time-items-holder">
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == 'This year'"
                        (click)="setTimeValue('This year')"
                        [@showAnimation]="!!activeFilter"
                    >
                        This year
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == '1 year'"
                        (click)="setTimeValue('1 year')"
                        [@showAnimation]="!!activeFilter"
                    >
                        1 year
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue === 'Last year'"
                        (click)="setTimeValue('Last year', lastYear)"
                        [@showAnimation]="!!activeFilter"
                    >
                        {{ lastYear }}
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                    <div
                        class="time-items"
                        [class.active]="
                            selectedTimeValue === 'Year before last'
                        "
                        (click)="setTimeValue('Year before last', last2Years)"
                        [@showAnimation]="!!activeFilter"
                    >
                        {{ last2Years }}
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                </div>
                <div class="border-filter time-data-border"></div>
                <div class="time-items-holder">
                    <div
                        class="time-items"
                        [class.active]="selectedTimeValue == 'Custom'"
                        (click)="setTimeValue('Custom')"
                        [@showAnimation]="!!activeFilter"
                    >
                        Custom
                        <div class="selected-icon">
                            <svg-icon
                                src="assets/svg/common/ic_confirm.svg"
                            ></svg-icon>
                        </div>
                        <div class="icon-delete">
                            <svg-icon
                                src="assets/svg/truckassist-table/x.svg"
                            ></svg-icon>
                        </div>
                    </div>
                </div>
                <div class="border-filter time-data-border"></div>
                <div class="buttons-holder">
                    <div
                        (click)="clearAll($event)"
                        class="button-clear"
                        [class.active]="
                            selectedTimeValue != filterActiveTime ||
                            selectedTimeValue != ''
                        "
                    >
                        Clear
                    </div>
                    <div
                        (click)="setFilterValue($event)"
                        class="button-set"
                        [class.active]="selectedTimeValue != filterActiveTime"
                    >
                        Set
                    </div>
                </div>
            </div>
        </ng-container>
        <ng-container *ngIf="moneyFilter && !isRepairFilter">
            <div
                class="filter-holder money-filter"
                [class.multiMoneyForm]="subType == 'all'"
                [formGroup]="moneyForm"
            >
                <div class="filter-header">
                    <div class="user-title-text">MONEY FILTER</div>
                </div>
                <div class="border-filter money-top-border-magin"></div>
                <div
                    class="single-form-holder"
                    *ngIf="subType !== 'all'; else showAll"
                >
                    <div
                        class="money-main-holder single-money-main"
                        [@showAnimation]="!!activeFilter"
                    >
                        <div class="money-value-holder">
                            <app-ta-input
                                formControlName="singleFrom"
                                [inputConfig]="{
                                    name: 'singleFrom',
                                    type: 'string',
                                    label: 'From'
                                }"
                            ></app-ta-input>
                        </div>
                        <div
                            class="money-value-holder"
                            [class.errorForm]="singleFormError"
                        >
                            <app-ta-input
                                formControlName="singleTo"
                                [inputConfig]="{
                                    name: 'singleTo',
                                    type: 'string',
                                    label: 'To'
                                }"
                            ></app-ta-input>
                        </div>
                    </div>
                </div>
                <ng-template #showAll>
                    <div class="multi-form-holder">
                        <div
                            class="form-header"
                            [class.hiddenFormTitle]="!showPart1"
                        >
                            <ng-container *ngIf="!fuelType && !loadType">
                                <div
                                    class="form-name"
                                    [@showAnimation]="!!activeFilter"
                                >
                                    Invoice Ageing
                                </div>
                            </ng-container>

                            <ng-container *ngIf="fuelType">
                                <div
                                    class="form-name"
                                    [@showAnimation]="!!activeFilter"
                                >
                                    Last Price
                                </div>
                            </ng-container>

                            <ng-container *ngIf="loadType">
                                <div
                                    class="form-name-gray text-uppercase"
                                    [@showAnimation]="!!activeFilter"
                                >
                                    Rate
                                </div>
                            </ng-container>

                            <ng-container
                                *ngIf="
                                    moneyForm.value.multiFromFirstFrom &&
                                    moneyForm.value.multiFromFirstTo
                                "
                            >
                                <div
                                    class="clear-money-form"
                                    (click)="clearForm('multiFromFirst')"
                                >
                                    CLEAR
                                </div>
                            </ng-container>

                            <div
                                class="hide-money-form"
                                [ngClass]="{
                                    svg_rotate: !showPart1,
                                    rotate_back: showPart1
                                }"
                                (click)="hideFormPart('part1')"
                            >
                                <svg-icon
                                    src="assets/svg/common/calendar/arrow-left.svg"
                                ></svg-icon>
                            </div>
                        </div>
                        <div
                            class="money-main-holder"
                            [@closeForm]="showPart1 ? 'true' : 'false'"
                        >
                            <div class="money-value-holder">
                                <app-ta-input
                                    [@showAnimation]="!!activeFilter"
                                    formControlName="multiFromFirstFrom"
                                    [inputConfig]="{
                                        name: 'multiFromFirstFrom',
                                        type: 'number',
                                        label: 'From',
                                        placeholderIcon: 'dollar'
                                    }"
                                ></app-ta-input>
                            </div>
                            <div
                                class="money-value-holder"
                                [class.errorForm]="multiFormFirstError"
                            >
                                <app-ta-input
                                    [@showAnimation]="!!activeFilter"
                                    formControlName="multiFromFirstTo"
                                    [inputConfig]="{
                                        name: 'multiFromFirstTo',
                                        type: 'number',
                                        label: 'To',
                                        placeholderIcon: 'dollar'
                                    }"
                                ></app-ta-input>
                            </div>
                        </div>
                        <div
                            class="border-filter money-bottom-border-magin form-border"
                            [class.hiddenFormBorder]="!showPart1"
                        ></div>
                        <div
                            class="form-header"
                            [class.hiddenFormTitle]="!showPart2"
                        >
                            <ng-container *ngIf="!fuelType && !loadType">
                                <div
                                    class="form-name"
                                    [@showAnimation]="!!activeFilter"
                                >
                                    Available Credit
                                </div>
                            </ng-container>

                            <ng-container *ngIf="fuelType">
                                <div
                                    class="form-name"
                                    [@showAnimation]="!!activeFilter"
                                >
                                    Price Per Gallon
                                </div>
                            </ng-container>

                            <ng-container *ngIf="loadType">
                                <div
                                    class="form-name-gray text-uppercase"
                                    [@showAnimation]="!!activeFilter"
                                >
                                    Paid
                                </div>
                            </ng-container>

                            <ng-container
                                *ngIf="
                                    moneyForm.value.multiFormSecondFrom &&
                                    moneyForm.value.multiFormSecondTo
                                "
                            >
                                <div
                                    class="clear-money-form"
                                    (click)="clearForm('multiFormSecond')"
                                >
                                    CLEAR
                                </div>
                            </ng-container>

                            <div
                                class="hide-money-form"
                                [ngClass]="{
                                    svg_rotate: !showPart2,
                                    rotate_back: showPart2
                                }"
                                (click)="hideFormPart('part2')"
                            >
                                <svg-icon
                                    src="assets/svg/common/calendar/arrow-left.svg"
                                ></svg-icon>
                            </div>
                        </div>
                        <div
                            class="money-main-holder"
                            [@closeForm]="showPart2 ? 'true' : 'false'"
                        >
                            <div class="money-value-holder">
                                <app-ta-input
                                    [@showAnimation]="!!activeFilter"
                                    formControlName="multiFormSecondFrom"
                                    [inputConfig]="{
                                        name: 'multiFormSecondFrom',
                                        type: 'number',
                                        label: 'From',
                                        placeholderIcon: 'dollar'
                                    }"
                                ></app-ta-input>
                            </div>
                            <div
                                class="money-value-holder"
                                [class.errorForm]="multiFormSecondError"
                            >
                                <app-ta-input
                                    [@showAnimation]="!!activeFilter"
                                    formControlName="multiFormSecondTo"
                                    [inputConfig]="{
                                        name: 'multiFormSecondTo',
                                        type: 'number',
                                        label: 'To',
                                        placeholderIcon: 'dollar'
                                    }"
                                ></app-ta-input>
                            </div>
                        </div>
                        <div
                            class="border-filter money-bottom-border-magin form-border"
                            [class.hiddenFormBorder]="!showPart2"
                        ></div>
                        <div
                            class="form-header"
                            [class.hiddenFormTitle]="!showPart3"
                        >
                            <ng-container *ngIf="!fuelType && !loadType">
                                <div
                                    class="form-name"
                                    [@showAnimation]="!!activeFilter"
                                >
                                    Revenue
                                </div>
                            </ng-container>

                            <ng-container *ngIf="fuelType">
                                <div
                                    class="form-name"
                                    [@showAnimation]="!!activeFilter"
                                >
                                    Total Cost
                                </div>
                            </ng-container>

                            <ng-container *ngIf="loadType">
                                <div
                                    class="form-name-gray text-uppercase"
                                    [@showAnimation]="!!activeFilter"
                                >
                                    Due
                                </div>
                            </ng-container>

                            <ng-container
                                *ngIf="
                                    moneyForm.value.multiFormThirdFrom &&
                                    moneyForm.value.multiFormThirdTo
                                "
                            >
                                <div
                                    class="clear-money-form"
                                    (click)="clearForm('multiFormThird')"
                                >
                                    CLEAR
                                </div>
                            </ng-container>

                            <div
                                class="hide-money-form"
                                [ngClass]="{
                                    svg_rotate: !showPart3,
                                    rotate_back: showPart3
                                }"
                                (click)="hideFormPart('part3')"
                            >
                                <svg-icon
                                    src="assets/svg/common/calendar/arrow-left.svg"
                                ></svg-icon>
                            </div>
                        </div>
                        <div
                            class="money-main-holder"
                            [@closeForm]="showPart3 ? 'true' : 'false'"
                        >
                            <div class="money-value-holder">
                                <app-ta-input
                                    [@showAnimation]="!!activeFilter"
                                    formControlName="multiFormThirdFrom"
                                    [inputConfig]="{
                                        name: 'multiFormThirdFrom',
                                        type: 'number',
                                        label: 'From',
                                        placeholderIcon: 'dollar'
                                    }"
                                ></app-ta-input>
                            </div>
                            <div
                                class="money-value-holder"
                                [class.errorForm]="multiFormThirdError"
                            >
                                <app-ta-input
                                    [@showAnimation]="!!activeFilter"
                                    formControlName="multiFormThirdTo"
                                    [inputConfig]="{
                                        name: 'multiFormThirdTo',
                                        type: 'number',
                                        label: 'To',
                                        placeholderIcon: 'dollar'
                                    }"
                                ></app-ta-input>
                            </div>
                        </div>
                    </div>
                </ng-template>

                <div
                    class="border-filter money-bottom-border-magin form-border"
                    [class.hiddenFormBorder]="!showPart3"
                ></div>
                <div class="buttons-holder" *ngIf="subType == 'all'">
                    <div
                        (click)="clearAll($event)"
                        class="button-clear"
                        [class.active]="moneyFilterStatus"
                    >
                        Clear All
                    </div>
                    <div
                        (click)="setFilterValue($event)"
                        class="button-set"
                        [class.active]="moneyFilterStatus && setButtonAvailable"
                    >
                        Set
                    </div>
                </div>
                <div class="buttons-holder" *ngIf="subType != 'all'">
                    <div
                        (click)="clearAll($event)"
                        class="button-clear"
                        [class.active]="moneyFilterStatus"
                    >
                        Clear All
                    </div>
                    <div
                        (click)="setFilterValue($event)"
                        class="button-set"
                        [class.active]="
                            moneyFilterStatus &&
                            setButtonAvailable &&
                            !singleFormError
                        "
                    >
                        Set
                    </div>
                </div>
            </div>
        </ng-container>

        <div
            *ngIf="swipeFilter"
            class="filter-holder swipe-filter"
            [formGroup]="sliderForm"
        >
            <div class="filter-header">
                <div class="user-title-text">{{ filterTitle | uppercase }}</div>
            </div>
            <div class="border-filter top-border-margin"></div>
            <div
                class="filter-middle-holder"
                [class.emptySliderState]="rangeValue == 0"
                [@showAnimation]="!!activeFilter"
            >
                <app-ta-ngx-slider
                    [sliderOptions]="sliderData"
                    [startedValue]="rangeValue"
                    [customClass]="'custom-slider-filter'"
                    [sliderTemplate]="'commission'"
                    (onUserValueChange)="setRangeValue($event)"
                ></app-ta-ngx-slider>
            </div>
            <div class="border-filter bottom-border-margin"></div>
            <div class="buttons-holder">
                <div
                    (click)="clearAll($event)"
                    class="button-clear"
                    [class.active]="
                        rangeValue != swipeActiveRange || rangeValue > 0
                    "
                >
                    Clear All
                </div>
                <div
                    (click)="setFilterValue($event)"
                    class="button-set"
                    [class.active]="rangeValue != swipeActiveRange"
                >
                    Set
                </div>
            </div>
        </div>
        <ng-container
            *ngIf="locationDefType || (isRepairFilter && moneyFilter)"
        >
            <div class="filter-holder location-filter">
                <div class="filter-header">
                    <div class="user-title-text" *ngIf="!areaFilter">
                        {{ filterTitle | uppercase }}
                    </div>
                    <div class="user-title-text" *ngIf="areaFilter">
                        AREA FILTER
                    </div>
                </div>
                <div class="border-filter top-border-margin"></div>
                <ng-container *ngIf="areaFilter">
                    <div
                        class="areaFilterHolder"
                        [@showAnimation]="!!activeFilter"
                    >
                        <app-ta-tab-switch
                            [tabs]="areBoxTab"
                            (switchClicked)="
                                onTabChange($event, 'REQUESTS-BOX')
                            "
                            [type]="'type2-modal-popup'"
                        >
                        </app-ta-tab-switch>
                    </div>
                </ng-container>
                <div class="area-all-holder">
                    <ng-container
                        *ngIf="areaFilter && areaFilterSelected !== 'Location'"
                    >
                        <div
                            class="main-part-holder"
                            [@areaRightSideAnimation]="'in'"
                        >
                            <div
                                class="area-forms-holder"
                                [formGroup]="areaForm"
                                [@showAnimation]="!!activeFilter"
                            >
                                <div class="area-single-form-holder">
                                    <app-ta-input-address-dropdown
                                        formControlName="origin"
                                        [inputConfig]="{
                                            name: 'Address',
                                            type: 'text',
                                            label: 'Origin',
                                            placeholderIcon: 'address',
                                            placeholder: 'Origin',
                                            textTransform: 'capitalize',
                                            dropdownWidthClass: 'w-col-288',
                                            customClass: 'location-area-filter',
                                            minLength: 6,
                                            maxLength: 256,
                                            placeholderInsteadOfLabel: true
                                        }"
                                        [placeholderType]="'shortAddress'"
                                        (selectedAddress)="
                                            handleOriginSelect($event)
                                        "
                                    ></app-ta-input-address-dropdown>
                                </div>
                                <div class="area-single-form-holder">
                                    <app-ta-input-address-dropdown
                                        formControlName="destination"
                                        [inputConfig]="{
                                            name: 'Address',
                                            type: 'text',
                                            label: 'Destination',
                                            placeholderIcon: 'address',
                                            placeholder: 'Destination',
                                            textTransform: 'capitalize',
                                            dropdownWidthClass: 'w-col-288',
                                            customClass: 'location-area-filter',
                                            minLength: 6,
                                            maxLength: 256,
                                            placeholderInsteadOfLabel: true
                                        }"
                                        [placeholderType]="'shortAddress'"
                                        (selectedAddress)="
                                            handleDestinationSelect($event)
                                        "
                                    ></app-ta-input-address-dropdown>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                    <ng-container
                        *ngIf="
                            type === 'locationFilter' &&
                            areaFilterSelected === 'Location'
                        "
                    >
                        <div
                            class="main-part-holder"
                            [@areaLeftSideAnimation]="'in'"
                        >
                            <ng-container *ngIf="type === 'locationFilter'">
                                <div
                                    class="filter-middle-holder location-middle-padding"
                                    [formGroup]="locationForm"
                                    [@showAnimation]="!!activeFilter"
                                >
                                    <app-ta-input-address-dropdown
                                        formControlName="address"
                                        [inputConfig]="{
                                            name: 'Address',
                                            type: 'text',
                                            label: 'Location',
                                            placeholderIcon: 'address',
                                            placeholder: 'Location',
                                            textTransform: 'capitalize',
                                            dropdownWidthClass: 'w-col-288',
                                            customClass: 'location-area-filter',
                                            blueInput: true,
                                            minLength: 6,
                                            maxLength: 256,
                                            placeholderInsteadOfLabel: true
                                        }"
                                        [placeholderType]="'shortAddress'"
                                        (selectedAddress)="
                                            handleInputSelect($event)
                                        "
                                    ></app-ta-input-address-dropdown>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                    <ng-container *ngIf="type == 'locationFilter'">
                        <div
                            class="filter-middle-holder location-slider-middle-padding"
                            [@showAnimation]="!!activeFilter"
                        >
                            <div class="range-new-value-holder">
                                <div class="range-text">Range</div>
                                <div class="range-flex-holder">
                                    <app-ta-ngx-slider
                                        [sliderOptions]="locationSliderData"
                                        [startedValue]="locationRange"
                                        [customClass]="'custom-slider-filter'"
                                        (onUserValueChange)="
                                            setRangeValue($event)
                                        "
                                    ></app-ta-ngx-slider>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                </div>
                <ng-container
                    *ngIf="
                        type === 'payFilter' ||
                        type === 'milesFilter' ||
                        (isRepairFilter && moneyFilter)
                    "
                >
                    <div class="mainMilesHolder" [formGroup]="rangeForm">
                        <div class="money-main-holder payPadding">
                            <div class="money-value-holder">
                                <app-ta-input
                                    formControlName="rangeFrom"
                                    [inputConfig]="{
                                        name: 'rangeFrom',
                                        type: 'text',
                                        label: 'From',
                                        placeholderIcon:
                                            type === 'payFilter' ||
                                            (isRepairFilter && moneyFilter)
                                                ? 'dollar'
                                                : 'mileage',
                                        customClass: ''.concat(
                                            '' +
                                                this.rangeForm.get('rangeFrom')
                                                    .value ===
                                                minValueRange
                                                ? ' discolor-placeholder'
                                                : '' + ''
                                        ),
                                        blackInput: true
                                    }"
                                ></app-ta-input>
                            </div>
                            <div
                                class="money-value-holder"
                                [class.errorForm]="singleFormError"
                            >
                                <app-ta-input
                                    formControlName="rangeTo"
                                    [inputConfig]="{
                                        name: 'rangeTo',
                                        type: 'text',
                                        label: 'To',
                                        placeholderIcon:
                                            type === 'payFilter' ||
                                            (isRepairFilter && moneyFilter)
                                                ? 'dollar'
                                                : 'mileage',
                                        customClass: ''.concat(
                                            '' +
                                                this.rangeForm.get('rangeTo')
                                                    .value ==
                                                maxValueRange
                                                ? ' discolor-placeholder'
                                                : '' + ''
                                        ),
                                        blackInput: true
                                    }"
                                ></app-ta-input>
                            </div>
                        </div>
                        <div
                            class="filter-middle-holder slider-two-holder"
                            [@showAnimation]="!!activeFilter"
                            [class.closePointers]="
                                (rangeDiffNum < 670 && type != 'payFilter') ||
                                (rangeDiffNum < 2600 && type == 'payFilter')
                            "
                        >
                            <app-ta-ngx-slider
                                [sliderOptions]="
                                    type === 'payFilter' ||
                                    (isRepairFilter && moneyFilter)
                                        ? paySliderData
                                        : milesSliderData
                                "
                                [startedValue]="rangeValue"
                                [customClass]="
                                    isRepairFilter && moneyFilter
                                        ? 'money-slider-filter'
                                        : 'custom-slider-filter'
                                "
                                (onUserValueChange)="setMinValueRange($event)"
                                (onUserHighValueChange)="
                                    setMaxValueRange($event)
                                "
                                [sliderTemplate]="'range-slider'"
                                [minValue]="minValueDragged"
                                [maxValue]="maxValueDragged"
                            ></app-ta-ngx-slider>
                        </div>
                    </div>
                </ng-container>
                <div class="border-filter bottom-border-margin"></div>
                <ng-container *ngIf="type !== 'locationFilter'">
                    <div class="buttons-holder">
                        <div
                            (click)="clearAll($event)"
                            class="button-clear"
                            [class.active]="
                                rangeForm.get('rangeTo').value !=
                                    maxValueRange ||
                                rangeForm.get('rangeFrom').value !=
                                    minValueRange
                            "
                        >
                            Clear All
                        </div>
                        <div
                            (click)="setFilterValue($event)"
                            class="button-set"
                            [class.active]="
                                rangeForm.get('rangeTo').value != maxValueSet ||
                                (rangeForm.get('rangeFrom').value &&
                                    rangeForm.get('rangeFrom').value !=
                                        minValueSet)
                            "
                        >
                            Set
                        </div>
                    </div>
                </ng-container>
                <ng-container
                    *ngIf="
                        type === 'locationFilter' &&
                        areaFilterSelected == 'Location'
                    "
                >
                    <div class="buttons-holder">
                        <div
                            (click)="clearAll($event)"
                            class="button-clear"
                            [class.active]="
                                longVal || latVal || locationRange != 25
                            "
                        >
                            Clear All
                        </div>
                        <div
                            (click)="setFilterValue($event)"
                            class="button-set"
                            [class.active]="
                                longValueSet != longVal ||
                                latValSet != latVal ||
                                (locationRange != locationRangeSet &&
                                    longVal &&
                                    latVal)
                            "
                        >
                            Set
                        </div>
                    </div>
                </ng-container>
                <ng-container
                    *ngIf="
                        type === 'locationFilter' &&
                        areaFilterSelected != 'Location'
                    "
                >
                    <div class="buttons-holder">
                        <div
                            (click)="clearAll($event)"
                            class="button-clear"
                            [class.active]="
                                originLatVal ||
                                originLongVal ||
                                destLongVal ||
                                destLatVal
                            "
                        >
                            Clear All
                        </div>
                        <div
                            (click)="setFilterValue($event)"
                            class="button-set"
                            [class.active]="
                                (originLatValSet != originLatVal ||
                                    originLongValSet != originLongVal) &&
                                (destLongValSet != destLongVal ||
                                    destLatValSet != destLatVal)
                            "
                        >
                            Set
                        </div>
                    </div>
                </ng-container>
            </div>
        </ng-container>
    </div>
</div>
