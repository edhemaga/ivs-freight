<div class="search-chips-container">
    <div
        class="search-container"
        [ngClass]="{ 'search-input-active': openSearch }"
    >
        <!-- Icon -->
        <div class="icon-container" (click)="toggleSearch()">
            <svg-icon
                [svgStyle]="{ 'width.px': 17, 'height.px': 17 }"
                [src]="'assets/svg/truckassist-search/new-search-icon.svg'"
            ></svg-icon>
        </div>

        <!-- Border -->
        <div class="icon-border">
            <div class="inner-border"></div>
        </div>

        <!-- Serach Input -->
        <div class="search-input">
            <input
                *ngIf="openSearch"
                [disabled]="chips.length >= 3"
                id="table-search"
                type="text"
                (keyup)="onTyping($event)"
                (keyup.enter)="onEnter()"
                autofocus
                [(ngModel)]="searchText"
                placeholder="Find {{
                    selectedTabData?.gridNameTitle
                        ? selectedTabData.gridNameTitle
                        : 'No Tab Name'
                }}"
            />
        </div>
    </div>

    <div class="chips-container" *ngIf="chips.length">
        <div
            class="chip"
            *ngFor="let chip of chips; let i = index"
            [ngClass]="{
                'first-chip-animation': i === 0 && chips[0].canDoAnimation,
                'second-chip-animation': i === 1 && chips[1].canDoAnimation,
                'third-chip-animation': i === 2 && chips[2].canDoAnimation,
                'first-chip-style': i === 0,
                'second-chip-style': i === 1,
                'third-chip-style': i === 2,
                'delete-chip-style': chipToDelete === i
            }"
        >
            {{ chip.searchText }}
            <div
                class="delete-chip"
                (mouseenter)="chipToDelete = i"
                (mouseleave)="chipToDelete = -1"
                (click)="onDeleteChip(i)"
            >
                <svg-icon
                    [svgStyle]="{ 'width.px': 6, 'height.px': 6 }"
                    [src]="'assets/svg/truckassist-table/x.svg'"
                ></svg-icon>
            </div>
        </div>
        <div class="delete-all-schips" (click)="deleteAllChips()">
            <svg-icon
                [svgStyle]="{ 'width.px': 12, 'height.px': 12 }"
                [src]="'assets/svg/truckassist-table/x.svg'"
            ></svg-icon>
        </div>
    </div>
</div>
