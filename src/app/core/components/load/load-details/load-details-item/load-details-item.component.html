<div class="details-component">
  <div
    *ngFor="let loadItem of loadData; trackBy: identity"
    [ngSwitch]="loadItem.template"
  >
    <div *ngSwitchCase="'general'">
      <app-load-card-view [load]="loadItem?.data"></app-load-card-view>
    </div>
    <div *ngSwitchCase="'finance'">
      <div class="finance-container">
        <div class="finance-wrapper">
          <div class="balance-wrapper">
            <span class="header">Balance</span>
            <span class="value">{{
              loadItem?.data.broker.availableCredit | formatCurrency
            }}</span>
          </div>
          <div class="divider"></div>
          <app-ta-custom-card
            [animationsDisabled]="false"
            [bodyTemplate]="'card'"
            [cardName]="'Billing'"
            [hasDivider]="false"
            [isCardOpen]="true"
          >
            <div class="billing-container">
              <div class="biling-header">
                <span class="type">TYPE</span>
                <span class="type">VALUE</span>
              </div>
              <div class="divider"></div>
              <div class="billing-item">
                <div class="icon-name">
                  <svg-icon
                    class="icon-additional"
                    src="assets/svg/common/load/ic_circle-default-load.svg"
                  ></svg-icon>
                  <div class="billing-name">Base Rate</div>
                </div>
                <div class="billing-value">
                  {{ loadItem?.data?.baseRate | formatCurrency }}
                </div>
              </div>
              <div class="divider"></div>

              <div class="billing-item">
                <div class="icon-name">
                  <svg-icon
                    class="icon-additional"
                    src="assets/svg/common/load/ic_circle-adjusted-load.svg"
                  ></svg-icon>
                  <div class="billing-name">Adjusted</div>
                </div>
                <div class="billing-value">
                  {{ loadItem?.data?.adjustedRate | formatCurrency }}
                </div>
              </div>
              <div class="divider"></div>

              <div
                class="additonal-wrapper-biling"
                *ngFor="
                  let addBilling of loadItem?.data?.additionalBillingRates;
                  trackBy: identity
                "
              >
                <div class="billing-item">
                  <div class="icon-name">
                    <svg-icon
                      class="icon-additional"
                      src="assets/svg/common/load/ic_circle-plus-load.svg"
                    ></svg-icon>
                    <div class="billing-name">
                      {{ addBilling.additionalBillingType.name }}
                    </div>
                  </div>
                  <div class="billing-value">
                    {{ addBilling.rate | formatCurrency }}
                  </div>
                </div>
                <div class="divider"></div>
              </div>
              <div class="total-bill-wrapper first-wrapper">
                <div class="total-bill">
                  <span class="total">Total Bill</span>
                  <span class="total-value">{{
                    loadItem?.data?.totalRate | formatCurrency
                  }}</span>
                </div>
              </div>
              <div class="total-bill-wrapper">
                <div class="total-bill total-adjusted">
                  <span class="total">Total Adjusted</span>
                  <span class="total">{{
                    loadItem?.data?.totalAdjustedRate | formatCurrency
                  }}</span>
                </div>
              </div>
            </div>
          </app-ta-custom-card>

          <div class="divider"></div>
          <app-ta-custom-card
            [animationsDisabled]="false"
            [bodyTemplate]="'card'"
            [cardName]="'Payment'"
            [hasDivider]="false"
            [isCardOpen]="true"
          >
            <div class="billing-container">
              <div class="biling-header">
                <span class="type">TYPE</span>
                <span class="type">VALUE</span>
              </div>
              <div class="divider"></div>
              <div class="billing-item">
                <div class="icon-name">
                  <svg-icon
                    class="icon-additional"
                    src="assets/svg/common/load/ic_circle-disable-load.svg"
                  ></svg-icon>
                  <div class="billing-name">Advance</div>
                </div>
                <div class="billing-value">
                  {{ loadItem?.data?.advancePay | formatCurrency }}
                </div>
              </div>
              <div class="total-bill-wrapper total-wrapper">
                <div class="total-bill">
                  <span class="total">Total Paid</span>
                  <span class="total-value">{{
                    loadItem?.data?.totalPaid | formatCurrency
                  }}</span>
                </div>
              </div>
            </div>
          </app-ta-custom-card>
        </div>
      </div>
    </div>
    <div *ngSwitchCase="'stop'">
      <div class="stop-container">
        <div class="stop-header-container">
          <div class="stop-location-wrapper stop-cont">
            <div class="location-item-wrapper">
              <span class="current-location-header">Current Location</span>
              <span class="current-location-value">Kennesaw, GA 30144</span>
            </div>
            <div class="location-item-wrapper">
              <span class="next-location-header">Next Stop - Pickup</span>
              <span class="current-location-value">Mason, OH 45040</span>
            </div>
          </div>
          <div class="load-progress-container">
            <div class="start-after-icons">
              <svg-icon
                class="icon-start"
                src="assets/svg/common/load/ic_load-start-position.svg"
              ></svg-icon>
              <svg-icon
                class="icon-start icon-after-start"
                src="assets/svg/common/load/ic_load-start-position.svg"
              ></svg-icon>
              <svg-icon
                class="icon-start icon-after-green"
                src="assets/svg/common/load/ic_load-start-position.svg"
              ></svg-icon>
              <svg-icon
                class="icon-start icon-after-red four-icon"
                src="assets/svg/common/load/ic_load-start-position.svg"
              ></svg-icon>
              <svg-icon
                class="icon-start icon-after-red"
                src="assets/svg/common/load/ic_load-start-position.svg"
              ></svg-icon>
            </div>
            <div class="current-loaction">
              <svg-icon
                class="icon-start"
                src="assets/svg/common/load/load-moving-right.svg"
              ></svg-icon>
            </div>
          </div>
          <div class="stop-location-wrapper moving-cont">
            <div class="location-item-wrapper">
              <span class="moving-header">MOVING - NORTH / WEST</span>
              <span class="moving-value">57 minutes</span>
            </div>
            <div class="location-item-wrapper">
              <span class="total-header"
                >Total <span class="total-load-perctange">868.3 mi</span></span
              >
              <span class="moving-value completed-value"
                ><span class="total-load-perctange font-14">47%</span>Completed</span
              >
            </div>
          </div>
        </div>
      </div>
      <div class="stop-items-container">
        <app-ta-custom-card-v2
         *ngFor="let item of loadItem?.data?.stops;let j = index;"
        [animationsDisabled]="false"
        [bodyTemplate]="'card'"
        [totalMiles]="true"
        [headerSvgLike]="'assets/svg/applicant/check.svg'"
        [cardName]="item?.shipper?.address?.street+', ' +item?.shipper?.address?.stateShortName + ' ' + item?.shipper?.address?.zipCode"
        [hasCounter]="item?.items?.length"
        [hasDivider]="j>0?true:false"
        [counterBackgroundColor]="item?.stopType.name==='Pickup'?'#E57373':'#4DB6A2'"
        [isCardOpen]="true"
        >
        <div class="stop-information-container">
          <div class="svg-value-wrapper">
          <div class="driver-name"> {{
            loadItem?.data?.dispatch?.driver?.firstName +
              " " +
              loadItem?.data?.dispatch?.driver?.lastName
          }}</div>
          <svg-icon class="flex-icon" src="assets/svg/truckassist-table/customer/contact-column-avatar-select-row.svg"></svg-icon>
        </div>
        <div class="svg-value-wrapper">
          <svg-icon class="flex-icon" src="assets/svg/applicant/location.svg"></svg-icon>
          <div class="regular-text">{{item?.shipper?.address?.address}}</div>
        </div>
        <div class="svg-value-wrapper">
          <svg-icon class="flex-icon" src="assets/svg/common/ic_clock.svg"></svg-icon>
          <div class="regular-text">Today, {{item?.timeFrom}} - {{item?.timeTo}} PM </div>
          <div *ngIf="item.timeType.name==='Appointment'" class="appoitment-wrapper">APPOINTMENT</div>
        </div>
         </div>
         <div class="divider"></div>
        <app-ta-custom-card-v2
          [cardName]="'Item'"
          [bodyTemplate]="'card'"
          [animationsDisabled]="false"
          [counterBackgroundColor]="'#F3F3F3'"
          [counterColor]="'#6c6c6c'"
          [fontSizeCardName]="'14px'"
          [fontWeightName]="'800'"
          [arrowIconSvg]="'assets/svg/common/fill_arrow_down.svg'"
          [hasCounter]="item?.items?.length"
          [hasDivider]="false"
          [isCardOpen]="true"
        >
         
          <div class="stops-wrapper-load">
            <div class="stop-items-header-load">
              <div class="cg-32">
              <span class="item">#</span>
              <span class="item">DESCRIPTION</span>
            </div>
            <div class="cg-82">
              <span class="item">QTY</span>
              <span class="item">TEMP</span>
            </div>
            <div class="cg-37">
              <span class="item">WEIGHT</span>
              <svg-icon
                class="flex-icon"
                src="assets/svg/common/load/ic_length.svg"
              ></svg-icon>
              <svg-icon
                class="flex-icon"
                src="assets/svg/common/load/ic_height.svg"
              ></svg-icon>
            
              <svg-icon
                class="flex-icon"
                src="assets/svg/common/load/ic_load-.svg"
              ></svg-icon>
            </div>
            <div class="cg-23">
              <span class="item">TARP</span>
              <span class="item">SECURE</span>
              <span class="item">BOL</span>
            </div>
            <div class="cg-51">
              <span class="item">APPOINT.</span>
              <span class="item">PICKUP NO.</span>
            </div>
            <div class="cg-69">
              <span class="item">PO NO.</span>
              <span class="item">SEAL NO.</span>
            </div>
              <span class="item">CODE</span>

            </div>
            <div class="divider-load"></div>
            <div
              class="stop-items-header-load"
              
            >
             <div class="wrapper-item-divider" *ngFor="let items of item.items; let i = index; trackBy:identity">
              <div class="wrap-load-items">
                <span class="item-body">{{i+1}}</span>
                <span class="item-body item-body-bold">{{ items?.description }}</span>
                <span class="item-body">{{ items?.quantity + ' ' + items?.units?.name }}</span>
                <span class="item-body">{{items?.temperature}} °F</span>
                <span  class="item-body">{{ items?.weight }} Ibs</span>
                <span class="item-body"><span *ngIf="items?.length">{{ items?.length }} ft</span></span>
                <span class="item-body"><span *ngIf="items?.height">{{ items?.height }} ft</span></span>
                <span class="item-body" >{{ items?.stackable?'Yes':'No' }}</span>
                <span class="item-body" >{{items?.tarp?.name}}</span>
                <span class="item-body">{{items?.boxingType?.name}}</span>
                <span class="item-body">{{items?.bolNumber}}</span>
                <span class="item-body">{{items?.appointmentNumber}}</span>
                <span class="item-body">{{items?.pickupNumber}}</span>
                <span class="item-body">{{items?.poNumber}}</span>
                <span class="item-body">{{items?.sealNumber}}</span>
                <span class="item-body">{{items?.code}}</span>
              </div>
              <div class="divider-load"></div>
              </div>
            </div>
          </div>
        </app-ta-custom-card-v2>
      </app-ta-custom-card-v2>
        <div class="map-load-container">
          <span class="default-text">Here map</span>
        </div>
      </div>
    </div>
    <div *ngSwitchCase="'comment'">
      <div *ngIf="loadItem?.data?.comments.length" class="comment-container">
        <app-ta-user-review
        [reviewData]="loadItem?.data?.comments"
        (changeReviewsEvent)="changeCommentEvent($event)"
        >
        </app-ta-user-review>
      </div>
    </div>
  </div>
</div>
