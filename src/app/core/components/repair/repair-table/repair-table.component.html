<div class="table-container">
    <app-truckassist-table-toolbar
        (toolBarAction)="onToolBarAction($event)"
        [options]="tableOptions"
        [tableData]="tableData"
        [selectedTab]="selectedTab"
        [columns]="columns"
    ></app-truckassist-table-toolbar>

    <ng-container *ngIf="activeViewMode === 'List'">
        <app-truckassist-table-head
            [options]="tableOptions"
            [viewData]="viewData"
            [columns]="columns"
            [tableData]="tableData"
            (headActions)="onTableHeadActions($event)"
        ></app-truckassist-table-head>

        <app-truckassist-table-body
            [viewData]="viewData"
            [columns]="columns"
            [options]="tableOptions"
            [selectedTab]="selectedTab"
            (bodyActions)="onTableBodyActions($event)"
            [tableData]="tableData"
        ></app-truckassist-table-body>
    </ng-container>

    <ng-component *ngIf="activeViewMode === 'Card'">
        <div class="elements">
            <app-truckassist-cards
                (bodyActions)="onTableBodyActions($event)"
                [viewData]="viewData"
                [rows]="rows"
                [cardTitle]="cardTitle"
                [displayRowsFront]="sendDataToCardsFront"
                [displayRowsBack]="sendDataToCardsBack"
                [page]="page"
                [selectedTab]="selectedTab"
            ></app-truckassist-cards>
        </div>
    </ng-component>
    <ng-container *ngIf="activeViewMode === 'Map'">
        <div class="customer-map-container">
            <app-map-list
                [type]="'repairShop'"
                [columns]="columns"
                [mapListContent]="mapListData"
                (headActions)="onTableHeadActions($event)"
            >
                <app-map-list-card
                    *ngFor="let latlong of mapListData; let i = index"
                    #listCard
                    [title]="latlong?.name"
                    [isSelected]="latlong?.isSelected"
                    [status]="latlong?.status"
                    [item]="latlong"
                    [index]="i"
                    [address]="latlong.address"
                    [rating]="latlong?.shopRaiting"
                    [type]="'repairShop'"
                    [sortCategory]="activeSortType"
                    [locationFilterOn]="locationFilterOn"
                    (bodyActions)="onTableBodyActions($event)"
                    (clickedMarker)="selectItem($event)"
                    [ngStyle]="{
                        display:
                            locationFilterOn && latlong?.isShown == false
                                ? 'none'
                                : 'block'
                    }"
                ></app-map-list-card>
            </app-map-list>

            <app-maps
                #mapsComponent
                [_viewData]="viewData"
                [mapType]="'repairShop'"
                (callDropDownAction)="onTableBodyActions($event)"
                (updateMapList)="updateMapList($event)"
                (selectMarker)="selectItem($event)"
            ></app-maps>
        </div>
    </ng-container>
</div>
