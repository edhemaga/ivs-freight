<div class="repair-component">
  <div [ngSwitch]="shopData.template">
    <!---------------------------- GENERAL TEMPLATE ----------------------------->
    <div *ngSwitchCase="'general'">
      <app-shop-repair-card-view [shopResponse]="shopData.data">

      </app-shop-repair-card-view>
    </div>
    <div *ngSwitchCase="'repair'">
      <div class="repair-container" *ngIf="shopData.data.repairs.length">
        <div class="repair-header">
          <span class="repaier-headers">UNIT</span>
          <span class="repaier-headers">DATE</span>
          <span class="repaier-headers">INV.#</span>
          <span class="repaier-headers">DESCRIPTION</span>
          <span class="repaier-headers">COST</span>
        </div>
        <div class="divider"></div>
        <div class="repair-items-wrapper">
          <span
            *ngFor="let repairs of shopData.data.repairs; let i = index"
            [ngClass]="{ 'finish-order-cont': !repairs.invoice && !repairs.total }"
          >
            <div class="repair-items">
              <div class="items-header">
                <span class="unit">{{ repairs?.trailer?.trailerNumber ? repairs.trailer.trailerNumber :  repairs.truck.truckNumber }}</span>
                <span class="date">{{ repairs.date | formatDateP }}</span>
                <span  class="date"><span class="inv" *ngIf="repairs.invoice">{{ repairs.invoice }}</span></span>
                <div *ngIf="!repairs.invoice && !repairs.total"  class="no-invoice">
                  <svg-icon class="no-inv" src="assets/svg/common/ic_note_order.svg"></svg-icon>
                  <span class="date-order">Order</span>
                </div>
                <span class="date">{{ repairs.note }}</span>
              
                <span *ngIf="repairs.invoice || repairs.total" class="cost"
                  >{{ repairs.total | formatCurrency }}</span
                >
                <div *ngIf="!repairs.invoice && !repairs.total" class="button-wrapper-shop">
                  Finish Order
                </div>
                <div
                  class="dots-vertical"
                
                >
                <!-- [ngClass]="{ 'dots-top': dummy.finishOrder == false }" -->
                  <app-details-page-dropdown
                    [options]="dummyData.actions"
                    [customClassDropDown]="'drop-down-details-single'"
                  >
                  </app-details-page-dropdown>
                </div>
              </div>

              <div class="divider"></div>
            </div>
          </span>
        </div>
      </div>
    </div>
    <div *ngSwitchCase="'repaired-vehicle'">
      <div class="repaired-vehicle-container"  *ngIf="shopData.data.repairsByUnit.length">
        <div class="repair-vehicle-header">
          <span class="repaier-headers">UNIT</span>
          <span class="repaier-headers">TYPE</span>
          <svg-icon src="assets/svg/common/ic_key-repair.svg"></svg-icon>
          <span class="repaier-headers">COST</span>
        </div>
        <div class="divider"></div>
        <div
          class="repair-items-vehicle"
          *ngFor="let vehicle of shopData.data.repairsByUnit; let i = index"
        >
          <div class="items-vehicle">
            <span class="unit">{{ vehicle.unitNumber }}</span>

            <svg-icon class="vehicle-icon" *ngIf="vehicle.unitType==='Trailer'" src="assets/svg/common/trailers/{{ vehicle.logoName }} "></svg-icon>
            <svg-icon class="vehicle-icon" *ngIf="vehicle.unitType==='Truck'" src="assets/svg/common/trucks/{{ vehicle.logoName }} "></svg-icon>
            <span class="date">{{ vehicle.totalOrder }}</span>
            <span class="cost">{{ vehicle.totalCost  | formatCurrency}}</span>
          </div>
          <div class="divider"></div>
        </div>
      </div>
    </div>
    <div *ngSwitchCase="'review'">
      <div class="likes-count-container">
        <div class="likes-item">
          <div class="ic-counter">
            <svg-icon
              class="like"
              src="assets/svg/common/ic_dislike.svg"
            ></svg-icon>
            <app-ta-counter
              [countBackgroud]="'#F3F3F3'"
              [countColor]="'#919191'"
              [countHeight]="'24px'"
              [countWidth]="'24px'"
              [count]="repairShopLikes"
            >
            </app-ta-counter>
          </div>
          <div class="border-vertical"></div>
          <div class="ic-counter">
            <app-ta-counter
              [countBackgroud]="'#F3F3F3'"
              [countColor]="'#919191'"
              [countHeight]="'24px'"
              [countWidth]="'24px'"
              [count]="repairShopDislike"
            >
            </app-ta-counter>
            <svg-icon
              class="dislike"
              src="assets/svg/common/ic_dislike.svg"
            ></svg-icon>
          </div>
        </div>
      </div>
      <div class="review-container">
        <div  *ngIf="!reviewsRepair.length" class="no-reviews-details">No review</div>
        <app-ta-user-review
          *ngIf="reviewsRepair.length"
          [reviewData]="reviewsRepair"
          [isNewReview]="reviewsRepair[0].isNewReview"
          (changeReviewsEvent)="changeReviewsEvent($event)"
        ></app-ta-user-review>
      </div>
    </div>
  </div>
</div>
