<div class="violation-component">
  <div
    *ngFor="let violation of violationData; trackBy: identity"
    [ngSwitch]="violation.template"
  >
    <!---------------------------- GENERAL TEMPLATE ----------------------------->
    <div *ngSwitchCase="'general'">
      <app-violation-card-view [violationCardData]="violation.data"> </app-violation-card-view>
    </div>
    <!---------------------------- Violation TEMPLATE ----------------------------->
    <div class="violation" *ngSwitchCase="'violation'">
      <div class="violation-card-table-wrapper">
        <div class="card-road-container">
        <app-ta-custom-card
        [bodyTemplate]="'card'"
        [animationsDisabled]="false"
        [hasDivider]="false"
        [cardName]="'Driver'"
        [isCardOpen]="true"
      >
        <div class="violation-driver-container">
          <div class="violation-driver-item">
            <svg-icon
              class="driver"
              src="assets/svg/common/user-image.svg"
            ></svg-icon>
            <span class="driver-name">{{
              violation?.data?.driver_FullName
            }}</span>
          </div>
        </div>
        <div class="violation-template-cards-data">
          <div class="violation-card-items">
            <span class="name">Licence No.</span>
            <app-ta-copy [copyValue]="violation?.data?.driver_LicenceNo"></app-ta-copy>
           
          </div>
          <div class="violation-card-items">
            <span class="name">State</span>
            <span class="value">({{ violation?.data?.driver_State }})</span>
          </div>
          <div class="violation-card-items">
            <span class="name">Date of Birth</span>
            <span class="value">{{
              violation?.data?.driver_DateOfBirth | formatDateP
            }}</span>
          </div>
        </div>
      </app-ta-custom-card>
      <app-ta-custom-card
        [bodyTemplate]="'card'"
        [animationsDisabled]="false"
        [hasDivider]="true"
        *ngIf="violation?.data?.coDriver_FullName"
        [cardName]="'Co-Driver'"
        [isCardOpen]="true"
      >
        <div class="violation-driver-container">
          <div class="violation-driver-item">
            <svg-icon
              class="driver"
              src="assets/svg/common/user-image.svg"
            ></svg-icon>
            <span class="driver-name">{{
              violation?.data?.coDriver_FullName
            }}</span>
          </div>
        </div>
        <div class="violation-template-cards-data">
          <div class="violation-card-items">
            <span class="name">Licence No.</span>
            <app-ta-copy [copyValue]="violation?.data?.coDriver_LicenceNo"></app-ta-copy>
          </div>
          <div class="violation-card-items">
            <span class="name">State</span>
            <span class="value"
              >Texas ({{ violation?.data?.coDriver_State }})</span
            >
          </div>
          <div class="violation-card-items">
            <span class="name">Date of Birth</span>
            <span class="value">{{
              violation?.data?.coDriver_DateOfBirth | formatDateP
            }}</span>
          </div>
        </div>
      </app-ta-custom-card>
      <app-ta-custom-card
        [bodyTemplate]="'card'"
        [animationsDisabled]="false"
        [hasDivider]="true"
        [cardName]="'Truck'"
        [isCardOpen]="true"
      >
        <div class="violation-driver-container">
          <div class="violation-driver-item">
            <span class="driver-name"
              >Unit {{ violation?.data?.truck_Unit }}</span
            >
            <span
            tooltipBackground="#3C3C3C"
            ngbTooltip
            [mainTooltip]="violation?.data?.truck_Type"
            position="top"
          >
            <svg-icon
              class="truck"
              src="assets/svg/common/semi-truck.svg"
            ></svg-icon>
            </span>
          </div>
        </div>
        <div class="violation-template-cards-data">
          <div class="violation-card-items">
            <span class="name">Make</span>
            <span class="value">{{ violation?.data?.truck_Make }}</span>
          </div>
          <div class="violation-card-items">
            <span class="name">Vin</span>
            <app-ta-copy [copyValue]="violation?.data?.truck_VIN"></app-ta-copy>
           
          </div>
          <div class="violation-card-items">
            <span class="name">Plate No.</span>
            <span class="value">{{ violation?.data?.truck_PlateNo }}</span>
          </div>
          <div class="violation-card-items">
            <span class="name">State</span>
            <span class="value"
              >Pennsylvania ({{ violation?.data?.truck_State }})</span
            >
          </div>
        </div>
      </app-ta-custom-card>
      <app-ta-custom-card
        [bodyTemplate]="'card'"
        [animationsDisabled]="false"
        [hasDivider]="true"
        [cardName]="'Trailer'"
        [isCardOpen]="true"
      >
        <div class="violation-driver-container">
          <div class="violation-driver-item">
            <span class="driver-name"
              >Unit {{ violation?.data?.trailer_Unit }}</span
            >
            <span
            tooltipBackground="#3C3C3C"
            ngbTooltip
            [mainTooltip]="violation?.data?.trailer_Type"
            position="top"
          >
            <svg-icon
              class="truck"
              src="assets/svg/common/trailer.svg"
            ></svg-icon>
            </span>
          </div>
        </div>
        <div class="violation-template-cards-data">
          <div class="violation-card-items">
            <span class="name">Make</span>
            <span class="value">{{ violation?.data?.trailer_Make }}</span>
          </div>
          <div class="violation-card-items">
            <span class="name">Vin</span>
            <app-ta-copy [copyValue]="violation?.data?.trailer_VIN"></app-ta-copy>
            
          </div>
          <div class="violation-card-items">
            <span class="name">Plate No.</span>
            <span class="value">{{ violation?.data?.trailer_PlateNo }}</span>
          </div>
          <div class="violation-card-items">
            <span class="name">State</span>
            <span class="value"
              >Pennsylvania ({{ violation?.data?.trailer_State }})</span
            >
          </div>
        </div>
      </app-ta-custom-card>
    </div>
    <div class="violation-table-wrapper-head">
      <div class="violation-table-container">
      <div class="violation-table-wrapper">
        <div class="violation-t-head">
          <div class="t-head-items">
            <svg-icon
              class="icons"
              src="assets/svg/common/violation-details/ic_unsafe-driving.svg"
            ></svg-icon>
            <span class="name">Unsafe Driving</span>
          </div>
          <div class="total-weight">
            <!-- sw*time-weight -->
            Total Weight <span class="total-weight-number">{{violation?.data?.totalWeight}}</span>
          </div>
        </div>
        <div class="divider"></div>
        <div *ngFor="let violations of violation?.data?.violations; trackBy:identity"  class="violation-t-body">
          <div class="t-body-items">
            <div class="description-name-wrapper">
            <div class="icon-text-wrapper">
              <svg-icon
                class="body-icons"
                src="assets/svg/common/violation-details/ic_steering-wheel.svg"
              ></svg-icon>
              <span class="name">{{violations?.code}}</span>
              
            </div>

            <div class="icon-text-wrapper">
              <svg-icon
                *ngIf="violations?.oos"
                class="body-icons"
                src="assets/svg/common/violation-details/ic_out-service.svg"
              ></svg-icon>
              <span class="name-default"
                >{{violations?.description}}</span
              >
            </div>
          </div>
          <div class="total-violation">
            4<span *ngIf="violations?.oos" class="total-yellow">+2</span>
          </div>
          </div>
          <div class="divider"></div>
        </div>

        
      </div>
    </div>
  
      <div class="violation-table-wrapper second-table">
        <div class="violation-t-head">
          <div class="t-head-items">
            <svg-icon
              class="icons"
              src="assets/svg/common/violation-details/ic_hos.svg"
            ></svg-icon>
            <span class="name">HOS Compliance</span>
          </div>
          <div class="total-weight">
            Total Weight <span class="total-weight-number">18</span>
          </div>
        </div>
        <div class="divider"></div>
        <div class="violation-t-body">
          <div class="t-body-items">
            <div class="description-name-wrapper">
            <div class="icon-text-wrapper">
              <svg-icon
                class="body-icons"
                src="assets/svg/common/violation-details/ic_steering-wheel.svg"
              ></svg-icon>
              <span class="name">392.2SLLS2</span>
            </div>

            <div class="icon-text-wrapper">
              <svg-icon
                class="body-icons"
                src="assets/svg/common/violation-details/ic_out-service.svg"
              ></svg-icon>
              <span class="name-default"
                >State/Local Laws - Speeding 6-10 miles per hour over the speed
                limitation</span
              >
            </div>
          </div>
            <div class="total-violation">4</div>
          </div>
          <div class="divider"></div>
        </div>

       
      </div>

      <div class="violation-table-wrapper second-table">
        <div class="violation-t-head">
          <div class="t-head-items">
            <svg-icon
              class="icons"
              src="assets/svg/common/violation-details/ic_vehicle-maintance.svg"
            ></svg-icon>
            <span class="name">Vehicle Maintenance</span>
          </div>
          <div class="total-weight">
            Total Weight <span class="total-weight-number">18</span>
          </div>
        </div>
        <div class="divider"></div>
        <div class="violation-t-body">
          <div class="t-body-items">
            <div class="description-name-wrapper">
            <div class="icon-text-wrapper">
              <svg-icon
                class="body-icons"
                src="assets/svg/common/violation-details/ic_truck.svg"
              ></svg-icon>
              <span class="name">392.2SLLS2</span>
            </div>

            <div class="icon-text-wrapper">
              <svg-icon
                class="body-icons"
                src="assets/svg/common/violation-details/ic_out-service.svg"
              ></svg-icon>
              <span class="name-default"
                >State/Local Laws - Speeding 6-10 miles per hour over the speed
                limitation</span
              >
            </div>
            </div>
            <div class="total-violation">4</div>
          </div>
          <div class="divider"></div>
        </div>

      </div>

      <div class="violation-table-wrapper second-table">
        <div class="violation-t-head">
          <div class="t-head-items">
            <svg-icon
              class="icons"
              src="assets/svg/common/violation-details/ic_controlled-supstanced.svg"
            ></svg-icon>
            <span class="name">Controlled Substances</span>
          </div>
          <div class="total-weight">
            Total Weight <span class="total-weight-number">57</span>
          </div>
        </div>
        <div class="divider"></div>
        <div class="violation-t-body">
          <div class="t-body-items">
            <div class="description-name-wrapper">
            <div class="icon-text-wrapper">
              <svg-icon
                class="body-icons"
                src="assets/svg/common/violation-details/ic_steering-wheel.svg"
              ></svg-icon>
              <span class="name">392.2SLLS2</span>
            </div>

            <div class="icon-text-wrapper">
              <svg-icon
                class="body-icons"
                src="assets/svg/common/violation-details/ic_out-service.svg"
              ></svg-icon>
              <span class="name-default"
                >State/Local Laws - Speeding 6-10 miles per hour over the speed
                limitation</span
              >
            </div>
            </div>
            <div class="total-violation">
              4<span class="total-yellow">+2</span>
            </div>
          </div>
          <div class="divider"></div>
        </div>
      </div>

      <div class="violation-table-wrapper second-table">
        <div class="violation-t-head">
          <div class="t-head-items">
            <svg-icon
              class="icons"
              src="assets/svg/common/violation-details/ic_hazmat.svg"
            ></svg-icon>
            <span class="name">HazMat Compliance</span>
          </div>
          <div class="total-weight">
            Total Weight <span class="total-weight-number">18</span>
          </div>
        </div>
        <div class="divider"></div>
        <div class="violation-t-body">
          <div class="t-body-items">
            <div class="description-name-wrapper">
            <div class="icon-text-wrapper">
              <svg-icon
                class="body-icons"
                src="assets/svg/common/violation-details/ic_truck.svg"
              ></svg-icon>
              <span class="name">392.2SLLS2</span>
            </div>

            <div class="icon-text-wrapper">
              <svg-icon
                class="body-icons"
                src="assets/svg/common/violation-details/ic_out-service.svg"
              ></svg-icon>
              <span class="name-default"
                >State/Local Laws - Speeding 6-10 miles per hour over the speed
                limitation</span
              >
            </div>
          </div>
            <div class="total-violation">4</div>
          </div>
          <div class="divider"></div>
        </div>
      </div>

      <div class="violation-table-wrapper second-table">
        <div class="violation-t-head">
          <div class="t-head-items">
            <svg-icon
              class="icons"
              src="assets/svg/common/violation-details/ic_driver-fitness.svg"
            ></svg-icon>
            <span class="name">Driver Fitness</span>
          </div>
          <div class="total-weight">
            Total Weight <span class="total-weight-number">57</span>
          </div>
        </div>
        <div class="divider"></div>
        <div class="violation-t-body">
          <div class="t-body-items">
            <div class="description-name-wrapper">
            <div class="icon-text-wrapper">
              <svg-icon
                class="body-icons"
                src="assets/svg/common/violation-details/ic_steering-wheel.svg"
              ></svg-icon>
              <span class="name">392.2SLLS2</span>
            </div>

            <div class="icon-text-wrapper">
              <svg-icon
                class="body-icons"
                src="assets/svg/common/violation-details/ic_out-service.svg"
              ></svg-icon>
              <span class="name-default"
                >State/Local Laws - Speeding 6-10 miles per hour over the speed
                limitation</span
              >
            </div>
            </div>
            <div class="total-violation">
              4<span class="total-yellow">+2</span>
            </div>
          </div>
          <div class="divider"></div>
        </div>


      </div>
    </div>
    </div>
    </div>

    <!---------------------------- Citation TEMPLATE ----------------------------->
    <div class="citation" *ngSwitchCase="'citation'">
      <app-ta-re-card
        [cardDocumentCounter]="6"
        (resizePage)="toggleResizePage(3, 'citation')"
        [cardNameCommon]="'124544533'"
        [noteIcons]="
          true
            ? 'assets/svg/truckassist-table/note/Note.svg'
            : 'assets/svg/truckassist-table/note/Note - Empty.svg'
        "
      >
        <div class="citation-template-data">
          <div class="citation-template-items">
            <span class="name">Cost</span>
            <span class="value-cost">$140.00</span>
          </div>
          <div class="citation-template-items">
            <span class="name">Description</span>
            <span class="value"
              >State/Local Laws - Speeding 6-10 miles per hour over the speed
              limitation</span
            >
          </div>
        </div>
        <div class="card-details-progress-container">
          <app-truckassist-progress-expiration
            [expireDate]="'02/09/24'"
            [startDate]="'01/12/22'"
            [expiresSettings]="'details'"
          >
          </app-truckassist-progress-expiration>
        </div>
        <div class="mark-as-paid-button">Mark as Paid</div>
        <div [@showHideCardBody]="toggler[3 + 'citation'] ? 'true' : 'false'">
          <div [ngClass]="{ 'toggler-wrapper': toggler[3 + 'citation'] }">
            <div class="divider"></div>
            <div class="details-document-container">
              <div class="icon-counter-wrapper">
                <div class="counter-text-wrapper">
                  <app-ta-counter
                    [countBackgroud]="'#F3F3F3'"
                    [countHeight]="'24px'"
                    [countWidth]="'24px'"
                    [count]="6"
                  >
                  </app-ta-counter>
                  <span class="details-document-name">Document</span>
                </div>
                <svg-icon
                  class="download"
                  (click)="onFileAction('download')"
                  src="assets/svg/common/ic_download.svg"
                >
                </svg-icon>
              </div>
            </div>
            <div class="card-pdf">
              <app-ta-upload-files
                [files]="[
                  {
                    name: 'truckassist - 0',
                    url: 'https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf',
                    extension: 'pdf'
                  },
                  {
                    name: 'truckassist - 1',
                    url: 'https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf',
                    extension: 'pdf'
                  }
                ]"
                [customClassName]="'driver-details-pdf'"
                [hasCarouselBottomTabs]="true"
              ></app-ta-upload-files>
            </div>
            <div class="divider"></div>
            <div class="small-note-citation">
              <app-ta-input-note
                [formControl]="note"
                [isVisibleDivider]="false"
                [isVisibleNote]="true"
                [isVisibleArrow]="false"
                [minRows]="1"
                [placeholder]="'Write something.'"
                [noteType]="'details-card'"
              ></app-ta-input-note>
            </div>
          </div>
        </div>
      </app-ta-re-card>
    </div>
  </div>
</div>
