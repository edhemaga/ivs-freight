<div class="details-component">
  <div [ngSwitch]="data.template">
    <!---------------------- GENERAL TEMPLATE ------------------>
    <div *ngSwitchCase="'general'">
      <app-ta-details-header-card
        [tooltipNext]="'Next Trailer'"
        [tooltipPrevious]="'Previous Trailer'"
        [searchName]="'Search Trailer'"
        [cardDetailsName]="trailerName"
        [cardDetailsDate]="'08/03/20'"
      >
        <div class="truck-details-wrapper">
          <div class="details-header-avatar">
            <div class="svg-truck-wrapper">
              <svg-icon
                class="truck"
                src="{{'assets/svg/common/trailers/'+trailerData.trailer.trailerType.logoName}}"
              >
              </svg-icon>
            </div>

            <div class="model-name">
              <div class="svg-wrapper">
                <svg-icon
                  class="details-header-model"
                  src="assets/svg/truckassist-table/trailer/makers/fontaine.svg"
                >
                </svg-icon>
              </div>
              <p>{{ trailerData.trailer.model }}</p>
            </div>
          </div>
          <div class="details-header-data">
            <div class="details-header-data-item">
              <svg-icon src="assets/svg/common/vin.svg"></svg-icon>
              <p class="vin-text">{{ trailerData.trailer.vin }}</p>
            </div>
            <div class="details-header-data-item second">
              <svg-icon src="assets/svg/common/year-truck.svg"></svg-icon>
              <p class="vin-text date">{{ trailerData.trailer.year }}</p>
              <div class="light-green">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 18 18"
                >
                  <g transform="translate(-725 -247)">
                    <rect
                      width="18"
                      height="18"
                      transform="translate(725 247)"
                      fill="none"
                    />
                    <path
                      d="M16,16.365c0-2.42,3.382-7.593,4.989-9.912a1,1,0,0,1,1.66,0c1.607,2.319,4.989,7.492,4.989,9.912a5.819,5.819,0,1,1-11.638,0Zm3.174,0a.529.529,0,0,0-1.058,0,3.708,3.708,0,0,0,3.7,3.733.529.529,0,1,0,0-1.058A2.651,2.651,0,0,1,19.174,16.365Z"
                      transform="translate(712.181 241.886)"
                      [attr.fill]="svgColorVar"
                    />
                  </g>
                </svg>
              </div>
              <p class="vin-text">{{ trailerData.trailer.color.name }}</p>
              <div class="light-green">
                <svg-icon
                  class="resize"
                  src="assets/svg/common/ic_resize.svg"
                ></svg-icon>
              </div>
              <p class="vin-text">{{ trailerData.trailer.trailerLength.name }}</p>
            </div>
          </div>
        </div>
      </app-ta-details-header-card>
      <div class="details-cards">
        <!-- Assigned to -->
        <app-ta-custom-card
          [cardName]="'Assigned To'"
          [hasDivider]="false"
          [tooltipName]="'Dispatch History'"
          [hasHeaderSvg]="'assets/svg/common/ic_half_time.svg'"
          [isCardOpen]="true"
          [bodyTemplate]="'card'"
          [animationsDisabled]="false"
          class="first-custom-card"
        >
          <div class="assignTo">
            <div class="assignTo-item first">
              <svg-icon
                class="assignTo-vehicle"
                [appTooltip]="'Semi Truck'"
                [position]="'top-middle'"
                [tooltipBackground]="'#6c6c6c'"
                [tooltipColor]="'#ffffff'"
                [zIndex]="900"
                [borderRadius]="'2px'"
                [fontWeight]="'bold'"
                [fontSize]="'11px'"
                [customPosition]="38"
              >
              </svg-icon>
              <p class="assignTo-value">No truck</p>
              <svg-icon
                class="open-modal-icon"
                src="assets/svg/common/arrow_top_right.svg"
                [appTooltip]="'View in Modal'"
                [position]="'top-middle'"
                [tooltipBackground]="'#6c6c6c'"
                [tooltipColor]="'#ffffff'"
                [zIndex]="900"
                [borderRadius]="'2px'"
                [fontWeight]="'bold'"
                [fontSize]="'11px'"
                [customPosition]="-26"
              ></svg-icon>
            </div>
            <div class="assignTo-item second">
              <svg-icon
                class="assignTo-vehicle"
                [appTooltip]="'Container'"
                [position]="'top-middle'"
                [tooltipBackground]="'#6c6c6c'"
                [tooltipColor]="'#ffffff'"
                [zIndex]="900"
                [borderRadius]="'2px'"
                [fontWeight]="'bold'"
                [fontSize]="'11px'"
                [customPosition]="40"
              ></svg-icon>
              <p class="assignTo-value">No driver</p>
              <svg-icon
                class="open-modal-icon2"
                src="assets/svg/common/arrow_top_right.svg"
                [appTooltip]="'View in Modal'"
                [position]="'top-middle'"
                [tooltipBackground]="'#6c6c6c'"
                [tooltipColor]="'#ffffff'"
                [zIndex]="900"
                [borderRadius]="'2px'"
                [fontWeight]="'bold'"
                [fontSize]="'11px'"
                [customPosition]="-26"
              ></svg-icon>
            </div>
          </div>
        </app-ta-custom-card>

        <!-- Additional info -->
        <app-ta-custom-card
          [cardName]="'Additional Details'"
          [isCardOpen]="true"
          [bodyTemplate]="'card'"
          [animationsDisabled]="false"
        >
          <div class="common-template">
            <div class="common-template-item">
              <div class="common-template-item-name">Empty Weight</div>
              <div class="common-template-item-value">
                {{ trailerData.trailer.emptyWeight }}
              </div>
            </div>
            <div class="common-template-item">
              <div class="common-template-item-name">Mileage</div>
              <div class="common-template-item-value">
                {{ trailerData.trailer.mileage }} mi
              </div>
            </div>
            <div class="common-template-item">
              <div class="common-template-item-name">Axles</div>
              <div class="common-template-item-value">
                {{ trailerData.trailer.axles }}
              </div>
            </div>
            <div class="common-template-item">
              <div class="common-template-item-name">Tire Size</div>
              <div class="common-template-item-value">
                {{ trailerData.trailer.tireSize.name }}
              </div>
            </div>
            <div class="common-template-item">
              <div class="common-template-item-name">Suspension</div>
              <div class="common-template-item-value">
                {{ trailerData.trailer.suspension.name }}
              </div>
            </div>

            <div class="common-template-item">
              <div class="common-template-item-name">Insurance Policy</div>
              <div class="common-template-item-value">
                {{ trailerData.trailer.insurancePolicy }}
              </div>
            </div>
          </div>
        </app-ta-custom-card>

        <!-- Owner -->
        <app-ta-custom-card
          [cardName]="'Owner'"
          [isCardOpen]="true"
          [bodyTemplate]="'card'"
          [animationsDisabled]="false"
        >
          <div class="owner-container">
            <div class="owner-items-name">
              <p class="firm-name">{{ trailerData.trailer.owner.name }}</p>
            </div>
            <div *ngIf="toggleOwner">
              <div class="owner-items">
                <svg-icon src="assets/svg/common/ic_phone.svg"></svg-icon>
                <p class="information-value">
                  {{ formatPhone(trailerData.trailer.owner.phone) }}
                </p>
              </div>
              <div class="owner-items">
                <svg-icon src="assets/svg/common/ic_email.svg"></svg-icon>
                <p class="information-value">
                  {{ trailerData.trailer.owner.email }}
                </p>
              </div>
              <div class="owner-items">
                <svg-icon src="assets/svg/common/ic_address.svg"></svg-icon>
                <p class="information-value">
                  {{ trailerData.trailer.owner.address }}
                </p>
              </div>
            </div>
            <div [ngClass]="{ 'transform-arrow': toggleOwner }" >
            <div (click)="toggleOwner = !toggleOwner" class="icon-show">
              <svg-icon
                [appTooltip]="toggleOwner? 'HIDE CONTACT' : ''"
                [position]="'top-middle'"
                [tooltipBackground]="'#6c6c6c'"
                [tooltipColor]="'#ffffff'"
                [zIndex]="900"
                [borderRadius]="'2px'"
                [fontWeight]="'bold'"
                [fontSize]="'11px'"
                [customPosition]="0"
                class="arrow-down-employment"
                src="assets/svg/common/fill_arrow_down.svg"
              ></svg-icon>
              <p class="hide-show">
                {{ toggleOwner ? "HIDE CONTACT" : "" }}
              </p>
            </div>
          </div>
          </div>
        </app-ta-custom-card>

        <!-- Owner History -->
        <app-ta-custom-card
          [cardName]="'Owner History'"
          [isCardOpen]="true"
          [tooltipName]="'View in Modal'"
          [bodyTemplate]="'card'"
          [hasHeaderSvg]="'assets/svg/common/arrow_top_right.svg'"
          [animationsDisabled]="false"
        >
        <div class="owner-history-container">
          <div class="status-container">
            <div class="status-header">
              <div class="status-item">
                <p class="p-status">COMPANY</p>
              </div>
              <div class="status-item">
                <p class="p-status">FROM - TO</p>
              </div>
              <div class="status-item">
                <p class="p-status">DURATION</p>
              </div>
            </div>
            <div class="divider"></div>
            <div class="status-items">
              <div
                class="item-wrapper"
                *ngFor="let owHist of trailerData.trailer.ownerHistories; trackBy: identity"
              >
                <p class="employment">{{ owHist.name }}</p>

                <p class="date-from-to">
                  {{ formatDate(owHist.startDate) }} -
                  {{
                    owHist.endDate !==null
                      ? formatDate(owHist.endDate)
                      : "Today"
                  }}
                </p>
                <p class="duration">1 y 200 d</p>
              </div>
            </div>
          </div>
        </div>
        </app-ta-custom-card>
         
        <!-- Note  -->
        <div class="note-cards">
          <app-ta-input-note
            [formControl]="note"
            [isReadOnly]="true"
            [isVisibleNote]="note.value"
          ></app-ta-input-note>
        </div>
      </div>
    </div>
      <!---------------------------- Registration TEMPLATE ----------------------------->
      <div *ngSwitchCase="'registration'">
        <div *ngFor="let reg of trailerData.trailer.registrations; trackBy: identity">
          <app-ta-re-card
            [cardDocumentCounter]="1"
            (resizePage)="toggleResizePage($event)"
            [cardNameCommon]="reg.licensePlate"
            [hasCopyIcon]="true"
            [options]="dataTest"
            [expDateClose]="formatDate(reg.expDate)"
          >
            <div class="cards-container">
              <div class="card-body-cdl">
                <div class="card-row-endor">
                  <div class="card-item">
                    <div class="card-item-name">State</div>
                    <div class="card-item-value">KV</div>
                  </div>
                  <div class="card-item">
                    <div class="card-item-name">Issued</div>
                    <div class="card-item-value">
                      {{ formatDate(reg.issueDate) }}
                    </div>
                  </div>
                </div>
                <div
                  class="card-row-progress"
                  [ngClass]="{ 'second-progress': toggler }"
                >
                  <div class="card-details-progress-container">
                    <app-truckassist-progress-expiration
                      [expireDate]="formatDate(reg.expDate)"
                      [startDate]="formatDate(reg.issueDate)"
                      [expiresSettings]="'details'"
                    >
                    </app-truckassist-progress-expiration>
                  </div>
                </div>
              </div>
              <div class="divider" *ngIf="toggler"></div>
              <div *ngIf="toggler" class="note-wrapper">
                <app-ta-input-note
                  [formControl]="registrationNote"
                  [isVisibleDivider]="false"
                  [placeholder]="'Write something.'"
                  [customClass]="'note-small'"
                  [isVisibleArrow]="false"
                  [minRows]="1"
                  [isVisibleNote]="true"
                ></app-ta-input-note>
              </div>
            </div>
          </app-ta-re-card>
        </div>
      </div>
      <!---------------------------- Fhwa-insepction TEMPLATE ----------------------------->
      <div *ngSwitchCase="'fhwa-insepction'">
        <div *ngFor="let fhwa of trailerData.trailer.inspections; trackBy: identity">
          <app-ta-re-card
            [options]="dataTest"
            [cardNameCommon]="formatDate(fhwa.issueDate)"
            [expDateClose]="formatDate('04/04/25')"
          >
            <div class="cards-container">
              <div class="card-body-cdl">
                <div
                  class="card-row-progress"
                  [ngClass]="{ 'second-progress': toggler }"
                >
                  <div class="card-details-progress-container">
                    <app-truckassist-progress-expiration
                      [expireDate]="'04/04/25'"
                      [startDate]="formatDate(fhwa.issueDate)"
                      [expiresSettings]="'details'"
                    >
                    </app-truckassist-progress-expiration>
                  </div>
                </div>
              </div>
              <div *ngIf="toggler" class="note-wrapper">
                <app-ta-input-note
                  [formControl]="fhwaNote"
                  [placeholder]="'Write something.'"
                  [customClass]="'note-small'"
                  [isVisibleArrow]="false"
                  [minRows]="1"
                  [isVisibleNote]="true"
                ></app-ta-input-note>
              </div>
            </div>
          </app-ta-re-card>
        </div>
      </div>
  
      <!---------------------------- Title TEMPLATE ----------------------------->
      <div *ngSwitchCase="'title'">
        <div *ngFor="let title of trailerData.trailer.titles; trackBy: identity">
          <app-ta-re-card
            [cardDocumentCounter]="1"
            (resizePage)="toggleResizePage($event)"
            [cardNameCommon]="title.number"
            [options]="dataTest"
            [expDateClose]="formatDate('04/04/27')"
          >
            <div class="cards-container">
              <div class="card-body-cdl">
                <div class="card-row-endor">
                  <div class="card-item">
                    <div class="card-item-name">State</div>
                    <div class="card-item-value">KV</div>
                  </div>
                  <div class="card-item">
                    <div class="card-item-name">Issued</div>
                    <div class="card-item-value">
                      {{ formatDate(title.issueDate) }}
                    </div>
                  </div>
                </div>
                <div
                  class="card-row-progress"
                  [ngClass]="{ 'second-progress': toggler }"
                >
                  <div class="card-details-progress-container">
                    <app-truckassist-progress-expiration
                      [expireDate]="'04/04/27'"
                      [startDate]="formatDate(title.issueDate)"
                      [expiresSettings]="'details'"
                    >
                    </app-truckassist-progress-expiration>
                  </div>
                </div>
              </div>
              <div class="divider" *ngIf="toggler"></div>
              <div *ngIf="toggler" class="note-wrapper">
                <app-ta-input-note
                  [formControl]="titleNote"
                  [placeholder]="'Write something.'"
                  [customClass]="'note-small'"
                  [isVisibleArrow]="false"
                  [minRows]="1"
                  [isVisibleDivider]="false"
                  [isVisibleNote]="true"
                ></app-ta-input-note>
              </div>
            </div>
          </app-ta-re-card>
        </div>
      </div>
      <!---------------------------- Lease/Purchase TEMPLATE ----------------------------->
      <div *ngSwitchCase="'lease-purchase'">
          <div class="test" style="background-color: #ffffff; height:200px ;"></div>
      </div>
  </div>
</div>
