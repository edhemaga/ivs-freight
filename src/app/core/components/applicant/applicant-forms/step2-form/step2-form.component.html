<div class="d-flex flex-column step-form" [formGroup]="form">
  <!-- EMPLOYER -->

  <div class="d-flex">
    <div class="group">
      <app-ta-input
        formControlName="employer"
        [inputConfig]="{
          name: 'Employer',
          type: 'text',
          label: 'Current or last employer',
          isRequired: true,
          textTransform: 'capitalize',
          autoFocus: true
        }"
      ></app-ta-input>
    </div>
  </div>

  <!-- JOB DESCRIPTION, FROM, TO -->

  <div class="d-flex">
    <div class="group job-description-group">
      <app-ta-input
        formControlName="jobDescription"
        [inputConfig]="{
          name: 'Job Description',
          type: 'text',
          label: 'Job description',
          isRequired: true,
          textTransform: 'capitalize'
        }"
      ></app-ta-input>
    </div>
    <div class="group date-group">
      <app-ta-input
        formControlName="fromDate"
        [inputConfig]="{
          name: 'datepicker',
          type: 'text',
          label: 'From',
          placeholderIcon: 'date',
          isRequired: true,
          customClass: 'datetimeclass'
        }"
      ></app-ta-input>
    </div>
    <div class="group date-group">
      <app-ta-input
        formControlName="toDate"
        [inputConfig]="{
          name: 'datepicker',
          type: 'text',
          label: 'To',
          placeholderIcon: 'date',
          isRequired: true,
          customClass: 'datetimeclass'
        }"
      ></app-ta-input>
    </div>
  </div>

  <!-- PHONE, EMAIL, FAX -->

  <div class="d-flex">
    <div class="group phone-group">
      <app-ta-input
        formControlName="employerPhone"
        [inputConfig]="{
          name: 'Phone',
          type: 'text',
          label: 'Employer Phone',
          isRequired: true,
          placeholderIcon: 'phone',
          mask: '(000) 000-0000'
        }"
      ></app-ta-input>
    </div>
    <div class="group email-group">
      <app-ta-input
        formControlName="employerEmail"
        [inputConfig]="{
          name: 'Email',
          type: 'text',
          label: 'Employer Email',
          isRequired: true,
          placeholderIcon: 'email'
        }"
      ></app-ta-input>
    </div>
    <div class="group fax-group">
      <app-ta-input
        formControlName="employerFax"
        [inputConfig]="{
          name: 'Fax',
          type: 'text',
          label: 'Employer Fax',
          placeholderIcon: 'fax'
        }"
      ></app-ta-input>
    </div>
  </div>

  <!-- ADDRESS -->

  <div class="d-flex">
    <div class="group address-group">
      <app-ta-input-address
        formControlName="employerAddress"
        [inputConfig]="{
          name: 'Address',
          type: 'text',
          label: 'Employer Address, City, State Zip',
          isRequired: true,
          placeholderIcon: 'address',
          textTransform: 'capitalize'
        }"
        [activeAddress]="selectedAddress"
        (selectedAddress)="handleInputSelect($event, 'ADDRESS')"
      ></app-ta-input-address>
    </div>
    <div class="group address-unit-group">
      <app-ta-input
        formControlName="employerAddressUnit"
        [inputConfig]="{
          name: 'Address Unit',
          type: 'text',
          label: 'Unit #',
          maxLength: 6
        }"
      ></app-ta-input>
    </div>
  </div>

  <!-- DRIVING POSITION CHECKBOX -->

  <div
    class="d-flex justify-content-center align-items-center driving-position-group"
  >
    <app-ta-checkbox
      formControlName="isDrivingPosition"
      [name]="'isDrivingPosition'"
      [label]="'Was this a driving position?'"
      [customClass]="'bold-14'"
    ></app-ta-checkbox>
  </div>

  <!-- TRUCK TYPE, TRAILER TYPE, LENGTH -->

  <div class="d-flex flex-column" *ngIf="form.get('isDrivingPosition').value">
    <div class="d-flex">
      <div class="group vehicle-type-group">
        <app-ta-input-dropdown
          formControlName="truckType"
          [template]="'svgtext-template'"
          [inputConfig]="{
            name: 'Input Dropdown',
            type: 'text',
            label: 'Vehicle type',
            isRequired: true,
            isDropdown: true,
            dropdownWidthClass: 'w-col-applicant-t-type'
          }"
          [options]="truckType"
          (selectedItem)="handleInputSelect($event, 'TRUCK-TYPE')"
        ></app-ta-input-dropdown>
      </div>
      <div class="group trailer-type-group">
        <app-ta-input-dropdown
          formControlName="trailerType"
          [template]="'svgtext-template'"
          [inputConfig]="{
            name: 'Input Dropdown',
            type: 'text',
            label: 'Trailer Type',
            isDisabled: !isTruckSelected,
            isRequired: isTruckSelected,
            isDropdown: true,
            dropdownWidthClass: 'w-col-applicant-t-type'
          }"
          [options]="trailerType"
          (selectedItem)="handleInputSelect($event, 'TRAILER-TYPE')"
        ></app-ta-input-dropdown>
      </div>
      <div class="group length-group">
        <app-ta-input-dropdown
          formControlName="trailerLength"
          [inputConfig]="{
            name: 'Input Dropdown',
            type: 'text',
            label: 'Length',
            isDropdown: true,
            isDisabled: !isTruckSelected,
            isRequired: isTruckSelected,
            dropdownWidthClass: 'w-col-applicant-length'
          }"
          [options]="trailerLengthType"
          (selectedItem)="handleInputSelect($event, 'TRAILER-LENGTH')"
        ></app-ta-input-dropdown>
      </div>
    </div>

    <!-- ANOTHER CLASS -->

    <div
      class="d-flex justify-content-center align-items-center another-class-group"
    >
      <button
        type="button"
        class="d-flex justify-content-center align-items-center ta-font-bold add-btn"
      >
        <svg-icon
          class="plus-icon"
          src="assets/svg/common/ic_plus.svg
  "
          [svgStyle]="{
            'width.px': 18,
            'height.px': 18
          }"
        ></svg-icon>

        Add Another Class Of Equipment
      </button>
    </div>

    <!-- QUESTIONS -->

    <ng-container *ngIf="questions">
      <div class="d-flex align-items-center questions-container">
        <div
          class="d-flex align-items-center question-box"
          *ngFor="
            let question of questions;
            let i = index;
            trackBy: trackByIdentity
          "
        >
          <div class="question-title-box">
            <p class="m-0 noselect ta-font-regular">
              {{ question.title }} <span>*</span>
            </p>
          </div>

          <div class="question-radios-box">
            <app-ta-input-radiobuttons
              [buttons]="question.answerChoices"
              (changedValue)="handleInputSelect($event, 'ANSWER-CHOICE')"
            ></app-ta-input-radiobuttons>
          </div>
        </div>
      </div>
    </ng-container>
  </div>

  <!-- REASON FOR LEAVING -->

  <div class="d-flex">
    <div class="group reason-for-leaving-group">
      <app-ta-input-dropdown
        formControlName="reasonForLeaving"
        [template]="'svgtext-template'"
        [inputConfig]="{
          name: 'Input Dropdown',
          type: 'text',
          label: 'Reason for leaving',
          isRequired: true,
          isDropdown: true,
          dropdownWidthClass: 'w-col-455'
        }"
        [options]="reasonsForLeaving"
        [activeItem]="selectedReasonForLeaving"
        (selectedItem)="handleInputSelect($event, 'REASON-FOR-LEAVING')"
      ></app-ta-input-dropdown>
    </div>
  </div>

  <!-- ACCOUNT FOR PERIOD -->

  <div class="d-flex">
    <div class="mb-0 group">
      <app-ta-input
        formControlName="accountForPeriod"
        [inputConfig]="{
          name: 'Account for Period',
          type: 'text',
          label: 'Account for period between jobs (include reason)',
          textTransform: 'capitalize'
        }"
      ></app-ta-input>
    </div>
  </div>
</div>
