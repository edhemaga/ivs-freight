<div class="nav-footer" [ngClass]="{ 'nav-footer-width': isNavigationHovered }">
    <div
        class="settings-footer"
        [ngClass]="{
            'activated-footer-route': settingsRouteActivated
        }"
    >
        <app-navigation-settings
            (activatedSettingsRoute)="settingsRouteClicked($event)"
            [isNavigationHovered]="isNavigationHovered"
            [isUserPanelOpen]="isUserPanelOpen"
            [isSettingsPanelOpen]="isSettingsPanelOpen"
            [settingsRouteActivated]="settingsRouteActivated"
        ></app-navigation-settings>
    </div>
    <div
        *ngFor="let item of footerData; trackBy: identity; let ind = index"
        class="nav-footer-item close"
        [ngClass]="{
            'nav-footer-item-scaleWidth': !isNavigationHovered,
            show: isNavigationHovered,
            'activated-footer-route': notificationsActive && item.notification
        }"
        (click)="onAction(ind, 'Open User Panel')"
        [routerLink]="item.route"
        routerLinkActive="{{ ind !== 2 ? 'nav-footer-item-active' : '' }}"
    >
        <div
            *ngIf="item.notification"
            class="tooltip"
            ngbTooltip
            mainTooltip="Notifications"
            tooltipBackground="#2F2F2F"
            position="right"
        ></div>
        <div
            [ngClass]="{
                'hide-user': isUserPanelOpen === true && ind === 2,
                'user-profile': ind === 2
            }"
        >
            <div
                [ngClass]="{
                    'hide-user': isUserCompanyDetailsOpen && ind === 2
                }"
            >
                <div
                    [ngClass]="{ notification: item.notification }"
                    (click)="
                        item.notification &&
                            settingsRouteClicked({
                                value: true,
                                id: item.id
                            })
                    "
                >
                    <div *ngIf="item.text !== ''">
                        <div
                            class="nav-footer-hover"
                            [ngClass]="{ 'nav-footer-hover-user': ind === 2 }"
                        ></div>

                        <div
                            *ngIf="isActiveFooterRoute(item)"
                            class="nav-item-active-box"
                        ></div>
                        <div
                            class="status-marker-container-notification-1 close"
                        >
                            <svg-icon
                                *ngIf="
                                    item.notification && !isNavigationHovered
                                "
                                class="notification-svg"
                                src="../../../../../assets/svg/applicant/notification-light.svg"
                            >
                            </svg-icon>
                            <svg-icon
                                *ngIf="item.notification && isNavigationHovered"
                                class="notification-svg"
                                src="../../../../../assets/svg/applicant/notification.svg"
                            >
                            </svg-icon>
                        </div>
                        <svg-icon
                            *ngIf="item.notification"
                            class="notification-svg"
                            src="{{ item.image }}"
                            [ngClass]="{
                                'active-img': notificationsActive,
                                close: item.notification
                            }"
                        >
                        </svg-icon>
                        <img
                            class="nav-footer-image"
                            [ngClass]="{
                                'nav-footer-image-user': ind === 2
                            }"
                            *ngIf="!item.notification"
                            [src]="item.image"
                            [alt]="item.text.userName"
                        />

                        <div
                            class="nav-footer-rightSide"
                            [@showHideDetails]="
                                isNavigationHovered ? 'true' : 'false'
                            "
                            [ngClass]="{ close: item.notification }"
                        >
                            <p
                                class="nav-footer-text ta-font-regular"
                                *ngIf="
                                    !(item.text | userData) &&
                                    isNavigationHovered
                                "
                                [ngClass]="{
                                    'active-route': notificationsActive
                                }"
                            >
                                {{ item.text }}
                            </p>
                            <div
                                [@showHideDetails]="
                                    isNavigationHovered ? 'true' : 'false'
                                "
                                *ngIf="item.notification"
                                class="notification-message"
                            >
                                <span>
                                    {{ item.notification }}
                                </span>
                            </div>
                            <div
                                class="nav-footer-user"
                                *ngIf="
                                    (item.text | userData) &&
                                    isNavigationHovered
                                "
                            >
                                <p class="nav-footer-user-company">
                                    {{ item.text.companyName }}
                                </p>
                                <p class="nav-footer-user-name">
                                    {{ item.text.userName }}
                                </p>
                            </div>
                        </div>
                        <div
                            *ngIf="currentUserStatus && (item.text | userData)"
                            class="status-marker-container"
                        >
                            <div
                                [ngClass]="{
                                    'status-active':
                                        currentUserStatus === 'active',
                                    'status-online':
                                        currentUserStatus === 'online',
                                    'status-away': currentUserStatus === 'away',
                                    'status-busy': currentUserStatus === 'busy',
                                    'status-offline':
                                        currentUserStatus === 'offline'
                                }"
                                class="status-marker"
                            >
                                <svg-icon
                                    src="../../../../../assets/svg/applicant/user-active.svg"
                                >
                                </svg-icon>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div
        *ngIf="
            !mouseOverFooter &&
            !isActiveSubroute &&
            !isUserPanelOpen &&
            !isSettingsPanelOpen
        "
        [@showHideDetailsMagicLine]="
            showMagicLine &&
            !isUserCompanyDetailsOpen &&
            !isUserPanelOpen &&
            !isSettingsPanelOpen &&
            !isModalPanelOpen
        "
        class="magic-line-footer"
        [ngClass]="{ 'magic-line-not-hovered': !isNavigationHovered }"
    ></div>
</div>
