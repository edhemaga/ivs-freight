<div
  class="navigation"
  (mouseenter)="isNavigationHovered = true"
  (mouseleave)="isNavigationHovered = false"
>
  <div class="navigation-top">
    <app-navigation-header
      [isNavigationHovered]="isNavigationHovered"
      (onModalPanelOpenEvent)="onPanelEvent($event, 'ModalPanel')"
    ></app-navigation-header>

    <app-navigation-modals
      (onModalPanelCloseEvent)="onPanelEvent($event, 'ModalPanel')"
      *ngIf="isModalPanelOpen && isNavigationHovered"
    ></app-navigation-modals>

    <div
      class="navigation-routes"
      *ngFor="let item of navigation; trackBy: identifySubRoute"
    >
      <app-navigation-route
        *ngIf="!item.arrow && !item.isSubRouteActive"
        [navRoute]="item"
        [isNavigationHovered]="isNavigationHovered"
        (onSubRouteEvent)="onSubRouteEvent($event)"
      >
      </app-navigation-route>

      <app-navigation-subroute-card
        *ngIf="item.arrow"
        [isSubRouteActive]="item.isSubRouteActive"
        [isNavigationHovered]="isNavigationHovered"
        [contentHeight]="item.route.length"
      >
        <app-navigation-route
          [navRoute]="item"
          [isNavigationHovered]="isNavigationHovered"
          (onSubRouteEvent)="onSubRouteEvent($event)"
        >
        </app-navigation-route>

        <app-navigation-subroute
          *ngIf="item.isSubRouteActive && isNavigationHovered"
          [subroute]="item"
          [mode]="'subroutes'"
        >
        </app-navigation-subroute>
      </app-navigation-subroute-card>
    </div>
  </div>

  <div class="navigation-bottom">
    <app-navigation-footer
      [isNavigationHovered]="isNavigationHovered"
      (onUserPanelOpenEvent)="onPanelEvent($event, 'UserPanel')"
    ></app-navigation-footer>

    <app-navigation-user-profile
      [isNavigationHovered]="isNavigationHovered"
      [isUserPanelOpen]="isUserPanelOpen"
      (onUserPanelCloseEvent)="onPanelEvent($event, 'UserPanel')"
    >
    </app-navigation-user-profile>
  </div>
</div>
