<div
    *ngIf="isNavItemHovered && isActiveSubroute && !route.isRouteActive"
    class="nav-item-hover"
    [ngClass]="{
        'route-hover': navigationIsOpened
    }"
></div>
<div
    class="{{ class }}"
    class="nav-item"
    [ngClass]="{
        'nav-width': navigationIsOpened,
        'nav-item-parent-active':
            selectedRoute == route.name && !subrouteContainerOpened,
        'disable-cursor':
            selectedRoute == route.name &&
            !subrouteContainerOpened &&
            !route.arrow
    }"
    (mouseenter)="onNavItemHover(true); showToolTip = true"
    (mouseleave)="onNavItemHover(false); showToolTip = false"
    (click)="
        onRouteAction(route.id, route.construction);
        routeWithSubRoutesClick(route.arrow)
    "
>
    <div
        class="tooltip-right"
        [ngClass]="{ 'hide-tooltip': navigationIsOpened }"
    >
        <app-ta-tooltip-slide
            [show]="showToolTip"
            [name]="route.name"
        ></app-ta-tooltip-slide>
    </div>
    <div
        [ngClass]="{
            'nav-item-active-box':
                (route.isRouteActive ||
                    footerRouteActive ||
                    route.isSubrouteActive) &&
                footerRouteActive &&
                !navigationIsOpened &&
                !isSettingsPanelOpen &&
                !isUserPanelOpen &&
                selectedRoute == route.name &&
                !middleIsHovered &&
                !footerHovered,
            'box-animation-closed-nav': !magicBoxAnime
        }"
    ></div>

    <svg-icon
        class="{{ class }}"
        class="nav-item-img-active"
        [src]="'assets/svg/common/' + route.image"
        [ngClass]="{
            'nav-item-img': !route.construction,
            'route-clicked-svg':
                route.isRouteActive &&
                route.arrow &&
                closeDropdownOnNavClose &&
                !isSettingsPanelOpen &&
                !isUserPanelOpen,
            'nav-item-svg-active': selectedRoute === route.name,
            'route-not-active-svg': route.construction && navigationIsOpened,
            'route-closed-nav-svg-not-active':
                route.construction && !navigationIsOpened
        }"
    ></svg-icon>

    <div *ngIf="message > 0" class="message-container">
        <svg-icon
            class="{{ class }}"
            [ngClass]="{
                'notification-light': !navigationIsOpened,
                'notification-dark': navigationIsOpened
            }"
            class="notification-img"
            src="assets/svg/applicant/notification-light.svg"
        ></svg-icon>
    </div>

    <div
        class="{{ class }}"
        class="nav-item-rightSide"
        [@showHideDetails]="navigationIsOpened ? 'true' : 'false'"
    >
        <p
            class="nav-item-name"
            [ngClass]="{
                'nav-item-name-active': selectedRoute == route.name,

                'active-text':
                    route.isRouteActive &&
                    route.arrow &&
                    closeDropdownOnNavClose &&
                    !isSettingsPanelOpen &&
                    !isUserPanelOpen &&
                    !settingsPage,

                'route-not-active': route.construction == true,
                'route-name-files': files,
                'route-name-message': message
            }"
            [@showHideDetails]="navigationIsOpened ? 'true' : 'false'"
        >
            {{ route.name }}
            <span
                class="subroute"
                *ngIf="
                    route.id == activeRouteIdFromLocalStorage &&
                    !activeLinkHighlight &&
                    activeRouteName != 'notifications'
                "
                [ngClass]="{ 'animation-text': navigationIsOpened }"
            >
                &nbsp;[{{ activeRouteName | titlecase }}]
            </span>
        </p>
        <div
            class="message"
            *ngIf="message"
            [@showHideDetails]="navigationIsOpened ? 'true' : 'false'"
        >
            <span>
                {{ message }}
            </span>
        </div>
        <div
            *ngIf="files"
            class="files"
            [@showHideDetails]="navigationIsOpened ? 'true' : 'false'"
        >
            <span>{{ files }}% full</span>
            <svg-icon src="assets/svg/common/ic_danger_white.svg"></svg-icon>
        </div>
        <svg-icon
            class="nav-item-arrow nav-item-arrow-active"
            [ngClass]="{
                'nav-item-arrow-rotate':
                    route.isRouteActive &&
                    !route.isSubrouteActive &&
                    closeDropdownOnNavClose &&
                    !isSettingsPanelOpen &&
                    !isUserPanelOpen,

                'nav-item-arrow-first': route.id === 3,
                'nav-openend-svg': navigationIsOpened
            }"
            *ngIf="route.arrow"
            src="{{ route.arrow }}"
        ></svg-icon>
        <svg-icon
            *ngIf="navigationIsOpened && !route.arrow && !message && !files"
            class="nav-item-arrow_top"
            src="assets/svg/common/arrow_top_right.svg"
            (click)="openLinkInNewWindow(route.route); $event.stopPropagation()"
            (mouseenter)="hoveredArrow(true)"
            (mouseleave)="hoveredArrow(false)"
            [ngClass]="{ 'hovered-arrow': arrowHovered }"
        ></svg-icon>
    </div>
</div>
