<div #fullcalendar id='custom-calendar'></div>
<div class="dashboard_history_holder ms-0">
  <div class="dashboar_hist_header weather_holder load_holder_dash">
    <div class="dashb_white_part">
            <span
              appSelectionColor
              style="color: #919191b3;"
            >Calendar</span>
    </div>
    <div class="dashboard_calendar_buttons">
      <div
        (click)="handleCalendarArrowsClick('prev')"
        class="dashboard_cal_button">
        <svg-icon src="../../assets/img/svgs/left.svg"></svg-icon>
      </div>
      <div class="dashboard_cal_picker">
        <div class="datePickerButtonText">{{calendarTitle}}</div>
        <!-- <kendo-floatinglabel class="calendarDatePicker" text="">
          <kendo-datepicker
            (valueChange)="goToDate()"
            [(ngModel)]="selectedDate"
            [formatPlaceholder]="{
                    year: 'yy',
                    month: 'mm',
                    day: 'dd'
                    }"
            [format]="format"
            [popupSettings]="{ popupClass: 'custom-datepick' }"
          >
          </kendo-datepicker>
        </kendo-floatinglabel> -->
      </div>
      <div
        (click)="handleCalendarArrowsClick('next')"
        class="dashboard_cal_button">
        <svg-icon src="../../assets/img/svgs/right.svg"></svg-icon>
      </div>
    </div>
    <div
      (click)="goToTodayDate()"
      appSelectionColor
      class="todayBtn"
      style="color: #B7B7B7;"
    >Today
    </div>
  </div>
  <div class="dashboard_calendar">
    <div class="custom_calendar_top d-flex">
      <div appSelectionColor class="calendar_day_head" style="color: #919191;">Sun</div>
      <div appSelectionColor class="calendar_day_head" style="color: #919191;">Mon</div>
      <div appSelectionColor class="calendar_day_head" style="color: #919191;">Tue</div>
      <div appSelectionColor class="calendar_day_head" style="color: #919191;">Wed</div>
      <div appSelectionColor class="calendar_day_head" style="color: #919191;">Thu</div>
      <div appSelectionColor class="calendar_day_head" style="color: #919191;">Fri</div>
      <div appSelectionColor class="calendar_day_head" style="color: #919191;">Sat</div>
    </div>
    <div class="cusom_calendar_days">
      <div
        (mouseleave)="toggleShowMoreEvents(ind, false)"
        *ngFor="let day of monthDays; let ind = index"
        [class.six_sizes]="(monthDays.length / 7) == 5"
        [ngClass]="day.additionalClass && day.additionalClass.join(' ')"
        [style.color]="day.additionalClass && day.additionalClass.includes('prev_days') ? 'rgba(145, 145, 145, 0.05)' : 'rgba(145, 145, 145, 0.18)'"
        appSelectionColor
        class="calendar_day"
      >
        {{day.day}}
        <div *ngIf="day.events.length > 0" class="custom_calendar_dropdown">
          <div *ngFor="let evnt of (day.showedMore ? day.events : day.events.slice(0 ,3))" class="custom_event_show">
            <div *ngIf="!evnt.def.allDay" class="all-day-event d-flex">
              <div class="all_day_bubble"></div>
              <div
                class="all_day_info">{{evnt.def.recurringDef?.typeData.rruleSet._dtstart | date : 'h:maaaaa'}} {{evnt.def.title}}</div>
            </div>
            <div *ngIf="evnt.def.allDay" class="all-day-event d-flex">
              <div class="repeat_event">{{evnt.def.title}}</div>
            </div>
          </div>
          <div (click)="toggleShowMoreEvents(ind, true)" *ngIf="day.events.slice(3).length > 0 && !day.showedMore"
               class="additional_more">{{day.events.slice(3).length}} more
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
