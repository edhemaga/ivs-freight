<!-- Dropdown search, select item -->
<app-ta-input
  [formControl]="getSuperControl"
  [inputConfig]="inputConfig"
  #t2="ngbPopover"
  [ngbPopover]="taInputDropdownPopover"
  [placement]="['bottom-left']"
  popoverClass="ta-input-dropdown"
  [container]="'body'"
  autoClose="'outside'"
></app-ta-input>

<ng-template #taInputDropdownPopover>
  <!-- Dropdown options -->
  <div
    class="dropdown-options  {{ inputConfig.dropdownWidthClass }}"
    [ngClass]="{
      scroll: options.length > 6
    }"
  >
    <div [ngSwitch]="template">
      <!-- Banks Template -->
      <div *ngSwitchCase="'banks'">
        <div
          *ngFor="let option of options; trackBy: identity"
          class="dropdown-option"
          [ngClass]="{
            disabled: option?.disabled,
            'no-result':
              options.length === 1 && options[0].name === 'No Results',
            'add-new': options.length === 1 && options[0].name === 'Add New',
            active: option.id === activeItem?.id
          }"
          (click)="onActiveItem(option)"
        >
          <svg-icon
            *ngIf="option.svg"
            class="banks-logo"
            [ngClass]="{ active: option.id === activeItem?.id }"
            [src]="option.svg | taSvg: option.folder:option.subFolder"
          ></svg-icon>
          <div
            *ngIf="!option.svg"
            [innerHtml]="
              option.name
                | taHighlight: [{ index: 45632, text: getSuperControl.value }]
            "
          ></div>
        </div>
      </div>
      <!-- Svg Text Template (display flex) -->
      <div *ngSwitchCase="'svgtextflex'">
        <div
          *ngFor="let option of options; trackBy: identity"
          class="dropdown-option svg-text-flex {{ option.subFolder }} {{
            option.name.trim().replace(' ', '').toLowerCase()
          }}"
          [ngClass]="{
            disabled: option?.disabled,
            'no-result':
              options.length === 1 && options[0].name === 'No Results',
            'add-new': options.length === 1 && options[0].name === 'Add New',
            active: option.id === activeItem?.id,
            'trailerContainer': option.name === 'Container',
            'semisleeper': option.name === 'Semi w/Sleeper',
            'lowboyrgn': option.name === 'Low Boy/RGN'
          }"
          (click)="onActiveItem(option)"
        >
          <svg-icon
            class="svgtextflex-logo {{
              option.name.trim().replace(' ', '').toLowerCase()
            }}"
            [ngClass]="{ active: option.id === activeItem?.id }"
            [src]="option.svg | taSvg: option.folder:option?.subFolder"
          ></svg-icon>
          <div
            class="svgtextflex-text"
            [ngClass]="{'truck-text': option.subFolder === 'trucks'}"
            [innerHtml]="
              option.name
                | taHighlight: [{ index: 45632, text: getSuperControl.value }]
            "
          ></div>
        </div>
      </div>
      <!-- Default Template - Render Only Text -->
      <div *ngSwitchDefault>
        <div
          *ngFor="let option of options; trackBy: identity"
          class="dropdown-option"
          [ngClass]="{
            disabled: option?.disabled,
            'no-result':
              options.length === 1 && options[0].name === 'No Results',
            'add-new': options.length === 1 && options[0].name === 'Add New',
            active: option.id === activeItem?.id
          }"
          (click)="onActiveItem(option)"
          [innerHtml]="
            option.name
              | taHighlight: [{ index: 45632, text: getSuperControl.value }]
          "
        ></div>
      </div>
    </div>
  </div>
</ng-template>
