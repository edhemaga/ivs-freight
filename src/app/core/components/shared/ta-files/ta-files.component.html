<div class="files-container">
  <!------------- Single PDF, DOCUMENT file template --------------->
  <div
    class="file-preview"
    *ngIf="['single-pdf', 'single-document'].includes(fileType) && files.length"
  >
    <app-ta-file
      *ngFor="let file of files; trackBy: identity"
      [file]="file"
      [customClassName]="customClassName"
      (fileActionEmitter)="onFileActionEvent($event)"
    ></app-ta-file>
  </div>

  <!------------- Multiple PDF, DOCUMENT file template ------------->
  <div
    class="files-preview"
    *ngIf="
      ['multiple-pdf', 'multiple-document'].includes(fileType) && files.length
    "
  >
    <!-- Counter For Multiple Files -->
    <p class="files-count">{{ files.length }} Attachments</p>

    <!-- File Rendering -->
    <div class="carousel-files">
      <div
        class="carousel-slide"
        *ngFor="let file of files; let ind = index; trackBy: identity"
      >
        <app-ta-file
          *ngIf="ind === currentSlide"
          [file]="file"
          [customClassName]="customClassName"
          (fileActionEmitter)="onFileActionEvent($event)"
        ></app-ta-file>
      </div>
    </div>

    <!-- Carousel Button Tabs -->

    <div class="carousel-tabs-control">
      <div
        *ngFor="let item of files; let ind = index; trackBy: identity"
        class="carousel-tab"
        [ngClass]="{ 'active-tab': currentSlide === ind }"
      ></div>
    </div>

    <!-- Carousel Buttons Left & Right -->
    <svg-icon
      class="carousel-buttons-control prev"
      src="assets/img/image-upload/ic_carousel-leftarrow.svg"
      (click)="onPreviousClick()"
    ></svg-icon>
    <svg-icon
      class="carousel-buttons-control next"
      src="assets/img/image-upload/ic_carousel-rightarrow.svg"
      (click)="onNextClick()"
    ></svg-icon>
  </div>

  <!-------------------------- DROPZONES -------------------------->

  <!-- Image DropZone .jpg, .jpeg, .png, .gif -->
  <div
    *ngIf="
      ['single-image', 'multiple-image'].includes(fileType) && !files.length
    "
    class="single-dropzone"
  >
    <div
      id="image-upload-wrapper"
      class="image-upload-area"
      ngx-dropzone
      [accept]="'image/jpeg, image/jpg, image/png, image/gif'"
      [multiple]="['multiple-image'].includes(fileType)"
      (change)="onImageUpload($event)"
    >
      <div class="d-flex flex-column image-dropzone-holder"></div>
    </div>
  </div>

  <!-- Pdf DropZone -->
  <div
    *ngIf="['single-pdf', 'multiple-pdf'].includes(fileType) && !files.length"
    class="single-dropzone"
  >
    <label for="pdf" class="single-label"></label>
    <input
      id="pdf"
      type="file"
      [accept]="'application/pdf'"
      [multiple]="['multiple-pdf'].includes(fileType)"
      (change)="onFileUpload($event.target.files)"
    />
  </div>

  <!-- Document DropZone .doc, .xls, text/plain -->
  <div
    *ngIf="
      ['single-document', 'multiple-document'].includes(fileType) &&
      !files.length
    "
    class="single-dropzone"
  >
    <label for="document" class="single-label"></label>
    <input
      id="document"
      type="file"
      [accept]="'application/msword, application/vnd.ms-excel, text/plain'"
      [multiple]="['multiple-document'].includes(fileType)"
      (change)="onFileUpload($event.target.files)"
    />
  </div>
</div>
