<div class="note-container {{ customClass }}">
  <div *ngIf="isVisibleDivider" class="divider"></div>
  <div class="note-header"  [class.active]="_isVisibleNote" (click)="openNote()">
    <span class="note-label">Note</span>
    <svg-icon
      *ngIf="isVisibleArrow"
      class="note-arrow"
      [ngClass]="{ 'rotate': _isVisibleNote}"
      src="assets/svg/common/ic_arrow_down_updated.svg"
    ></svg-icon>
  </div>
  <div 
    class="note-body unopened" 
    #noteBody 
    [@showHideNote]="_isVisibleNote"
    [class.unopened]="_isVisibleNote === null"
  >
    <div
      #main_editor
      id="main_editor"
      placeholder="Write a note..."
      class="note-textarea"
      contenteditable="true"
      (input)="changeValue($event.target.innrHTML)"
      (focus)="checkFocus($event)"
      (blur)="prepareForTextRange()"
    ></div>
    <app-ta-note-container
      [isExpanded]="_isVisibleNote"
      [range]="range"
      [selectionTaken]="selectionTaken"
      [value]="value"
      ></app-ta-note-container>
  </div>
  <div *ngIf="isVisibleSecondDivider" class="divider divider-second"></div>
</div>
