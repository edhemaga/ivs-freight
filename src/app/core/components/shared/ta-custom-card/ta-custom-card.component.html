<div class="ta-custom-card">
  <div *ngIf="hasDivider" class="divider"></div>
  <div
    [ngClass]="{ 'has-counter': hasCounter }"
    class="ta-card-header"
    [class.active]="isCardOpen"
    [class.no-data]="!hasBodyData"
    (mouseenter)="isHeaderHover = true"
    (mouseleave)="isHeaderHover = false"
    (click)="isCardOpenEvent($event)"
  >
    <div class="header-content" [class.counter]="hasCounter">
      <app-ta-checkbox
        *ngIf="hasCheckbox"
        [formControl]="controlName"
        [label]="''"
      >
      </app-ta-checkbox>

      <app-ta-counter
        *ngIf="hasCounter"
        [count]="hasCounter"
        [countBackground]="'#F3F3F3'"
        [countColor]="'#919191'"
        [countHeight]="'24px'"
        [countWidth]="'24px'"
        [countTextBottomPosition]="textBottomPossiton"
      ></app-ta-counter>
      <span class="header-text" [ngClass]="{ 'no-counter': !hasCounter }">
        {{ cardName }}
      </span>
      <div
        *ngIf="hasHeaderSvg && isCardOpen"
        ngbTooltip
        [mainTooltip]="tooltipName"
        [tooltipBackground]="tooltipName ? '#6c6c6c' : '#ffffff'"
        position="top"
      >
        <svg-icon class="header-svg" src="{{ hasHeaderSvg }}"></svg-icon>
      </div>
    </div>
    <div
      class="header-actions"
      [ngClass]="{ 'like-dislike-template': hasLikeDislike }"
    >
      <app-ta-like-dislike
        *ngIf="hasLikeDislike && hasBodyData && isCardOpen"
      ></app-ta-like-dislike>
      <div
        *ngIf="hasActionSvg"
        class="header-action-container"
        [class.hovered]="isHeaderHover"
        [class.data]="
          (hasBodyData && isCardOpen && hasArrow) ||
          (isHeaderHover && hasBodyData && !isCardOpen && hasArrow)
        "
        [class.comment]="hasBodyData && isCardOpen && isCommentData"
        (click)="onAdd($event)"
      >
        <svg-icon
          *ngIf="!hasBodyData && !isHeaderHover"
          class="header-action-svg"
          [ngClass]="{ 'new-position': !hasArrow || !hasBodyData }"
          src="{{ hasActionSvg }}"
        ></svg-icon>
        <p
          *ngIf="isHeaderHover || (hasBodyData && isCardOpen)"
          class="header-action-text"
        >
          ADD NEW
        </p>
      </div>
      <div class="arrow-down-plus">
        <div
          class="add-custom-card"
          ngbTooltip
          mainTooltip="Add New Event"
          position="top"
          tooltipBackground="#536BC2"
        >
          <svg-icon
            *ngIf="(hasPlusHeader && isCardOpen) || stayOpen"
            class="plus-custom-card"
            src="assets/svg/common/ic_plus.svg"
            (click)="onAdd($event)"
          ></svg-icon>
        </div>
        <div class="status-icon-weekly">
          <div *ngIf="hasWeeklyStatus" class="weekly-status">
            <div class="weekly-status-value">
              {{ hasWeeklyStatus }}
            </div>
          </div>
          <svg-icon
            *ngIf="hasArrow && hasBodyData"
            class="header-arrow"
            [ngClass]="{ rotate: isCardOpen }"
            src="assets/svg/common/ic_arrow_down_updated.svg"
          ></svg-icon>
        </div>
      </div>
    </div>
  </div>

  <!-- BODY -->
  <div
    class="{{ animationsDisabled ? 'ta-card-body' : 'ta-card-body-v2' }}"
    [@.disabled]="animationsDisabled"
    [ngClass]="{ active: isCardOpen, scroll: hasScrollBody }"
  >
    <div
      [@showHideCardBody]="isCardOpen ? 'true' : 'false'"
      class="content-holder"
    >
      <ng-content></ng-content>
    </div>
  </div>
</div>
