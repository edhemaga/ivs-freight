<div class="ta-custom-card">
  <div *ngIf="hasDivider" class="divider"></div>
  <div
    [ngClass]="{ 'has-counter': hasCounter }"
    class="ta-card-header"
    [class.active]="isCardOpen"
    [class.no-data]="!hasBodyData"
    (mouseenter)="isHeaderHover = true"
    (mouseleave)="isHeaderHover = false"
    (click)="isCardOpenEvent($event)"
  >
    <div class="header-content" [class.counter]="hasCounter">
      <app-ta-counter
        *ngIf="hasCounter"
        [count]="hasCounter"
        [countBackground]="'#F3F3F3'"
        [countColor]="'#919191'"
        [countHeight]="'24px'"
        [countWidth]="'24px'"
      ></app-ta-counter>
      <span class="header-text" [ngClass]="{ 'no-counter': !hasCounter }">
        {{ cardName }}
      </span>
      <div
        *ngIf="hasHeaderSvg && isCardOpen"
        ngbTooltip
        mainTooltip="{{ tooltipName }}"
        tooltipBackground="#6c6c6c"
        position="top"
        src="{{ hasHeaderSvg }}"
      >
        <svg-icon class="header-svg"></svg-icon>
      </div>
    </div>
    <div
      class="header-actions"
      [ngClass]="{ 'like-dislike-template': hasLikeDislike }"
    >
      <app-ta-like-dislike
        *ngIf="hasLikeDislike && hasBodyData && isCardOpen"
      ></app-ta-like-dislike>
      <div
        *ngIf="hasActionSvg"
        class="header-action-container"
        [class.hovered]="isHeaderHover"
        [class.data]="
          (hasBodyData && isCardOpen && hasArrow) ||
          (isHeaderHover && hasBodyData && !isCardOpen && hasArrow)
        "
        [class.comment]="hasBodyData && isCardOpen && isCommentData"
        (click)="onAdd($event)"
      >
        <svg-icon
          class="header-action-svg"
          [ngClass]="{ 'new-position': !hasArrow || !hasBodyData }"
          src="{{ hasActionSvg }}"
        ></svg-icon>
        <p
          *ngIf="isHeaderHover || (hasBodyData && isCardOpen)"
          class="header-action-text"
        >
          Add New
        </p>
      </div>
      <div class="arrow-down-plus">
        <svg-icon
          *ngIf="hasPlusHeader && isCardOpen"
          class="plus-custom-card"
          src="assets/svg/common/ic_plus.svg"
        ></svg-icon>

        <svg-icon
          *ngIf="hasArrow && hasBodyData"
          class="header-arrow"
          [ngClass]="{ rotate: isCardOpen }"
          src="assets/svg/common/ic_arrow_down_updated.svg"
        ></svg-icon>
      </div>
    </div>
  </div>

  <!-- BODY -->
  <div
    class="{{ animationsDisabled ? 'ta-card-body' : 'ta-card-body-v2' }}"
    [@.disabled]="animationsDisabled"
    [ngClass]="{ active: isCardOpen, scroll: hasScrollBody }"
  >
    <div [@showHideCardBody]="isCardOpen ? 'true' : 'false'">
      <ng-content></ng-content>
    </div>
  </div>
</div>
