<div class="marker-tool-tip" *ngIf="type != 'cluster'">
    <div
        class="marker-info-container-all"
        *ngIf="type != 'gps' || (type == 'gps' && title)"
    >
        <div class="title-container">
            <div class="d-flex" [ngStyle]="{ overflow: 'hidden' }">
                <app-profile-images
                    *ngIf="type == 'gps' && item.driver"
                    [indx]="1"
                    [size]="'small'"
                    [type]="'driver'"
                    [name]="title"
                    [ngStyle]="{ 'margin-right': '6px' }"
                ></app-profile-images>
                <div
                    class="marker-business-name text-ellipsis"
                    (click)="goToDetails()"
                    [ngClass]="{
                        'has-details-page':
                            type == 'shipper' || type == 'repairShop',
                        'device-id-text': type == 'gps' && !item.driver
                    }"
                >
                    {{ title }}
                    <ng-container *ngIf="type == 'fuelStop'"
                        >- {{ item?.store }}</ng-container
                    >
                </div>
                <span *ngIf="item?.pinned || item?.favourite">
                    <svg-icon
                        class="favorite-svg active"
                        src="assets/svg/detail-cards/favorite.svg"
                        [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
                    ></svg-icon>
                </span>
            </div>
            <div
                *ngIf="dropdownActions"
                class="show-more"
                (click)="showMoreOptions()"
                [ngClass]="
                    item?.isSelected
                        ? 'table-dropdown-container'
                        : 'table-dropdown-container'
                "
            >
                <app-details-page-dropdown
                    #detailsDropdown
                    [options]="dropdownActions"
                    [placement]="'right-top'"
                    [id]="item?.id"
                    [data]="item"
                    [customClassDropDown]="
                        'map-list-card-dropdown marker-dropdown-popover'
                    "
                    (dropDownActions)="callBodyAction($event)"
                ></app-details-page-dropdown>
            </div>
        </div>
        <div class="marker-accident-container" *ngIf="type == 'accident'">
            <div class="accident-report-container">
                <div
                    class="accident-svg-container vehicles-number"
                    [ngClass]="{ inactive: item?.vehicles == 0 }"
                >
                    <svg-icon
                        class="accident-report-svg"
                        src="assets/svg/common/ic_crash_vehicle.svg"
                        [svgStyle]="{ 'width.px': 14, 'height.px': 14 }"
                    ></svg-icon>
                    <div class="marker-like-text">
                        <span class="marker-bold-text">{{
                            item?.vehicles
                        }}</span>
                        Veh.
                    </div>
                </div>
                <div
                    class="accident-svg-container injury-number"
                    [ngClass]="{ inactive: item?.injuries == 0 }"
                >
                    <svg-icon
                        class="accident-report-svg"
                        src="assets/svg/common/ic_injury.svg"
                        [svgStyle]="{ 'width.px': 14, 'height.px': 14 }"
                    ></svg-icon>
                    <div class="marker-like-text">
                        <span class="marker-bold-text">{{
                            item?.injuries
                        }}</span>
                        Inj.
                    </div>
                </div>
                <div
                    class="accident-svg-container fatality-number"
                    [ngClass]="{ inactive: item?.fatality == 0 }"
                >
                    <svg-icon
                        class="accident-report-svg"
                        src="assets/svg/common/ic_fatality.svg"
                        [svgStyle]="{ 'width.px': 14, 'height.px': 14 }"
                    ></svg-icon>
                    <div class="marker-like-text">
                        <span class="marker-bold-text">{{
                            item?.fatality
                        }}</span>
                        Fat.
                    </div>
                </div>
                <div
                    class="accident-svg-container towing"
                    [ngClass]="{ inactive: item?.towing == 'No' }"
                >
                    <svg-icon
                        class="accident-report-svg"
                        src="assets/svg/common/ic_towing.svg"
                        [svgStyle]="{ 'width.px': 14, 'height.px': 14 }"
                    ></svg-icon>
                    <div class="marker-like-text">Tow.</div>
                </div>
                <div
                    class="accident-svg-container hazard"
                    [ngClass]="{ inactive: item?.hm == 'No' }"
                >
                    <svg-icon
                        class="accident-report-svg"
                        src="assets/svg/common/ic_hazmat.svg"
                        [svgStyle]="{ 'width.px': 14, 'height.px': 14 }"
                    ></svg-icon>
                    <div class="marker-like-text">HM</div>
                </div>
            </div>
        </div>
        <div
            class="accident-report-container inspection-container"
            *ngIf="type == 'inspection'"
        >
            <div
                class="accident-svg-container violation-number"
                [ngClass]="{ inactive: item?.vehicles == 0 }"
            >
                <svg-icon
                    class="accident-report-svg"
                    src="assets/svg/common/ic_inpsection_violation.svg"
                    [svgStyle]="{ 'width.px': 14, 'height.px': 14 }"
                ></svg-icon>
                <div class="marker-like-text">
                    <span class="marker-bold-text">4</span> Violations
                </div>
            </div>
            <div
                class="accident-svg-container injury-number"
                [ngClass]="{ inactive: item?.injuries == 0 }"
            >
                <svg-icon
                    class="accident-report-svg"
                    src="assets/svg/common/ic_inspection_oss.svg"
                    [svgStyle]="{ 'width.px': 14, 'height.px': 14 }"
                ></svg-icon>
                <div class="marker-like-text">
                    <span class="marker-bold-text">1</span> Out of Service
                </div>
            </div>
            <div
                class="accident-svg-container fatality-number"
                [ngClass]="{ inactive: item?.fatality == 0 }"
            >
                <svg-icon
                    class="accident-report-svg"
                    src="assets/svg/common/ic_inspection_citation.svg"
                    [svgStyle]="{ 'width.px': 14, 'height.px': 14 }"
                ></svg-icon>
                <div class="marker-like-text">
                    <span class="marker-bold-text">1</span> Citation
                </div>
            </div>
        </div>
        <div
            class="marker-info-text marker-bold-text uppercase red-text mg-bottom-2 mg-top-4"
            *ngIf="item.status == 0 || item.isClosed"
        >
            Permanently Closed
        </div>
        <div
            class="marker-distance-left"
            [ngClass]="{ 'mg-top-4': item?.status == 0 || item?.isClosed }"
            *ngIf="locationFilterOn && item?.distanceBetween"
        >
            <span class="marker-title">{{ item?.distanceBetween }} mi </span>
            <span class="marker-info-text">away </span>
            <span class="marker-time-left-text">
                <span class="marker-bold-text">- 1 hour 27 minutes</span> est.
            </span>
        </div>
        <div
            class="marker-rating-container mg-top-4"
            *ngIf="
                type != 'accident' &&
                type != 'fuelStop' &&
                type != 'inspection' &&
                type != 'gps'
            "
        >
            <span class="marker-rating">
                <svg-icon
                    class="marker-rating-svg"
                    src="assets/svg/common/ic_like.svg"
                    [svgStyle]="{ 'width.px': 14, 'height.px': 14 }"
                    [ngClass]="{
                        'has-liked-icon': rating?.hasLiked
                    }"
                    (click)="onLike($event)"
                ></svg-icon>
                <span class="marker-like-text marker-bold-text">{{
                    rating?.likeCount
                }}</span>
            </span>
            <span class="marker-rating">
                <svg-icon
                    class="marker-rating-svg"
                    src="assets/svg/common/ic_dislike.svg"
                    [svgStyle]="{ 'width.px': 14, 'height.px': 14 }"
                    [ngClass]="{
                        'has-disliked-icon': rating?.hasDislike
                    }"
                    (click)="onDislike($event)"
                ></svg-icon>
                <span class="marker-like-text marker-bold-text">{{
                    rating?.dislikeCount
                }}</span>
            </span>
        </div>
    </div>
    <div *ngIf="type == 'repairShop' && item?.serviceTypes?.length">
        <div class="marker-divider"></div>
        <div class="marker-info-container-all">
            <div class="marker-repair-icons-container">
                <svg-icon
                    *ngFor="let service of item?.serviceTypes; let i = index"
                    class="marker-repair-svg"
                    src="assets/svg/common/repair-services/{{
                        service.logoName
                    }}"
                    [ngClass]="{ active: service.active }"
                    [svgStyle]="{ 'width.px': 24, 'height.px': 24 }"
                ></svg-icon>
            </div>
        </div>
    </div>
    <div *ngIf="type == 'fuelStop'">
        <div class="marker-divider"></div>
        <div class="marker-info-container-all">
            <div class="marker-fuel-stop-container">
                <div class="fuel-price-container">
                    <div class="marker-info-text marker-bold-text mg-bottom-2">
                        $4.092
                    </div>
                    <div class="marker-like-text">59 days ago</div>
                </div>
                <div class="fuel-price-colors-container">
                    <div class="fuel-price-text-container mg-bottom-4">
                        <div class="fuel-price-text">$3.23</div>
                        <div class="fuel-price-text">$4.18</div>
                    </div>
                    <div class="fuel-price-colors">
                        <div
                            class="fuel-price-level first-color"
                            [ngStyle]="{
                                background: fuelPriceColors[0]
                            }"
                        ></div>
                        <div
                            class="fuel-price-level"
                            [ngStyle]="{
                                background: fuelPriceColors[1]
                            }"
                        ></div>
                        <div
                            class="fuel-price-level"
                            [ngStyle]="{
                                background: fuelPriceColors[2]
                            }"
                        ></div>
                        <div
                            class="fuel-price-level"
                            [ngStyle]="{
                                background: fuelPriceColors[3]
                            }"
                        ></div>
                        <div
                            class="fuel-price-level last-color"
                            [ngStyle]="{
                                background: fuelPriceColors[4]
                            }"
                        ></div>
                        <svg-icon
                            class="fuel-price-svg"
                            src="assets/svg/common/ic_owner-status.svg"
                            [svgStyle]="{ 'width.px': 22, 'height.px': 22 }"
                        ></svg-icon>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div
        class="marker-divider title-divider"
        *ngIf="type != 'gps' || (type == 'gps' && title)"
    ></div>
    <div [ngClass]="{ 'marker-info-container-all': type != 'gps' }">
        <div *ngIf="type == 'gps'">
            <div *ngIf="item?.truckNumber || item?.trailerNumber" class="mg-left-4">
                <div class="marker-dual-info-container">
                    <div class="marker-info-container">
                        <svg-icon
                            src="assets/svg/common/trucks/ic_truck_semi-wSleeper.svg"
                            [svgStyle]="{ 'width.px': 55, 'height.px': 20 }"
                        ></svg-icon>
                        <span
                            class="unit-number-text marker-bold-text mg-left-6"
                            >{{ item?.truckNumber }}</span
                        >
                    </div>

                    <div class="marker-like-text mg-top-6">
                        {{ (item?.truckNumber || item?.truckDeviceId) ? 'Device ID' : 'No GPS Device' }}
                        <span
                            class="marker-bold-text"
                            *ngIf="item?.truckNumber || item?.truckDeviceId"
                            >{{ item?.truckDeviceId ? item.truckDeviceId : item?.deviceId }}</span
                        >
                    </div>
                </div>

                <div class="marker-dual-info-container">
                    <div class="marker-info-container">
                        <svg-icon
                            src="assets/svg/common/trailers/ic_trailer_conestoga.svg"
                            [svgStyle]="{ 'width.px': 55, 'height.px': 20 }"
                        ></svg-icon>
                        <span
                            class="unit-number-text marker-bold-text mg-left-6"
                            >{{ item?.trailerNumber }}</span
                        >
                    </div>

                    <div class="marker-like-text mg-top-6">
                        {{
                            (item?.trailerNumber || item?.trailerDeviceId)
                                ? 'Device ID'
                                : 'No GPS Device'
                        }}
                        <span
                            class="marker-bold-text"
                            *ngIf="item?.trailerNumber || item?.trailerDeviceId"
                            >{{ item?.trailerDeviceId ? item.trailerDeviceId : item?.deviceId }}</span
                        >
                    </div>
                </div>
            </div>
            <div class="marker-divider gps-divider" *ngIf="item?.truckNumber || item?.trailerNumber"></div>
            <div class="marker-info-container mg-left-4">
                <div
                    class="marker-dual-info-container"
                    *ngIf="item?.motionStatus"
                >
                    <div class="marker-like-text marker-bold-text">
                        Vehicle Status
                    </div>
                    <div class="unit-status-text blue-text mg-top-4">
                        {{
                            item?.motionStatus == 'MOTION'
                                ? 'Moving'
                                : item?.motionStatus == 'PARKING'
                                ? 'Parking'
                                : item?.motionStatus == 'EXTENDED_STOP'
                                ? 'Ext. Stop'
                                : 'Short Stop'
                        }}
                        <span
                            class="marker-bold-text"
                            *ngIf="item?.headingString"
                            >- {{ item?.headingString }}</span
                        >
                    </div>
                    <div class="marker-info-text mg-top-2" *ngIf="item.motionStatusPeriod">
                        {{ item.motionStatusPeriod }}
                    </div>
                </div>

                <div
                    class="marker-dual-info-container"
                    *ngIf="item?.dispatchStatus"
                >
                    <div class="marker-like-text marker-bold-text">
                        Dispatch Status
                    </div>
                    <div class="unit-status-text pink-text mg-top-4">
                        {{ item?.dispatchStatus }}
                    </div>
                    <div class="marker-info-text mg-top-2" *ngIf="item?.dispatchStatusPeriod">
                        3 hours 59 minutes
                        {{ item?.dispatchStatusPeriod }}
                    </div>
                </div>
            </div>
            <div class="marker-divider gps-divider"></div>
            <div [ngClass]="{ 'mg-bottom-8': !item?.loadNumber }">
                <div class="mg-left-4">
                    <div class="marker-dual-info-container" *ngIf="item?.speed">
                        <div class="marker-info-container">
                            <div>
                                <svg-icon
                                    class="marker-info-svg"
                                    src="assets/svg/common/repair-pm/ic_ac_compressor.svg"
                                    [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
                                ></svg-icon>
                            </div>
                            <span class="marker-info-text"
                                >Speed
                                <span class="marker-bold-text"
                                    >{{ item?.speed }} mph</span
                                ></span
                            >
                        </div>
                    </div>
                    <div class="marker-dual-info-container">
                        <div class="marker-info-container">
                            <div>
                                <svg-icon
                                    class="marker-info-svg"
                                    src="assets/svg/common/telematics/ic_ignition.svg"
                                    [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
                                ></svg-icon>
                            </div>
                            <span class="marker-info-text"
                                >Ignition
                                <span class="marker-bold-text">{{
                                    item?.ignition ? 'ON' : 'OFF'
                                }}</span></span
                            >
                        </div>
                    </div>
                </div>
                <div class="marker-info-container mg-left-4" *ngIf="item?.location">
                    <div>
                        <svg-icon
                            class="marker-info-svg"
                            src="assets/svg/common/ic_address.svg"
                            [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
                        ></svg-icon>
                    </div>
                    <div class="marker-info-text">
                        {{ item?.location }}
                    </div>
                </div>
                <div
                    class="marker-info-container mg-left-4"
                    *ngIf="item?.coordinates"
                >
                    <div>
                        <svg-icon
                            class="marker-info-svg"
                            src="assets/svg/common/telematics/ic_coordinates.svg"
                            [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
                        ></svg-icon>
                    </div>
                    <div class="marker-info-text">
                        {{ item?.coordinates }}
                    </div>
                </div>
            </div>
            <div *ngIf="item?.loadNumber || (!item.truckNumber && !item.trailerNumber)" class="marker-divider gps-divider"></div>
            <div *ngIf="item?.loadNumber">
                <div class="marker-title" [ngStyle]="{ 'margin-bottom': '15px' }">
                    Load <span class="blue-text">{{ item.loadNumber }}</span>
                </div>
                <!--<app-gps-progressbar></app-gps-progressbar>-->
            </div>
            <div *ngIf="!item.truckNumber && !item.trailerNumber">
                <div class="assign-button" (click)="assignUnit()">
                    <div class="assign-text">Assign Unit</div>
                </div>
            </div>
        </div>
        <div
            class="marker-container-expand"
            (click)="expandInfo()"
            *ngIf="type != 'gps'"
        >
            <svg-icon
                src="assets/svg/common/resize-arrow.svg"
                class="marker-expand-svg"
                [ngClass]="{ rotate: item?.isExpanded }"
                [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
            ></svg-icon>
        </div>
        <div
            class="marker-info-container"
            *ngIf="item?.phone"
            [ngClass]="{ copied: copiedPhone }"
        >
            <svg-icon
                class="marker-info-svg"
                src="assets/svg/common/ic_phone.svg"
                [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
            ></svg-icon>
            <span class="marker-info-text">{{ item?.phone }}</span>
            <span
                class="tooltip-copy"
                (click)="copyText(item?.phone, 'phone')"
                (mouseenter)="copyHover('phone', true)"
                (mouseleave)="copyHover('phone', false)"
            >
                <div
                    class="copy-tooltip"
                    [ngClass]="{ 'active-tooltip': copiedPhone }"
                    *ngIf="copyPhoneHover"
                >
                    {{ copiedPhone ? 'Copied' : 'Copy' }}
                </div>
                <svg-icon
                    class="copy-icon"
                    src="assets/svg/common/ic_copy.svg"
                    (click)="copyText(item?.phone, 'phone')"
                ></svg-icon>
            </span>
        </div>
        <div
            class="marker-info-container"
            *ngIf="item?.email"
            [ngClass]="{ copied: copiedEmail }"
        >
            <svg-icon
                class="marker-info-svg"
                src="assets/svg/common/ic_email.svg"
                [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
            ></svg-icon>
            <span class="marker-info-text">{{ item?.email }}</span>
            <span
                class="tooltip-copy"
                (click)="copyText(item?.email, 'email')"
                (mouseenter)="copyHover('email', true)"
                (mouseleave)="copyHover('email', false)"
            >
                <div
                    class="copy-tooltip"
                    [ngClass]="{ 'active-tooltip': copiedEmail }"
                    *ngIf="copyEmailHover"
                >
                    {{ copiedEmail ? 'Copied' : 'Copy' }}
                </div>
                <svg-icon
                    class="copy-icon"
                    src="assets/svg/common/ic_copy.svg"
                    (click)="copyText(item?.email, 'email')"
                ></svg-icon>
            </span>
        </div>

        <div
            class="marker-info-container"
            *ngIf="type == 'accident' || type == 'inspection'"
        >
            <div class="marker-dual-info-container p-0">
                <div class="marker-date-holder accident-date">
                    <svg-icon
                        src="assets/svg/common/ic_date.svg"
                        class="date-svg"
                        [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
                    ></svg-icon>
                    <div class="marker-info-text">
                        {{ item?.eventDate | formatDateP }}
                    </div>
                </div>
            </div>
            <div class="marker-dual-info-container" *ngIf="item?.eventTime">
                <div class="marker-date-holder accident-date">
                    <svg-icon
                        src="assets/svg/common/ic_time.svg"
                        class="date-svg"
                        [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
                    ></svg-icon>
                    <div class="marker-info-text">{{ item?.eventTime }}</div>
                </div>
            </div>
        </div>
        <div
            class="marker-info-container"
            [ngClass]="{ copied: copiedAddress }"
            *ngIf="type != 'gps'"
        >
            <div>
                <svg-icon
                    class="marker-info-svg"
                    src="assets/svg/common/ic_address.svg"
                    [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
                ></svg-icon>
            </div>
            <div class="marker-info-text">
                <div *ngIf="item?.address">
                    <div *ngIf="item?.address.street" class="title-text">
                        {{
                            item?.address.streetNumber
                                ? item?.address.streetNumber
                                : ''
                        }}
                        {{ item?.address.street }}
                        {{
                            item?.address.addressUnit
                                ? item?.address.addressUnit
                                : ''
                        }}
                    </div>
                    <div class="title-text">
                        {{
                            item?.address.city
                                ? item?.address.city
                                : item?.address.county
                        }}, {{ item?.address.stateShortName
                        }}<span
                            class="title-text"
                            *ngIf="item?.address.zipCode"
                        >
                            {{ item?.address.zipCode }}</span
                        >,
                        {{ item?.address.country }}
                    </div>
                </div>
            </div>
            <span
                class="tooltip-copy"
                (click)="copyText(item?.address.address, 'address')"
                (mouseenter)="copyHover('address', true)"
                (mouseleave)="copyHover('address', false)"
            >
                <div
                    class="copy-tooltip address-tooltip"
                    [ngClass]="{ 'active-tooltip': copiedAddress }"
                    *ngIf="copyAddressHover"
                >
                    {{ copiedAddress ? 'Copied' : 'Copy' }}
                </div>
                <svg-icon
                    class="copy-icon"
                    src="assets/svg/common/ic_copy.svg"
                    (click)="copyText(item?.address.address, 'address')"
                ></svg-icon>
            </span>
        </div>
    </div>
    <div [@showHideCardBody]="item?.isExpanded ? true : false">
        <div class="marker-divider"></div>
        <div
            *ngIf="
                (type == 'shipper' && item?.shippingFrom && item?.shippingTo) ||
                (item?.receivingFrom && item?.receivingTo)
            "
        >
            <div class="marker-info-container-all">
                <div class="marker-title">Available Hours</div>
                <div class="marker-expanded-info-container">
                    <div
                        class="marker-dual-info-container mg-bottom-8"
                        *ngIf="item?.shippingFrom && item?.shippingTo"
                    >
                        <div
                            class="marker-like-text marker-bold-text mg-bottom-4"
                        >
                            Shipping
                        </div>
                        <div class="marker-info-text">
                            {{ item?.shippingFrom }} - {{ item?.shippingTo }}
                        </div>
                    </div>
                    <div
                        class="marker-dual-info-container mg-bottom-8"
                        *ngIf="item?.receivingFrom && item?.receivingTo"
                    >
                        <div
                            class="marker-like-text marker-bold-text mg-bottom-4"
                        >
                            Receiving
                        </div>
                        <div class="marker-info-text">
                            {{ item?.receivingFrom }} - {{ item?.receivingTo }}
                        </div>
                    </div>
                </div>
            </div>
            <div class="marker-divider"></div>
        </div>
        <div *ngIf="type == 'repairShop' && item?.openHours?.length">
            <div class="marker-info-container-all">
                <div class="marker-title">Working Hours</div>
                <div
                    class="marker-expanded-info-container"
                    [ngStyle]="{
                        height: showAllDays ? '80px' : '36px',
                        transition: 'all 0.2s ease-in-out',
                        overflow: 'hidden'
                    }"
                >
                    <div
                        class="marker-dual-info-container"
                        *ngIf="!showAllDays"
                    >
                        <div
                            class="marker-like-text marker-bold-text mg-bottom-4"
                        >
                            {{
                                item?.openHoursToday == 'Closed'
                                    ? 'Today'
                                    : 'Open Now'
                            }}
                        </div>
                        <div class="marker-info-text">
                            {{ item?.openHoursToday }}
                        </div>
                    </div>
                    <div
                        class="marker-dual-info-container mg-bottom-8"
                        *ngIf="showAllDays"
                    >
                        <div
                            class="marker-like-text marker-bold-text mg-bottom-4"
                        >
                            Monday - Friday
                        </div>
                        <div
                            class="marker-info-text"
                            *ngIf="item.openHours[1]?.startTime"
                        >
                            {{ item.openHours[1].startTime }} -
                            {{ item.openHours[1].endTime }}
                        </div>
                        <div
                            class="marker-info-text"
                            *ngIf="!item.openHours[1]?.startTime"
                        >
                            Closed
                        </div>
                    </div>
                    <div
                        class="marker-dual-info-container mg-bottom-8"
                        [ngStyle]="{
                            display: showAllDays ? 'inline-block' : 'none'
                        }"
                    >
                        <div
                            class="marker-like-text marker-bold-text mg-bottom-4"
                        >
                            Saturday
                        </div>
                        <div
                            class="marker-info-text"
                            *ngIf="
                                item?.openHours && item?.openHours[6]?.startTime
                            "
                        >
                            {{ item?.openHours[6].startTime }} -
                            {{ item?.openHours[6].endTime }}
                        </div>
                        <div
                            class="marker-info-text"
                            *ngIf="
                                !item?.openHours ||
                                !item?.openHours[6]?.startTime
                            "
                        >
                            Closed
                        </div>
                    </div>
                    <div
                        class="marker-dual-info-container"
                        [ngStyle]="{
                            display: showAllDays ? 'inline-block' : 'none',
                            'vertical-align': 'bottom'
                        }"
                    >
                        <div
                            class="marker-like-text marker-bold-text mg-bottom-4"
                        >
                            Sunday
                        </div>
                        <div
                            class="marker-info-text"
                            *ngIf="
                                item?.openHours[0]?.startTime &&
                                item?.openHours[0]?.startTime != 'null' &&
                                item?.openHours[0]?.startTime != 'Invalid date'
                            "
                        >
                            {{ item?.openHours[0]?.startTime }} -
                            {{ item?.openHours[0]?.endTime }}
                        </div>
                        <div
                            class="marker-info-text"
                            *ngIf="
                                !item?.openHours[0]?.startTime ||
                                item?.openHours[0]?.startTime == 'null' ||
                                item?.openHours[0]?.startTime == 'Invalid date'
                            "
                        >
                            Closed
                        </div>
                    </div>
                    <div
                        class="marker-dual-info-container"
                        [ngStyle]="{ 'vertical-align': 'bottom' }"
                    >
                        <div
                            class="marker-like-text marker-bold-text mg-bottom-4"
                        ></div>
                        <div
                            class="marker-date-holder pointer"
                            (click)="toggleWorkingHours()"
                        >
                            <svg-icon
                                src="assets/svg/common/ic_date.svg"
                                class="date-svg d-flex"
                                [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
                            ></svg-icon>
                            <div class="marker-info-text">
                                {{
                                    showAllDays ? 'Show today' : 'Show all days'
                                }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="marker-divider"></div>
        </div>
        <div class="marker-info-container-all">
            <div class="marker-title">
                <div class="marker-dual-info-container p-0">
                    <span class="load-text">{{
                        type == 'shipper'
                            ? 'Load'
                            : type == 'repairShop'
                            ? 'Repairs'
                            : type == 'accident' || type == 'inspection'
                            ? 'Total Weight'
                            : type == 'fuelStop'
                            ? 'Order'
                            : ''
                    }}</span>
                    <span class="align-center">
                        <app-ta-counter
                            [count]="
                                type == 'shipper'
                                    ? item?.pickups + item?.deliveries
                                    : type == 'repairShop'
                                    ? item?.order
                                    : type == 'accident' || type == 'inspection'
                                    ? '9'
                                    : type == 'fuelStop'
                                    ? item?.fuelTransactions
                                        ? item?.fuelTransactions.length
                                        : '769'
                                    : ''
                            "
                            [countBackground]="'#424242'"
                            [countColor]="'#ffffff'"
                            [countHeight]="'22px'"
                            [countWidth]="'22px'"
                            [countBorderRadius]="'11px'"
                            [marginLeft]="'4px'"
                        ></app-ta-counter>
                    </span>
                </div>
                <div
                    class="marker-dual-info-container"
                    *ngIf="type == 'repairShop' || type == 'fuelStop'"
                >
                    <span class="marker-bold-text blue-text"
                        >${{
                            item?.totalCost != null && item.totalCost > 0
                                ? (item?.totalCost | taThousandSeparator)
                                : item?.cost != null && item.cost > 0
                                ? (item?.cost | taThousandSeparator)
                                : '0'
                        }} </span
                    ><span class="load-text font-weight-normal">Cost</span>
                </div>
            </div>
            <div
                class="marker-expanded-info-container mg-top-10"
                *ngIf="type == 'shipper'"
            >
                <div class="marker-dual-info-container">
                    <div class="marker-info-text mg-bottom-4">
                        <span class="marker-bold-text">{{
                            item?.pickups
                        }}</span>
                        Picked Up
                    </div>
                    <div class="marker-like-text">
                        Avg. Loading
                        <span class="marker-bold-text">{{
                            item?.avgPickupTime != null
                                ? item?.avgPickupTime
                                : '0m'
                        }}</span>
                    </div>
                </div>
                <div class="marker-dual-info-container">
                    <div class="marker-info-text mg-bottom-4">
                        <span class="marker-bold-text">{{
                            item?.deliveries
                        }}</span>
                        Delivered
                    </div>
                    <div class="marker-like-text">
                        Avg. Offloading
                        <span class="marker-bold-text">{{
                            item?.avgDeliveryTime != null
                                ? item?.avgDeliveryTime
                                : '0m'
                        }}</span>
                    </div>
                </div>
            </div>
            <div
                class="marker-expanded-info-container"
                *ngIf="type == 'accident' || type == 'inspection'"
            >
                <div class="marker-dual-info-container">
                    <div class="marker-info-text mg-bottom-8">
                        <span class="marker-bold-text">3</span> Severity Weight
                    </div>
                </div>
                <div class="marker-dual-info-container">
                    <div class="marker-info-text mg-bottom-8">
                        <span class="marker-bold-text">3</span> Time Weight
                    </div>
                </div>
            </div>
        </div>
        <div
            class="marker-divider"
            [ngClass]="{ 'mg-top-6': type != 'accident' && type != 'shipper' }"
        ></div>
        <div class="marker-info-container-all" *ngIf="type != 'accident'">
            <div class="marker-expanded-info-container">
                <div class="marker-dual-info-container mg-bottom-4">
                    <div class="marker-like-text marker-bold-text mg-bottom-4">
                        Date Added
                    </div>
                    <div class="marker-info-text">
                        {{ item?.createdAt | formatDateP }}
                    </div>
                </div>
                <div class="marker-dual-info-container mg-bottom-4">
                    <div class="marker-like-text marker-bold-text mg-bottom-4">
                        {{ item?.status == 0 || item?.isClosed ? 'Perm. Closed' : 'Last Used' }}
                    </div>
                    <div class="marker-info-text">
                        {{
                            item?.lastUsed != null
                                ? (item?.lastUsed | formatDateP)
                                : item?.lastVisited != null
                                ? (item.lastVisited | formatDateP)
                                : item?.updatedAt != null
                                ? (item.updatedAt | formatDateP)
                                : '&nbsp;'
                        }}
                    </div>
                </div>
            </div>
        </div>
        <div
            class="marker-info-container-all"
            *ngIf="type == 'accident' || type == 'inspection'"
        >
            <div class="marker-expanded-info-container">
                <div class="marker-dual-info-container mg-bottom-4">
                    <div class="marker-like-text marker-bold-text mg-bottom-4">
                        Driver
                    </div>
                    <div class="marker-info-text driver-name-container">
                        <app-profile-images
                            [indx]="1"
                            [size]="item?.coDriver ? 'medium' : 'small'"
                            [name]="item?.driverFullName"
                            [type]="'driver'"
                        ></app-profile-images>
                        <span class="title-text mg-left-6"
                            >{{ item?.firstName }}
                            <br class="title-text" *ngIf="item?.coDriver" />
                            {{ item?.lastName }}</span
                        >
                    </div>
                </div>
                <div
                    class="marker-dual-info-container mg-bottom-4"
                    *ngIf="item?.coDriver"
                >
                    <div class="marker-like-text marker-bold-text mg-bottom-4">
                        Co-Driver
                    </div>
                    <div class="marker-info-text driver-name-container">
                        <app-profile-images
                            [indx]="0"
                            [size]="'medium'"
                            [name]="item?.driverFullName"
                            [type]="'driver'"
                        ></app-profile-images>
                        <span class="title-text mg-left-6"
                            >{{ item?.firstName }} <br class="title-text" />
                            {{ item?.lastName }}</span
                        >
                    </div>
                </div>
            </div>
            <div class="marker-expanded-info-container">
                <div class="marker-dual-info-container mg-bottom-8">
                    <div class="marker-like-text marker-bold-text mg-bottom-4">
                        Truck
                    </div>
                    <div class="marker-info-text driver-name-container">
                        <span class="title-text">{{ item?.truckNumber }}</span>
                        <svg-icon
                            class="truck-svg mg-left-6"
                            src="assets/svg/common/ic_driver-truck.svg"
                            [svgStyle]="{ 'width.px': 55, 'height.px': 20 }"
                        ></svg-icon>
                    </div>
                </div>
                <div class="marker-dual-info-container mg-bottom-8">
                    <div class="marker-like-text marker-bold-text mg-bottom-4">
                        Trailer
                    </div>
                    <div class="marker-info-text driver-name-container">
                        <span class="title-text">{{
                            item?.trailerNumber
                        }}</span>
                        <svg-icon
                            class="truck-svg mg-left-6"
                            src="assets/svg/common/trailer.svg"
                            [svgStyle]="{ 'width.px': 55, 'height.px': 20 }"
                        ></svg-icon>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div
        class="marker-container-expand"
        (click)="expandInfo()"
        *ngIf="type != 'gps'"
    >
        <svg-icon
            src="assets/svg/common/resize-arrow.svg"
            class="marker-expand-svg"
            [ngClass]="{ rotate: item?.isExpanded }"
            [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
        ></svg-icon>
    </div>
</div>

<div class="cluster-list" *ngIf="type == 'cluster'">
    <div class="cluster-list-content" (scroll)="clusterListScroll($event)">
        <div
            class="cluster-list-item"
            (click)="openClusterItemInfo(item2)"
            *ngFor="let item2 of item?.pagination.data"
        >
            <span class="cluster-list-name">{{ item2.name }}</span>

            <svg-icon
                *ngIf="item2?.pinned || item2?.favourite"
                class="favorite-svg active"
                src="assets/svg/detail-cards/favorite.svg"
                [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
            ></svg-icon>
        </div>
    </div>
</div>
