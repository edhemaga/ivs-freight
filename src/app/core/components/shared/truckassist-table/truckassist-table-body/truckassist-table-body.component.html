<table class="truckassist-table-body-style">
  <tbody *ngIf="viewData.length">
    <cdk-virtual-scroll-viewport
      #tableScrollRef
      [itemSize]="35"
      [ngStyle]="{
        height: viewData.length * 32 + (viewData.length - 1) * 2 + 500 + 'px',
        'max-height': 1048 + 'px'
      }"
    >
      <tr
        class="table-tr"
        [ngStyle]="{
          'margin-top': i > 0 ? '2px' : '0px'
        }"
        *cdkVirtualFor="let row of viewData; let i = index"
        [ngClass]="{
          'regular-row': !row.isSelected,
          'selected-row': row.isSelected,
          'row-repair-order': row.isRepairOrder && !row.actionAnimation,
          'add-animation': row.actionAnimation === 'add',
          'update-animation': row.actionAnimation === 'update',
          'deactivate-animation': row.actionAnimation === 'deactivate',
          'multiple-deactivate-animation': row.actionAnimation === 'multiple-deactivate',
          'activate-animation': row.actionAnimation === 'activate',
          'multiple-activate-animation': row.actionAnimation === 'multiple-activate',
          'delete-animation': row.actionAnimation === 'delete',
          'multiple-delete-animation': row.actionAnimation === 'delete-multiple'
        }"
      >
        <!-- Table Row -->
        <div class="columns-container">
          <!-- PINED -->
          <div class="pined-columns">
            <td *ngFor="let column of pinedColumns">
              <!-- NO TEMPLATE -->
              <div
                *ngIf="column.ngTemplate === ''"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width': column?.minWidth ? column.minWidth : 'unset'
                }"
                class="td-content"
              >
                <div class="no-template">NO TEMPLATE</div>
              </div>

              <!-- CHECKBOX TEMPLATE -->
              <div
                *ngIf="column.ngTemplate === 'checkbox'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                class="td-content set-center"
              >
                <input
                  (change)="onSelectItem(row, i)"
                  [checked]="row.isSelected"
                  class="table-checkbox"
                  id="checkbox{{ i }}"
                  type="checkbox"
                />
                <label
                  class="table-checkbox-label"
                  for="checkbox{{ i }}"
                ></label>
              </div>

              <!-- STATUS COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'status'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                #ngbStatus="ngbPopover"
                [autoClose]="true"
                [ngbPopover]="statusPopover"
                [placement]="'bottom'"
                container="body"
                popoverClass="table-status-popover"
                triggers="manual"
              >
                <div
                  class="status-container"
                  [ngStyle]="{
                    width: column.width - 20 + 'px'
                  }"
                  (click)="toggleStatusDropdown(ngbStatus, row)"
                >
                  <div class="status">
                    {{ row[column.field].status }}
                  </div>
                  <div class="status-time">
                    {{ row[column.field].time }}
                  </div>
                </div>
              </div>

              <!-- PICKUP AND DELIVERY COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'pickup-delivery'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  class="pickup-delivery-counter"
                  [ngClass]="{
                    'pickup-count':
                      column.pickupDeliveryType === 'pickup' &&
                      row[column.field].count !== 'S',
                    'delivery-count':
                      column.pickupDeliveryType === 'delivery' &&
                      row[column.field].count !== 'S',
                    'special-count': row[column.field].count === 'S'
                  }"
                >
                  {{ row[column.field].count }}
                </div>

                <div class="pickup-delivery-location-container">
                  <div
                    class="location"
                    [ngStyle]="{
                      width: column.width - 28 + 'px'
                    }"
                  >
                    {{ row[column.field].location }}
                  </div>
                  <div
                    class="date-time-container"
                    [ngStyle]="{
                      width: column.width - 30 + 'px'
                    }"
                  >
                    <div class="date">{{ row[column.field].date }}</div>
                    <div class="time">{{ row[column.field].time }}</div>
                  </div>
                </div>
              </div>

              <!-- TEXT COLOR COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'text-color'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  class="text-color"
                  [ngStyle]="{
                    color: row[column.field].color,
                    'margin-left': column.margin + 'px',
                    'padding-left': column.padding + 'px'
                  }"
                >
                  {{ row[column.field].number }}
                </div>
              </div>

              <!-- USER CHECKBOX TEMPLATE -->
              <div
                *ngIf="column.ngTemplate === 'user-checkbox'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                class="td-content set-center"
              >
                <!-- IF USER IS OWNER -->
                <svg-icon
                  *ngIf="row.userType.name === 'Owner'"
                  [src]="'assets/svg/truckassist-table/user-owner-icon.svg'"
                  [svgStyle]="{ 'width.px': '14', 'height.px': '14' }"
                ></svg-icon>

                <!-- IF USER IS NOT OWNER -->
                <input
                  *ngIf="row.userType.name !== 'Owner'"
                  (change)="onSelectItem(row, i)"
                  [checked]="row.isSelected"
                  class="table-checkbox"
                  id="checkbox{{ i }}"
                  type="checkbox"
                />
                <label
                  *ngIf="row.userType.name !== 'Owner'"
                  class="table-checkbox-label"
                  for="checkbox{{ i }}"
                ></label>
              </div>

              <!-- CUSTOMER NAME COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'customer-name'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <svg-icon
                  *ngIf="row[column.field].hasBanDnu"
                  class="customer-icon"
                  [src]="
                    row[column.field].isDnu
                      ? '../../../../../../assets/svg/truckassist-table/dnu-icon.svg'
                      : '../../../../../../assets/svg/truckassist-table/ban-icon.svg'
                  "
                  [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                ></svg-icon>

                <div
                  class="customer-name"
                  [ngStyle]="{
                    width: row[column.field].hasBanDnu
                      ? column.width - 22 + 'px'
                      : column.width + 'px'
                  }"
                  [ngClass]="{
                    'customer-name-ban':
                      !row[column.field].isDnu && row[column.field].hasBanDnu
                  }"
                >
                  {{ row[column.field].name }}
                </div>
              </div>

              <!-- LOAD TOTAL COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'load-total'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="load-totla-container">
                  <div
                    class="main-total"
                    [ngStyle]="{
                      width: column.width + 'px'
                    }"
                  >
                    {{ row[column.field].total }}
                  </div>
                  <div
                    *ngIf="row[column.field].subTotal"
                    [ngStyle]="{
                      width: column.width + 'px'
                    }"
                    class="sub-total"
                  >
                    {{ row[column.field].subTotal }}
                  </div>
                </div>
              </div>

              <!-- DISPECHER AVATAR COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'dispatcher-avatar'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <img
                  [src]="
                    row[column.field]?.avatar
                      ? row[column.field].avatar
                      : 'assets/svg/truckassist-table/user-avatar-no-profile.svg'
                  "
                  alt=""
                  class="dispecher-img"
                />

                <div
                  class="dispatcher-name"
                  [ngStyle]="{
                    width: column.width - 24 + 'px'
                  }"
                >
                  {{ row[column.field].name }}
                </div>
              </div>

              <!-- AVATAR COLUMN -->
              <div
                *ngIf="column.ngTemplate === 'avatar'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                class="td-content"
              >
                <div class="avatar-container">
                  <div
                    class="avatar-img"
                    [ngClass]="{
                      'round-avatar': column.isRound,
                      'regular-avatar': !column.isRound
                    }"
                    *ngIf="row.avatarImg"
                  >
                    <img alt="avatar" [src]="row.avatarImg" />
                  </div>

                  <div
                    class="avatar-no-img"
                    *ngIf="!row.avatarImg"
                    [ngClass]="{
                      'round-avatar': column.isRound,
                      'regular-avatar': !column.isRound
                    }"
                    [ngStyle]="{
                      'background-color': row.avatarColor?.background
                        ? row.avatarColor.background
                        : 'unset',
                      color: row.avatarColor?.color
                        ? row.avatarColor.color
                        : 'unset'
                    }"
                  >
                    {{ row.textShortName }}
                  </div>

                  <img
                    class="avatar-owner"
                    alt="avatar"
                    *ngIf="row.isOwner"
                    src="../../../../../../assets/svg/truckassist-table/owner-badge.svg"
                  />
                </div>
                <span
                  (click)="goToDetails(column, row)"
                  class="table-avatar-name"
                  >{{ row[column.field] }}</span
                >
              </div>

              <!-- USER AVATAR COLUMN -->
              <div
                *ngIf="column.ngTemplate === 'user-avatar'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                class="td-content"
              >
                <div
                  class="user-avatar-container"
                  *ngIf="row[column.field]?.name"
                >
                  <img
                    alt="avatar"
                    *ngIf="row[column.field].avatar"
                    [src]="row[column.field].avatar"
                    class="avatar"
                  />

                  <div
                    class="user-avatar-no-img"
                    *ngIf="!row[column.field].avatar"
                    [ngStyle]="{
                      'background-color': row[column.field].avatarColor
                        ?.background
                        ? row[column.field].avatarColor.background
                        : 'unset',
                      color: row[column.field].avatarColor?.color
                        ? row[column.field].avatarColor.color
                        : 'unset'
                    }"
                  >
                    {{ row[column.field].textShortName }}
                  </div>
                </div>
                <span
                  class="table-avatar-name"
                  *ngIf="row[column.field]?.name"
                  >{{ row[column.field].name }}</span
                >
              </div>

              <!-- USER STATUS COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'user-status'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  class="user-status-container"
                  [ngClass]="{ 'user-invited': row[column.field].isInvited }"
                >
                  {{ row[column.field].status }}
                </div>
              </div>

              <!-- INVOICE COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'invoice'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  class="invoice-text"
                  [ngStyle]="{
                    width: column.width - 21 + 'px'
                  }"
                  (click)="goToDetails(column, row)"
                >
                  {{ row[column.field].invoice }}
                </div>

                <svg-icon
                  *ngIf="row[column.field].type"
                  [src]="
                    row[column.field].type === 'LTL'
                      ? '../../../../../../assets/svg/truckassist-table/load-ltl.svg'
                      : '../../../../../../assets/svg/truckassist-table/load-flt.svg'
                  "
                  [svgStyle]="{ 'width.px': '14', 'height.px': '14' }"
                ></svg-icon>
              </div>

              <!-- NAME LINK COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'nameLink'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <span
                  [ngStyle]="{
                    width: column.width + 'px'
                  }"
                  class="table-name-link"
                  (click)="goToDetails(column, row)"
                  >{{ row[column.field] }}</span
                >
              </div>

              <!-- OOS COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'oos'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="oos-container">
                  <div [ngClass]="{ 'oos-active': row.oos[0].active }">
                    {{ row.oos[0].value }}
                  </div>
                  <div [ngClass]="{ 'oos-active': row.oos[1].active }">
                    {{ row.oos[1].value }}
                  </div>
                  <div [ngClass]="{ 'oos-active': row.oos[2].active }">
                    {{ row.oos[2].value }}
                  </div>
                </div>
              </div>

              <!-- VIOLATION STATE COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'violation-state'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="violation-state-container">
                  {{ row[column.field] }}
                </div>
              </div>

              <!-- INV. AGEING COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'inv-ageing'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="inv-ageing-container">
                  <div class="bfb-container">{{ row[column.field].bfb }}</div>
                  <div class="dnu-container">{{ row[column.field].dnu }}</div>
                  <div
                    class="inv-ageing-text"
                    [ngStyle]="{
                      width: column.width - 42 + 'px'
                    }"
                  >
                    {{ row[column.field].amount }}
                  </div>
                </div>
              </div>

              <!-- CONTACT COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'contact'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="contact-container" *ngIf="row[column.field]">
                  <div class="contact-count">{{ row[column.field] }}</div>
                  <div class="contact-avatar"></div>
                </div>
              </div>

              <!-- WORK HOUR COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'work-hour'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="work-hour-container">
                  <div class="work-hour-icon"></div>
                  <div
                    class="work-hour-time"
                    [ngStyle]="{
                      width: column.width - 22 + 'px'
                    }"
                  >
                    {{ row[column.field] }}
                  </div>
                </div>
              </div>

              <!-- DESCRIPTION COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'description'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div
                  *ngIf="row[column.field]"
                  [ngStyle]="{
                    width: column.width - 5 + 'px'
                  }"
                  class="description-container"
                  [innerHtml]="row[column.field]"
                  #t1="ngbPopover"
                  (click)="onShowDescriptionDropdown(t1, row)"
                  [ngbPopover]="descriptionPopover"
                  container="body"
                  [placement]="'bottom-left'"
                  popoverClass="table-description-popover"
                  triggers="manual"
                ></div>
              </div>

              <!-- SHARED COLUMN-->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'shared'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="shared-container">
                  <div
                    class="shared-icon"
                    [ngClass]="{
                      'lock-icon': !isShared,
                      'shared-active-icon': isShared
                    }"
                  ></div>
                  <div class="shared-text">{{ row[column.field] }}</div>
                </div>
              </div>

              <!-- LVL COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'lvl'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="lvl-container">{{ row[column.field] }}</div>
              </div>

              <!-- VL COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'violation-count'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div
                  [ngClass]="{
                    'active-vl-count': row[column.field] > 0,
                    'zero-vl-count': !row[column.field]
                  }"
                >
                  {{ row[column.field] ? row[column.field] : "0" }}
                </div>
              </div>

              <!-- CUSTOMER NAME COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'customer-name'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="customer-name-container">
                  <svg-icon
                    *ngIf="row.ban && !row.dnu"
                    [src]="
                      'assets/svg/truckassist-table/customer/banner-icon.svg'
                    "
                    [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                  ></svg-icon>
                  <svg-icon
                    *ngIf="!row.ban && row.dnu"
                    [src]="
                      'assets/svg/truckassist-table/customer/do-not-use-icon.svg'
                    "
                    [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                  ></svg-icon>
                  <span class="customer-name">{{ row[column.field] }}</span>
                </div>
              </div>

              <!-- TOTAL  COLUMN-->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'total'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <!-- [innerHtml]=" row[column.field] ? (row[column.field] | taHighlight:
              highlightingWords) : '' " -->
                <span
                  *ngIf="!row.isRepairOrder"
                  class="table-total"
                  [innerHtml]="row[column.field] ? row[column.field] : ''"
                ></span>

                <div
                  class="finish-order-action"
                  (click)="onFinishOrder(row)"
                  *ngIf="row.isRepairOrder"
                >
                  Finish Order
                </div>
              </div>

              <!-- COMPACT TEXT -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'compact-text'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div
                  class="compact-text-container"
                  *ngIf="
                    row[column.field][0].value ||
                    row[column.field][1].value ||
                    row[column.field][2].value
                  "
                >
                  <!-- First -->
                  <div
                    class="title-values-container title-values-margin"
                    *ngIf="row[column.field][0].value"
                  >
                    <div class="title-compact-text">
                      {{ row[column.field][0].title }}
                    </div>
                    <div class="values-compact-text">
                      {{ row[column.field][0].value }}
                    </div>
                  </div>

                  <!-- Second  -->
                  <div
                    class="title-values-container title-values-margin"
                    *ngIf="row[column.field][1].value"
                  >
                    <div class="title-compact-text">
                      {{ row[column.field][1].title }}
                    </div>
                    <div class="values-compact-text">
                      {{ row[column.field][1].value }}
                    </div>
                  </div>

                  <!-- Third  -->
                  <div
                    class="title-values-container"
                    *ngIf="row[column.field][2].value"
                  >
                    <div class="title-compact-text">
                      {{ row[column.field][2].title }}
                    </div>
                    <div class="values-compact-text">
                      {{ row[column.field][2].value }}
                    </div>
                  </div>
                </div>
              </div>

              <!-- SERVICE COLUMN-->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'service'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="service-container" *ngIf="row[column.field]">
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][0].active ? 'truck-active' : 'truck'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][1].active ? 'trailer-active' : 'trailer'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][2].active ? 'mobile-active' : 'mobile'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][3].active ? 'shop-active' : 'shop'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][4].active ? 'towing-active' : 'towing'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][5].active ? 'parts-active' : 'parts'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][6].active ? 'tire-active' : 'tire'
                    "
                  ></div>
                  <div
                    class="img-style"
                    [class]="
                      row[column.field][7].active ? 'dealer-active' : 'dealer'
                    "
                  ></div>
                </div>
              </div>

              <!-- PPG COLUMN-->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'ppg'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <!-- [innerHtml]="'$0' | taHighlight: highlightingWords" -->
                <span class="table-text" [innerHtml]="'$0'"></span>
              </div>

              <!-- URL COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'url'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <a
                  class="table-url"
                  href="{{ row[column.field] }}"
                  [innerHtml]="row[column.field] ? row[column.field] : ''"
                ></a>
              </div>

              <!-- PASSWORD COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'password'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  (click)="onShowPassword(row, column)"
                  *ngIf="!row[column.field].apiCallStarted"
                  class="password-icon"
                  [ngClass]="{
                    'password-hidden': row[column.field].hiden,
                    'password-showing': !row[column.field].hiden
                  }"
                ></div>

                <svg-icon
                  class="password-spiner"
                  *ngIf="row[column.field].apiCallStarted"
                  src="/assets/svg/truckassist-table/loading-spinner.svg"
                ></svg-icon>

                <div
                  class="password-text-crypted"
                  *ngIf="
                    row[column.field].hiden && !row[column.field].apiCallStarted
                  "
                  [innerHtml]="row[column.field].hidemCharacters"
                ></div>

                <div
                  class="password-text-showing"
                  *ngIf="
                    !row[column.field].hiden &&
                    !row[column.field].apiCallStarted
                  "
                >
                  {{ row[column.field].password }}
                </div>
              </div>

              <!-- RAITING COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'rating'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="raiting-container">
                  <div
                    class="raiting-icon"
                    (click)="onLike(row)"
                    [ngClass]="{
                      'did-like-icon': row[column.field].hasLiked,
                      'like-icon': !row[column.field].hasLiked
                    }"
                  ></div>
                  <div
                    class="raiting-counter-container"
                    (click)="onOpenReviews(row)"
                  >
                    <div class="raiting-counter like-counter">
                      {{ row[column.field].likeCount }}
                    </div>
                    <div class="raiting-counter dislike-counter">
                      {{ row[column.field].dislikeCount }}
                    </div>
                  </div>
                  <div
                    class="raiting-icon"
                    (click)="onDislike(row)"
                    [ngClass]="{
                      'did-dislike-icon': row[column.field].hasDislike,
                      'dislike-icon': !row[column.field].hasDislike
                    }"
                  ></div>
                </div>
              </div>

              <!-- LABLE COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'label'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  class="table-lable"
                  [ngStyle]="{
                    background: row[column.field]?.color
                      ? row[column.field].color
                      : 'unset'
                  }"
                ></div>
                <span
                  class="table-lable-text"
                  [innerHtml]="
                    row[column.field]?.name ? row[column.field].name : ''
                  "
                ></span>
              </div>

              <!-- TEXT COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'text'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <span class="table-text">{{
                  row[column.field] ? row[column.field] : ""
                }}</span>
              </div>

              <!-- SEMI BOLD TEXT COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'semi-bold-text'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <span class="semi-bold-table-text">{{
                  row[column.field] ? row[column.field] : ""
                }}</span>
              </div>

              <!-- COLOR COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'color'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <svg
                  *ngIf="row[column.field]"
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 11.638 16.2"
                >
                  <path
                    d="M16,16.365c0-2.42,3.382-7.593,4.989-9.912a1,1,0,0,1,1.66,0c1.607,2.319,4.989,7.492,4.989,9.912a5.819,5.819,0,1,1-11.638,0Zm3.174,0a.529.529,0,0,0-1.058,0,3.708,3.708,0,0,0,3.7,3.733.529.529,0,1,0,0-1.058A2.651,2.651,0,0,1,19.174,16.365Z"
                    transform="translate(-16 -6.014)"
                    [ngStyle]="{
                      fill: row[column.field],
                      filter:
                        row.color === '#F9F9F9'
                          ? 'drop-shadow(0px 0px 0px rgba(0, 0, 0, 0.2))'
                          : 'unset'
                    }"
                  />
                </svg>

                <div
                  *ngIf="row[column.field]"
                  [ngStyle]="{
                    width: column.width - 18 + 'px'
                  }"
                  class="color-name"
                >
                  {{ row.colorName }}
                </div>
              </div>

              <!-- SVG COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'svg'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="truckassist-icon">
                  <svg-icon
                    [class]="row[column.classField]"
                    [src]="column.svgUrl + row[column.field]"
                    [svgStyle]="{
                      'width.px': column.svgDimensions.width,
                      'height.px': column.svgDimensions.height
                    }"
                  ></svg-icon>
                </div>
              </div>

              <!-- STATE TEXT COLUMN -->
              <div
                *ngIf="column.ngTemplate === 'textState'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                class="td-content"
              >
                <div *ngIf="row[column.field]" class="table-state">
                  {{ row[column.field] ? row[column.field] : "" }}
                </div>
              </div>

              <!-- PROGRESS COLUMN -->
              <div
                class="td-content"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                *ngIf="column.ngTemplate === 'progress'"
              >
                <div
                  class="table-progress-cotnainer"
                  *ngIf="row[column.field]?.expirationDays"
                >
                  <!-- Progres Bar  -->
                  <div
                    class="table-progress-bar-container"
                    [ngClass]="{
                      'bg-expired-container': !row[column.field].percentage,
                      'bg-sliver-container':
                        row[column.field].percentage >= 25 &&
                        row[column.field].percentage < 100,
                      'bg-orange-container':
                        row[column.field].percentage >= 5 &&
                        row[column.field].percentage < 25,
                      'bg-danger-container':
                        row[column.field].percentage > 0 &&
                        row[column.field].percentage < 5,
                      'bg-inactive-container':
                        row[column.field].percentage === 100
                    }"
                  >
                    <div
                      [ngClass]="{
                        'bg-progress-sliver':
                          row[column.field].percentage >= 25 &&
                          row[column.field].percentage < 100,
                        'bg-progress-orange':
                          row[column.field].percentage >= 5 &&
                          row[column.field].percentage < 25,
                        'bg-progress-danger':
                          row[column.field].percentage > 0 &&
                          row[column.field].percentage < 5
                      }"
                      [ngStyle]="{ width: row[column.field].percentage + '%' }"
                      class="table-progress-bar"
                      *ngIf="
                        row[column.field].percentage > 0 &&
                        row[column.field].percentage < 100
                      "
                    ></div>
                  </div>

                  <!-- Progres Text -->
                  <div
                    class="table-progress-text"
                    [ngStyle]="{
                      width: column.width - 30 + 'px'
                    }"
                    *ngIf="
                      row[column.field].percentage > 0 &&
                      row[column.field].percentage < 100
                    "
                  >
                    in {{ row[column.field].expirationDays }} days
                  </div>

                  <!-- Progres Text Expired-->
                  <div
                    class="table-progress-text"
                    [ngStyle]="{
                      width: column.width - 30 + 'px'
                    }"
                    *ngIf="!row[column.field].percentage"
                  >
                    {{ row[column.field].expirationDays }} days ago
                  </div>
                </div>
              </div>

              <!-- APPLICANT PROGRESS COLUMN -->
              <div
                class="td-content"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                *ngIf="column.ngTemplate === 'applicant-progress'"
              >
                <div
                  class="applicant-progress-container"
                  [ngStyle]="{ width: progressStatus.width + 'px' }"
                  *ngFor="let progressStatus of row[column.field]"
                >
                  <!-- Progress -->
                  <div
                    class="table-progress-cotnainer"
                    *ngIf="progressStatus.status === 'In Progres'"
                  >
                    <!-- Progress Bar  -->
                    <div
                      class="table-progress-bar-container"
                      [ngClass]="{
                        'bg-expired-container':
                          progressStatus.percentage === 100,
                        'bg-sliver-container':
                          progressStatus.percentage >= 25 &&
                          progressStatus.percentage < 100,
                        'bg-orange-container':
                          progressStatus.percentage >= 5 &&
                          progressStatus.percentage < 25,
                        'bg-danger-container':
                          progressStatus.percentage > 0 &&
                          progressStatus.percentage < 5,
                        'bg-inactive-container': !progressStatus.percentage
                      }"
                    >
                      <div
                        [ngClass]="{
                          'bg-progress-sliver':
                            progressStatus.percentage >= 25 &&
                            progressStatus.percentage < 50,
                          'bg-progress-orange':
                            progressStatus.percentage >= 5 &&
                            progressStatus.percentage < 25,
                          'bg-progress-danger':
                            progressStatus.percentage > 0 &&
                            progressStatus.percentage < 5
                        }"
                        [ngStyle]="{
                          width: progressStatus.percentage + '%'
                        }"
                        class="table-progress-bar"
                        *ngIf="
                          progressStatus.percentage > 0 &&
                          progressStatus.percentage < 100
                        "
                      ></div>
                    </div>
                  </div>

                  <!-- Status Icon -->
                  <div
                    class="applicant-status-container"
                    *ngIf="
                      progressStatus.status !== 'In Progres' &&
                      progressStatus.status !== 'No Started'
                    "
                  >
                    <div
                      class="status-icon"
                      [class]="progressStatus.class"
                    ></div>
                  </div>
                </div>
              </div>

              <!-- APPLICANT REVIEW COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'applicant-review'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="applicant-review-container">
                  <div
                    class="review-icon"
                    [ngClass]="{
                      reviewed: row[column.field].title === 'Reviewed',
                      finished: row[column.field].title === 'Finished',
                      incomplete: row[column.field].title === 'Incomplete',
                      ready: row[column.field].title === 'Ready'
                    }"
                  >
                    <svg-icon
                      [src]="row[column.field].iconLink"
                      [svgStyle]="{ 'width.px': '16', 'height.px': '16' }"
                    ></svg-icon>
                  </div>
                  <div
                    class="review-title"
                    [ngStyle]="{
                      width: column.width - 26 + 'px'
                    }"
                  >
                    {{ row[column.field].title }}
                  </div>
                </div>
              </div>

              <!-- SW TW TOTAL COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'sw-tw-total'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="sw-tw-total-container">
                  <div class="border"></div>
                  <div class="regular-count">0</div>
                  <div class="border"></div>
                  <div class="regular-count">0</div>
                  <div class="border"></div>
                  <div class="bold-count">0</div>
                  <div class="border"></div>
                </div>
              </div>

              <!-- CITATION COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'citation'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="citation-container">
                  <div class="citation-item cop-item">0</div>
                  <div class="citation-item oss-item">0</div>
                  <div class="citation-item money-item">0</div>
                </div>
              </div>

              <!-- ACCIDENT CITATION TYPE COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'accident-citation'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="accident-citation-container">
                  <div class="accident-citation-item item-has-margin grey-item">
                    0
                  </div>
                  <div
                    class="accident-citation-item item-has-margin yellow-item"
                  >
                    0
                  </div>
                  <div class="accident-citation-item item-has-margin red-item">
                    0
                  </div>
                  <div class="accident-citation-item item-has-margin blue-item">
                    N
                  </div>
                  <div class="accident-citation-item blue-item">N</div>
                </div>
              </div>
            </td>
          </div>

          <!-- Border -->
          <div
            class="border-scroll-section"
            [ngClass]="{ 'border-left': showScrollSectionBorder }"
          ></div>

          <!--  (scroll)="onScroll($event)" -->
          <!-- NOT PINED -->
          <div
            class="not-pined-columns"
            id="scroll-container"
            [ngStyle]="{ 'max-width.px': notPinedMaxWidth }"
          >
            <td class="not-pined-td" *ngFor="let column of notPinedColumns">
              <!-- NO TEMPLATE -->
              <div
                *ngIf="column.ngTemplate === ''"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                class="td-content"
              >
                <div class="no-template">NO TEMPLATE</div>
              </div>

              <!-- DISPECHER AVATAR COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'dispatcher-avatar'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <img
                  [src]="
                    row[column.field]?.avatar
                      ? row[column.field].avatar
                      : 'assets/svg/truckassist-table/user-avatar-no-profile.svg'
                  "
                  alt=""
                  class="dispecher-img"
                />

                <div
                  class="dispatcher-name"
                  [ngStyle]="{
                    width: column.width - 24 + 'px'
                  }"
                >
                  {{ row[column.field].name }}
                </div>
              </div>

              <!-- STATUS COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'status'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                #ngbStatus="ngbPopover"
                [autoClose]="true"
                [ngbPopover]="statusPopover"
                [placement]="'bottom'"
                container="body"
                popoverClass="table-status-popover"
                triggers="manual"
              >
                <div
                  class="status-container"
                  [ngStyle]="{
                    width: column.width - 20 + 'px'
                  }"
                  (click)="toggleStatusDropdown(ngbStatus, row)"
                >
                  <div class="status">
                    {{ row[column.field].status }}
                  </div>
                  <div class="status-time">
                    {{ row[column.field].time }}
                  </div>
                </div>
              </div>

              <!-- TEXT COLOR COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'text-color'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  class="text-color"
                  [ngStyle]="{
                    color: row[column.field].color,
                    'margin-left': column.margin + 'px',
                    'padding-left': column.padding + 'px'
                  }"
                >
                  {{ row[column.field].number }}
                </div>
              </div>

              <!-- PICKUP AND DELIVERY COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'pickup-delivery'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  class="pickup-delivery-counter"
                  [ngClass]="{
                    'pickup-count':
                      column.pickupDeliveryType === 'pickup' &&
                      row[column.field].count !== 'S',
                    'delivery-count':
                      column.pickupDeliveryType === 'delivery' &&
                      row[column.field].count !== 'S',
                    'special-count': row[column.field].count === 'S'
                  }"
                >
                  {{ row[column.field].count }}
                </div>

                <div class="pickup-delivery-location-container">
                  <div
                    class="location"
                    [ngStyle]="{
                      width: column.width - 28 + 'px'
                    }"
                  >
                    {{ row[column.field].location }}
                  </div>
                  <div
                    class="date-time-container"
                    [ngStyle]="{
                      width: column.width - 30 + 'px'
                    }"
                  >
                    <div class="date">{{ row[column.field].date }}</div>
                    <div class="time">{{ row[column.field].time }}</div>
                  </div>
                </div>
              </div>

              <!-- LOAD TOTAL COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'load-total'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="load-totla-container">
                  <div
                    class="main-total"
                    [ngStyle]="{
                      width: column.width + 'px'
                    }"
                  >
                    {{ row[column.field].total }}
                  </div>
                  <div
                    *ngIf="row[column.field].subTotal"
                    [ngStyle]="{
                      width: column.width + 'px'
                    }"
                    class="sub-total"
                  >
                    {{ row[column.field].subTotal }}
                  </div>
                </div>
              </div>

              <!-- CUSTOMER NAME COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'customer-name'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <svg-icon
                  *ngIf="row[column.field].hasBanDnu"
                  class="customer-icon"
                  [src]="
                    row[column.field].isDnu
                      ? '../../../../../../assets/svg/truckassist-table/dnu-icon.svg'
                      : '../../../../../../assets/svg/truckassist-table/ban-icon.svg'
                  "
                  [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                ></svg-icon>

                <div
                  class="customer-name"
                  [ngStyle]="{
                    width: row[column.field].hasBanDnu
                      ? column.width - 22 + 'px'
                      : column.width + 'px'
                  }"
                  [ngClass]="{
                    'customer-name-ban':
                      !row[column.field].isDnu && row[column.field].hasBanDnu
                  }"
                >
                  {{ row[column.field].name }}
                </div>
              </div>

              <!-- AVATAR COLUMN -->
              <div
                *ngIf="column.ngTemplate === 'avatar'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                class="td-content"
              >
                <div class="avatar-container">
                  <div class="avatar-img" *ngIf="row.avatarImg">
                    <img alt="avatar" [src]="row.avatarImg" />
                  </div>

                  <div
                    class="avatar-no-img"
                    *ngIf="!row.avatarImg"
                    [ngStyle]="{
                      'background-color': row.avatarColor?.background
                        ? row.avatarColor.background
                        : 'unset',
                      color: row.avatarColor?.color
                        ? row.avatarColor.color
                        : 'unset'
                    }"
                  >
                    {{ row.textDriverShortName }}
                  </div>

                  <img
                    class="avatar-owner"
                    alt="avatar"
                    *ngIf="row.isOwner"
                    src="../../../../../../assets/svg/truckassist-table/owner-badge.svg"
                  />
                </div>
                <span
                  (click)="goToDetails(column, row)"
                  class="table-avatar-name"
                  >{{ row[column.field] }}</span
                >
              </div>

              <!-- USER STATUS COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'user-status'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  class="user-status-container"
                  [ngClass]="{ 'user-invited': row[column.field].isInvited }"
                >
                  {{ row[column.field].status }}
                </div>
              </div>

              <!-- NAME LINK COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'nameLink'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <span
                  [ngStyle]="{
                    width: column.width + 'px'
                  }"
                  class="table-name-link"
                  (click)="goToDetails(column, row)"
                  >{{ row[column.field] }}</span
                >
              </div>

              <!-- OOS COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'oos'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="oos-container">
                  <div [ngClass]="{ 'oos-active': row.oos[0].active }">
                    {{ row.oos[0].value }}
                  </div>
                  <div [ngClass]="{ 'oos-active': row.oos[1].active }">
                    {{ row.oos[1].value }}
                  </div>
                  <div [ngClass]="{ 'oos-active': row.oos[2].active }">
                    {{ row.oos[2].value }}
                  </div>
                </div>
              </div>

              <!-- VIOLATION STATE COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'violation-state'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="violation-state-container">
                  {{ row[column.field] }}
                </div>
              </div>

              <!-- INV. AGEING COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'inv-ageing'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="inv-ageing-container">
                  <div class="bfb-container">{{ row[column.field].bfb }}</div>
                  <div class="dnu-container">{{ row[column.field].dnu }}</div>
                  <div
                    class="inv-ageing-text"
                    [ngStyle]="{
                      width: column.width - 42 + 'px'
                    }"
                  >
                    {{ row[column.field].amount }}
                  </div>
                </div>
              </div>

              <!-- CONTACT COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'contact'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="contact-container" *ngIf="row[column.field]">
                  <div class="contact-count">{{ row[column.field] }}</div>
                  <div class="contact-avatar"></div>
                </div>
              </div>

              <!-- WORK HOUR COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'work-hour'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="work-hour-container">
                  <div class="work-hour-icon"></div>
                  <div
                    class="work-hour-time"
                    [ngStyle]="{
                      width: column.width - 22 + 'px'
                    }"
                  >
                    {{ row[column.field] }}
                  </div>
                </div>
              </div>

              <!-- DESCRIPTION COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'description'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div
                  *ngIf="row[column.field]"
                  [ngStyle]="{
                    width: column.width - 5 + 'px'
                  }"
                  class="description-container"
                  [innerHtml]="row[column.field]"
                  #t1="ngbPopover"
                  (click)="onShowDescriptionDropdown(t1, row)"
                  [ngbPopover]="descriptionPopover"
                  container="body"
                  [placement]="'bottom-left'"
                  popoverClass="table-description-popover"
                  triggers="manual"
                ></div>
              </div>

              <!-- SHARED COLUMN-->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'shared'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="shared-container">
                  <div
                    class="shared-icon"
                    [ngClass]="{
                      'lock-icon': !isShared,
                      'shared-active-icon': isShared
                    }"
                  ></div>
                  <div class="shared-text">{{ row[column.field] }}</div>
                </div>
              </div>

              <!-- RAITING COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'rating'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="raiting-container">
                  <div
                    class="raiting-icon"
                    (click)="onLike(row, column)"
                    [ngClass]="{
                      'did-like-icon': row[column.field].hasLiked,
                      'like-icon': !row[column.field].hasLiked
                    }"
                  ></div>
                  <div
                    class="raiting-counter-container"
                    (click)="onOpenReviews(row)"
                  >
                    <div class="raiting-counter like-counter">
                      {{ row[column.field].likeCount }}
                    </div>
                    <div class="raiting-counter dislike-counter">
                      {{ row[column.field].dislikeCount }}
                    </div>
                  </div>
                  <div
                    class="raiting-icon"
                    (click)="onDislike(row, column)"
                    [ngClass]="{
                      'did-dislike-icon': row[column.field].hasDislike,
                      'dislike-icon': !row[column.field].hasDislike
                    }"
                  ></div>
                </div>
              </div>

              <!-- LVL COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'lvl'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="lvl-container">{{ row[column.field] }}</div>
              </div>

              <!-- COMPACT TEXT -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'compact-text'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div
                  class="compact-text-container"
                  *ngIf="
                    row[column.field][0].value ||
                    row[column.field][1].value ||
                    row[column.field][2].value
                  "
                >
                  <!-- First -->
                  <div
                    class="title-values-container title-values-margin"
                    *ngIf="row[column.field][0].value"
                  >
                    <div class="title-compact-text">
                      {{ row[column.field][0].title }}
                    </div>
                    <div class="values-compact-text">
                      {{ row[column.field][0].value }}
                    </div>
                  </div>

                  <!-- Second  -->
                  <div
                    class="title-values-container title-values-margin"
                    *ngIf="row[column.field][1].value"
                  >
                    <div class="title-compact-text">
                      {{ row[column.field][1].title }}
                    </div>
                    <div class="values-compact-text">
                      {{ row[column.field][1].value }}
                    </div>
                  </div>

                  <!-- Third  -->
                  <div
                    class="title-values-container"
                    *ngIf="row[column.field][2].value"
                  >
                    <div class="title-compact-text">
                      {{ row[column.field][2].title }}
                    </div>
                    <div class="values-compact-text">
                      {{ row[column.field][2].value }}
                    </div>
                  </div>
                </div>
              </div>

              <!-- VL COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'violation-count'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div
                  [ngClass]="{
                    'active-vl-count': row[column.field] > 0,
                    'zero-vl-count': !row[column.field]
                  }"
                >
                  {{ row[column.field] ? row[column.field] : "0" }}
                </div>
              </div>

              <!-- CUSTOMER NAME COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'customer-name'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="customer-name-container">
                  <svg-icon
                    *ngIf="row.ban && !row.dnu"
                    [src]="
                      'assets/svg/truckassist-table/customer/banner-icon.svg'
                    "
                    [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                  ></svg-icon>
                  <svg-icon
                    *ngIf="!row.ban && row.dnu"
                    [src]="
                      'assets/svg/truckassist-table/customer/do-not-use-icon.svg'
                    "
                    [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                  ></svg-icon>
                  <span class="customer-name">{{ row[column.field] }}</span>
                </div>
              </div>

              <!-- TOTAL  COLUMN-->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'total'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <!-- [innerHtml]=" row[column.field] ? (row[column.field] | taHighlight:
            highlightingWords) : '' " -->
                <span
                  *ngIf="!row.isRepairOrder"
                  class="table-total"
                  [innerHtml]="row[column.field] ? row[column.field] : ''"
                ></span>

                <div
                  class="finish-order-action"
                  (click)="onFinishOrder(row)"
                  *ngIf="row.isRepairOrder"
                >
                  Finish Order
                </div>
              </div>

              <!-- SERVICE COLUMN-->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'service'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="service-container" *ngIf="row[column.field]">
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][0].active ? 'truck-active' : 'truck'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][1].active ? 'trailer-active' : 'trailer'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][2].active ? 'mobile-active' : 'mobile'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][3].active ? 'shop-active' : 'shop'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][4].active ? 'towing-active' : 'towing'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][5].active ? 'parts-active' : 'parts'
                    "
                  ></div>
                  <div
                    class="img-style img-margin"
                    [class]="
                      row[column.field][6].active ? 'tire-active' : 'tire'
                    "
                  ></div>
                  <div
                    class="img-style"
                    [class]="
                      row[column.field][7].active ? 'dealer-active' : 'dealer'
                    "
                  ></div>
                </div>
              </div>

              <!-- PPG COLUMN-->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'ppg'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <!-- [innerHtml]="'$0' | taHighlight: highlightingWords" -->
                <span class="table-text" [innerHtml]="'$0'"></span>
              </div>

              <!-- URL COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'url'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <a
                  class="table-url"
                  href="{{ row[column.field] }}"
                  [innerHtml]="row[column.field] ? row[column.field] : ''"
                ></a>
              </div>

              <!-- PASSWORD COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'password'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  (click)="onShowPassword(row, column)"
                  *ngIf="!row[column.field].apiCallStarted"
                  class="password-icon"
                  [ngClass]="{
                    'password-hidden': row[column.field].hiden,
                    'password-showing': !row[column.field].hiden
                  }"
                ></div>

                <svg-icon
                  class="password-spiner"
                  *ngIf="row[column.field].apiCallStarted"
                  src="/assets/svg/truckassist-table/loading-spinner.svg"
                ></svg-icon>

                <div
                  class="password-text-crypted"
                  *ngIf="
                    row[column.field].hiden && !row[column.field].apiCallStarted
                  "
                  [innerHtml]="row[column.field].hidemCharacters"
                ></div>

                <div
                  class="password-text-showing"
                  *ngIf="
                    !row[column.field].hiden &&
                    !row[column.field].apiCallStarted
                  "
                >
                  {{ row[column.field].password }}
                </div>
              </div>

              <!-- LABLE COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'label'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="lable-container" *ngIf="row[column.field]">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="18"
                    height="18"
                    viewBox="0 0 18 18"
                  >
                    <g transform="translate(-1084 -362)">
                      <rect
                        width="18"
                        height="18"
                        transform="translate(1084 362)"
                        fill="#8a9aef"
                        opacity="0"
                      />
                      <path
                        d="M0,7.977V1.519A1.519,1.519,0,0,1,1.519,0H7.977A1.519,1.519,0,0,1,9.051.445l6.7,6.7a1.519,1.519,0,0,1,0,2.148L9.3,15.755a1.519,1.519,0,0,1-2.148,0l-6.7-6.7A1.519,1.519,0,0,1,0,7.977ZM3.544,2.025A1.519,1.519,0,1,0,5.063,3.544,1.519,1.519,0,0,0,3.544,2.025Z"
                        transform="translate(1084.9 362.9)"
                        [ngStyle]="{
                          fill: row[column.field].color
                        }"
                      />
                    </g>
                  </svg>
                  <div class="lable-name">{{ row[column.field].name }}</div>
                </div>
              </div>

              <!-- TEXT COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'text'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <span class="table-text">{{
                  row[column.field] ? row[column.field] : ""
                }}</span>
              </div>

              <!-- SEMI BOLD TEXT COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'semi-bold-text'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <span class="semi-bold-table-text">{{
                  row[column.field] ? row[column.field] : ""
                }}</span>
              </div>

              <!-- COLOR COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'color'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 11.638 16.2"
                  *ngIf="row[column.field]"
                >
                  <path
                    d="M16,16.365c0-2.42,3.382-7.593,4.989-9.912a1,1,0,0,1,1.66,0c1.607,2.319,4.989,7.492,4.989,9.912a5.819,5.819,0,1,1-11.638,0Zm3.174,0a.529.529,0,0,0-1.058,0,3.708,3.708,0,0,0,3.7,3.733.529.529,0,1,0,0-1.058A2.651,2.651,0,0,1,19.174,16.365Z"
                    transform="translate(-16 -6.014)"
                    [ngStyle]="{
                      fill: row[column.field],
                      filter:
                        row.color === '#F9F9F9'
                          ? 'drop-shadow(0px 0px 0px rgba(0, 0, 0, 0.2))'
                          : 'unset'
                    }"
                  />
                </svg>
                <div
                  *ngIf="row[column.field]"
                  [ngStyle]="{
                    width: column.width - 18 + 'px'
                  }"
                  class="color-name"
                >
                  {{ row.colorName }}
                </div>
              </div>

              <!-- SVG COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'svg'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="truckassist-icon">
                  <svg-icon
                    [class]="row[column.classField]"
                    [src]="column.svgUrl + row[column.field]"
                    [svgStyle]="{
                      'width.px': column.svgDimensions.width,
                      'height.px': column.svgDimensions.height
                    }"
                  ></svg-icon>
                </div>
              </div>

              <!-- STATE TEXT COLUMN -->
              <div
                *ngIf="column.ngTemplate === 'textState'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                class="td-content"
              >
                <div *ngIf="row[column.field]" class="table-state">
                  {{ row[column.field] ? row[column.field] : "" }}
                </div>
              </div>

              <!-- PROGRESS COLUMN -->
              <div
                class="td-content"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                *ngIf="column.ngTemplate === 'progress'"
              >
                <div
                  class="table-progress-cotnainer"
                  *ngIf="row[column.field]?.expirationDays"
                >
                  <!-- Progres Bar  -->
                  <div
                    class="table-progress-bar-container"
                    [ngClass]="{
                      'bg-expired-container': !row[column.field].percentage,
                      'bg-sliver-container':
                        row[column.field].percentage >= 25 &&
                        row[column.field].percentage < 100,
                      'bg-orange-container':
                        row[column.field].percentage >= 5 &&
                        row[column.field].percentage < 25,
                      'bg-danger-container':
                        row[column.field].percentage > 0 &&
                        row[column.field].percentage < 5,
                      'bg-inactive-container':
                        row[column.field].percentage === 100
                    }"
                  >
                    <div
                      [ngClass]="{
                        'bg-progress-sliver':
                          row[column.field].percentage >= 25 &&
                          row[column.field].percentage < 100,
                        'bg-progress-orange':
                          row[column.field].percentage >= 5 &&
                          row[column.field].percentage < 25,
                        'bg-progress-danger':
                          row[column.field].percentage > 0 &&
                          row[column.field].percentage < 5
                      }"
                      [ngStyle]="{ width: row[column.field].percentage + '%' }"
                      class="table-progress-bar"
                      *ngIf="
                        row[column.field].percentage > 0 &&
                        row[column.field].percentage < 100
                      "
                    ></div>
                  </div>

                  <!-- Progres Text -->
                  <div
                    class="table-progress-text"
                    [ngStyle]="{
                      width: column.width - 30 + 'px'
                    }"
                    *ngIf="
                      row[column.field].percentage > 0 &&
                      row[column.field].percentage < 100
                    "
                  >
                    in {{ row[column.field].expirationDays }} days
                  </div>

                  <!-- Progres Text Expired-->
                  <div
                    class="table-progress-text"
                    [ngStyle]="{
                      width: column.width - 30 + 'px'
                    }"
                    *ngIf="!row[column.field].percentage"
                  >
                    {{ row[column.field].expirationDays }} days ago
                  </div>
                </div>
              </div>

              <!-- APPLICANT PROGRESS COLUMN -->
              <div
                class="td-content"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
                *ngIf="column.ngTemplate === 'applicant-progress'"
              >
                <div
                  class="applicant-progress-container"
                  [ngStyle]="{ width: progressStatus.width + 'px' }"
                  *ngFor="let progressStatus of row[column.field]"
                >
                  <!-- Progress -->
                  <div
                    class="table-progress-cotnainer"
                    *ngIf="progressStatus.status === 'In Progres'"
                  >
                    <!-- Progress Bar  -->
                    <div
                      class="table-progress-bar-container"
                      [ngClass]="{
                        'bg-expired-container':
                          progressStatus.percentage === 100,
                        'bg-sliver-container':
                          progressStatus.percentage >= 25 &&
                          progressStatus.percentage < 100,
                        'bg-orange-container':
                          progressStatus.percentage >= 5 &&
                          progressStatus.percentage < 25,
                        'bg-danger-container':
                          progressStatus.percentage > 0 &&
                          progressStatus.percentage < 5,
                        'bg-inactive-container': !progressStatus.percentage
                      }"
                    >
                      <div
                        [ngClass]="{
                          'bg-progress-sliver':
                            progressStatus.percentage >= 25 &&
                            progressStatus.percentage < 50,
                          'bg-progress-orange':
                            progressStatus.percentage >= 5 &&
                            progressStatus.percentage < 25,
                          'bg-progress-danger':
                            progressStatus.percentage > 0 &&
                            progressStatus.percentage < 5
                        }"
                        [ngStyle]="{
                          width: progressStatus.percentage + '%'
                        }"
                        class="table-progress-bar"
                        *ngIf="
                          progressStatus.percentage > 0 &&
                          progressStatus.percentage < 100
                        "
                      ></div>
                    </div>
                  </div>

                  <!-- Status Icon -->
                  <div
                    class="applicant-status-container"
                    *ngIf="
                      progressStatus.status !== 'In Progres' &&
                      progressStatus.status !== 'No Started'
                    "
                  >
                    <div
                      class="status-icon"
                      [class]="progressStatus.class"
                    ></div>
                  </div>
                </div>
              </div>

              <!-- APPLICANT REVIEW COLUMN -->
              <div
                class="td-content"
                *ngIf="column.ngTemplate === 'applicant-review'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="applicant-review-container">
                  <div
                    class="review-icon"
                    [ngClass]="{
                      reviewed: row[column.field].title === 'Reviewed',
                      finished: row[column.field].title === 'Finished',
                      incomplete: row[column.field].title === 'Incomplete',
                      ready: row[column.field].title === 'Ready'
                    }"
                  >
                    <svg-icon
                      [src]="row[column.field].iconLink"
                      [svgStyle]="{ 'width.px': '16', 'height.px': '16' }"
                    ></svg-icon>
                  </div>
                  <div
                    class="review-title"
                    [ngStyle]="{
                      width: column.width - 26 + 'px'
                    }"
                  >
                    {{ row[column.field].title }}
                  </div>
                </div>
              </div>

              <!-- SW TW TOTAL COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'sw-tw-total'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="sw-tw-total-container">
                  <div class="border"></div>
                  <div class="regular-count">0</div>
                  <div class="border"></div>
                  <div class="regular-count">0</div>
                  <div class="border"></div>
                  <div class="bold-count">0</div>
                  <div class="border"></div>
                </div>
              </div>

              <!-- CITATION COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'citation'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="citation-container">
                  <div class="citation-item cop-item">0</div>
                  <div class="citation-item oss-item">0</div>
                  <div class="citation-item money-item">0</div>
                </div>
              </div>

              <!-- ACCIDENT CITATION TYPE COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'accident-citation'"
                [ngStyle]="{
                  width: column.width + 'px'
                }"
              >
                <div class="accident-citation-container">
                  <div class="accident-citation-item item-has-margin grey-item">
                    0
                  </div>
                  <div
                    class="accident-citation-item item-has-margin yellow-item"
                  >
                    0
                  </div>
                  <div class="accident-citation-item item-has-margin red-item">
                    0
                  </div>
                  <div class="accident-citation-item item-has-margin blue-item">
                    N
                  </div>
                  <div class="accident-citation-item blue-item">N</div>
                </div>
              </div>
            </td>
          </div>

          <!-- Border -->
          <div
            class="border-scroll-section"
            [ngClass]="{ 'border-right': showScrollSectionBorder }"
          ></div>

          <!-- ACTIONS -->
          <div class="actions-columns">
            <td class="action-td" *ngFor="let column of actionsColumns">
              <!-- ATTACHMENTS COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'attachments'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  (click)="onShowAttachments(row)"
                  [ngClass]="{ 'action-active': activeAttachment === row.id }"
                  class="attachments-icon-container"
                >
                  <svg-icon
                    [src]="
                      '../../../../../../assets/svg/truckassist-table/attachment-icon.svg'
                    "
                    [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                  ></svg-icon>
                </div>
              </div>

              <!-- MEDIA COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'media'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  class="media-icon-container"
                  (click)="onShowMedia(row)"
                  [ngClass]="{ 'action-active': activeMedia === row.id }"
                >
                  <svg-icon
                    [src]="
                      '../../../../../../assets/svg/truckassist-table/media-icon.svg'
                    "
                    [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                  ></svg-icon>
                </div>
              </div>

              <!-- INSURANCE COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'insurance'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  class="inspection-icon-container"
                  (click)="onShowInsurance(row)"
                  [ngClass]="{ 'action-active': activeInsurance === row.id }"
                >
                  <svg-icon
                    [src]="
                      '../../../../../../assets/svg/truckassist-table/insurance-icon.svg'
                    "
                    [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                  ></svg-icon>
                </div>
              </div>

              <!-- COMMENT COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'comment'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div class="comment-container">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="18"
                    height="18"
                    viewBox="0 0 19.5 19.5"
                  >
                    <g transform="translate(-3706.5 -106)">
                      <g transform="translate(3707 109)">
                        <g transform="translate(-1639 -181)">
                          <path
                            d="M963.974,510.676H950.584a2.274,2.274,0,0,0-2.305,2.237v10.5a2.274,2.274,0,0,0,2.305,2.237h.82l1.574,2.645a.792.792,0,0,0,1.351,0l1.574-2.645h8.07a2.275,2.275,0,0,0,2.305-2.237v-10.5a2.274,2.274,0,0,0-2.305-2.237"
                            transform="translate(690.721 -331.676)"
                            fill="#aaa"
                            stroke="rgba(0,0,0,0)"
                            stroke-width="1"
                            class="comment-notification"
                          />
                          <text
                            transform="translate(1648 190)"
                            fill="#fff"
                            font-size="10"
                            font-family="Montserrat-Bold, Montserrat"
                            font-weight="700"
                          >
                            <tspan x="-3.445" y="0">
                              {{ row[column.field].count }}
                            </tspan>
                          </text>
                        </g>
                      </g>
                      <rect
                        *ngIf="row[column.field].comments"
                        width="6"
                        height="6"
                        rx="3"
                        transform="translate(3720 106)"
                        fill="#e57373"
                      />
                    </g>
                  </svg>
                </div>
              </div>

              <!-- HIRE COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'hire'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  class="hire-icon"
                  (click)="onHire(row)"
                  *ngIf="row[column.field]"
                ></div>
              </div>

              <!-- FAVORITE COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'favorite'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  (click)="onFavorite(row)"
                  [ngClass]="{
                    'is-favorite-icon': row[column.field],
                    'not-favorite-icon': row[column.field]
                  }"
                ></div>
              </div>

              <!-- NOTE COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'note'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <app-ta-note
                  [note]="row[column.field] ? row[column.field] : ''"
                  [mainData]="row"
                  [entityId]="row.id"
                  [openedAll]="false"
                  [parking]="false"
                >
                </app-ta-note>
              </div>

              <!-- ACTIONS COLUMN -->
              <div
                class="td-content set-center"
                *ngIf="column.ngTemplate === 'actions'"
                [ngStyle]="{
                  width: column.width + 'px',
                  'min-width.px': column?.minWidth ? column.minWidth : 'unset'
                }"
              >
                <div
                  #t2="ngbPopover"
                  (click)="toggleDropdown(t2, row)"
                  [autoClose]="true"
                  [ngbPopover]="dropdownPopover"
                  [placement]="'bottom-right'"
                  class="table-dropdown-container"
                  [ngClass]="{
                    'active-drop': dropDownActive === row.id && t2.isOpen()
                  }"
                  container="body"
                  popoverClass="table-dropdown-popover"
                  triggers="manual"
                ></div>
              </div>
            </td>
          </div>
        </div>

        <!-- Attachment Dropdown -->
        <div
          class="attachemnt-dropdown"
          [ngClass]="{
            'attachemnt-dropdown-active': activeAttachment === row.id
          }"
        >
          <div class="attachemnt-dropdown-content">
            <!-- Border -->
            <div
              class="dropdown-border-container"
              *ngIf="options?.attachmentConfig?.hasViolation"
            >
              <div class="dropdown-border"></div>
            </div>

            <!-- Violation Inspection -->
            <div
              class="violation-inspection-container"
              *ngIf="options?.attachmentConfig?.hasViolation"
            >
              <!-- Title -->
              <div class="inspection-title">
                <div class="violation-title title">VIOLATION</div>
                <div class="description-title title">DESCRIPTION</div>
                <div class="sw-title title">SW</div>
              </div>
              <!-- Items -->
              <div class="violations-items">
                <svg-icon
                  class="violation-icon"
                  [src]="
                    '../../../../../../assets/svg/truckassist-table/driver-violation.svg'
                  "
                  [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                ></svg-icon>

                <div class="violation-code">395.5380</div>

                <svg-icon
                  *ngIf="!showInspectinDescriptionEdit"
                  class="oss-icon"
                  [src]="
                    '../../../../../../assets/svg/truckassist-table/violation-oss-icon.svg'
                  "
                  [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                ></svg-icon>

                <div
                  class="inspection-decription"
                  *ngIf="!showInspectinDescriptionEdit"
                >
                  CMV manufactured after 10/19/94 has an automatic airbrake
                  adjustment system
                </div>

                <div
                  class="edit-description"
                  *ngIf="showInspectinDescriptionEdit"
                >
                  <input
                    id="inspectin-description-input"
                    type="text"
                    (keyup.enter)="onSaveInspectinDescription()"
                    autofocus
                    [(ngModel)]="editInspectinDescriptionText"
                  />
                </div>

                <div class="sw-count">
                  1
                  <div class="oss-count">+2</div>
                </div>

                <svg-icon
                  (click)="
                    showInspectinDescriptionEdit = !showInspectinDescriptionEdit
                  "
                  class="edit-icon"
                  [src]="
                    '../../../../../../assets/svg/truckassist-table/edit-icon.svg'
                  "
                  [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                ></svg-icon>
              </div>
            </div>

            <!-- Border -->
            <div
              class="dropdown-border-container"
              *ngIf="options?.attachmentConfig?.hasCitation"
            >
              <div class="dropdown-border"></div>
            </div>

            <!-- Citation Inspection -->
            <div
              class="citation-inspection-container"
              *ngIf="options?.attachmentConfig?.hasCitation"
            >
              <!-- Title -->
              <div class="inspection-title">
                <div class="citation-title title">CITATION #</div>
                <div class="description-title title">DESCRIPTION</div>
                <div class="due-date-title title">Due Date</div>
                <div class="paid-title title">PAID</div>
                <div class="cost-title title">Cost</div>
                <div class="actions-title title"></div>
              </div>
              <!-- Items -->
              <div class="citation-items">
                <div class="citation-code">OH-5545042</div>

                <div class="citation-description">
                  CMV manufactured after 10/19/94 has an automatic airbrake
                  adjustment system
                </div>

                <div class="due-date">
                  <div
                    class="table-progress-cotnainer"
                    *ngIf="row['tableDropdownProgress']?.expirationDays"
                  >
                    <!-- Progres Bar  -->
                    <div
                      class="table-progress-bar-container"
                      [ngClass]="{
                        'bg-expired-container':
                          !row['tableDropdownProgress'].percentage,
                        'bg-sliver-container':
                          row['tableDropdownProgress'].percentage >= 25 &&
                          row['tableDropdownProgress'].percentage < 100,
                        'bg-orange-container':
                          row['tableDropdownProgress'].percentage >= 5 &&
                          row['tableDropdownProgress'].percentage < 25,
                        'bg-danger-container':
                          row['tableDropdownProgress'].percentage > 0 &&
                          row['tableDropdownProgress'].percentage < 5,
                        'bg-inactive-container':
                          row['tableDropdownProgress'].percentage === 100
                      }"
                    >
                      <div
                        [ngClass]="{
                          'bg-progress-sliver':
                            row['tableDropdownProgress'].percentage >= 25 &&
                            row['tableDropdownProgress'].percentage < 100,
                          'bg-progress-orange':
                            row['tableDropdownProgress'].percentage >= 5 &&
                            row['tableDropdownProgress'].percentage < 25,
                          'bg-progress-danger':
                            row['tableDropdownProgress'].percentage > 0 &&
                            row['tableDropdownProgress'].percentage < 5
                        }"
                        [ngStyle]="{
                          width: row['tableDropdownProgress'].percentage + '%'
                        }"
                        class="table-progress-bar"
                        *ngIf="
                          row['tableDropdownProgress'].percentage > 0 &&
                          row['tableDropdownProgress'].percentage < 100
                        "
                      ></div>
                    </div>

                    <!-- Progres Text -->
                    <div
                      class="table-progress-text"
                      [ngStyle]="{
                        width: 172 - 30 + 'px'
                      }"
                      *ngIf="
                        row['tableDropdownProgress'].percentage > 0 &&
                        row['tableDropdownProgress'].percentage < 100
                      "
                    >
                      in {{ row["tableDropdownProgress"].expirationDays }} days
                    </div>

                    <!-- Progres Text Expired-->
                    <div
                      class="table-progress-text"
                      [ngStyle]="{
                        width: column.width - 30 + 'px'
                      }"
                      *ngIf="!row['tableDropdownProgress'].percentage"
                    >
                      {{ row["tableDropdownProgress"].expirationDays }} days ago
                    </div>
                  </div>
                </div>

                <div class="paid-item">
                  <svg-icon
                    class="paid-icon"
                    [src]="
                      '../../../../../../assets/svg/truckassist-table/applicant-wrong-icon.svg'
                    "
                    [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                  ></svg-icon>
                </div>

                <div class="cost-item">$1,240.00</div>

                <div class="actions">
                  <svg-icon
                    class="attachment-icon"
                    [src]="
                      '../../../../../../assets/svg/truckassist-table/attachment/attachemnt-regular-svgIcon.svg'
                    "
                    [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                  ></svg-icon>

                  <div class="note-container">
                    <app-ta-note
                      [note]="''"
                      [openedAll]="false"
                      [parking]="false"
                    >
                    </app-ta-note>
                  </div>

                  <svg-icon
                    #t2="ngbPopover"
                    (click)="toggleDropdown(t2, row)"
                    [autoClose]="true"
                    [ngbPopover]="dropdownPopover"
                    [placement]="'bottom-right'"
                    container="body"
                    popoverClass="table-dropdown-popover"
                    triggers="manual"
                    [src]="
                      '../../../../../../assets/svg/truckassist-table/dropdown/dropdown.svg'
                    "
                    [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                  ></svg-icon>
                </div>
              </div>
            </div>

            <!-- Border -->
            <div class="dropdown-border-container">
              <div class="dropdown-border"></div>
            </div>

            <!-- Documents -->
            <div class="document-container">
              <!-- Title -->
              <div class="document-title">
                <div class="document-count-title">4 DOCUMENT</div>
                <div class="download-document-btn">
                  <svg-icon
                    class="paid-icon"
                    [src]="
                      '../../../../../../assets/svg/truckassist-table/download-icon.svg'
                    "
                    [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                  ></svg-icon>

                  <div class="title">Download All</div>
                </div>
              </div>

              <!-- Attachments -->
              <div class="attacment-container"></div>
            </div>
          </div>
        </div>

        <!-- Media Dropdown -->
        <div
          class="media-dropdown"
          [ngClass]="{
            'media-dropdown-active': activeMedia === row.id
          }"
        >
          <div class="media-dropdown-content">
            <!-- Border -->
            <div class="dropdown-border-container">
              <div class="dropdown-border"></div>
            </div>

            <!-- Media -->
            <div class="media-wrapper">
              <!-- Title -->
              <div class="media-title">
                <div class="media-count-title">13 Media</div>
                <svg-icon
                  class="paid-icon"
                  [src]="
                    '../../../../../../assets/svg/truckassist-table/download-icon.svg'
                  "
                  [svgStyle]="{ 'width.px': '18', 'height.px': '18' }"
                ></svg-icon>
              </div>

              <!-- Media Content -->
              <div class="media-container"></div>
            </div>
          </div>
        </div>

        <!-- Insurance Dropdown -->
        <div
          class="insurance-dropdown"
          [ngClass]="{
            'insurance-dropdown-active': activeInsurance === row.id
          }"
        >
          <div class="insurance-dropdown-content">
            <!-- Border -->
            <div class="dropdown-border-container">
              <div class="dropdown-border"></div>
            </div>

            <!-- Insurance -->
            <div class="insurance-container">
              <div class="insurance-title">
                <div class="title-item insurance-type">Insurance Type</div>
                <div class="title-item claim">Claim No.</div>
                <div class="title-item insurance-adjuster">INSURANCE ADJUSTER</div>
                <div class="title-item phone">PHONE</div>
                <div class="title-item email">EMAIL</div>
              </div>

              <div class="insurance-item-container">
                <div class="insurance-type">Automobile Liability</div>
                <div class="claim">55784CC7F597</div>
                <div class="insurance-adjuster">Aleksandar Djordjevic</div>
                <div class="phone">(482) 120-8701</div>
                <div class="email">betty-black@apolon_freight.com</div>
              </div>
            </div>
          </div>
        </div>
      </tr>

      <div class="show-more-container" *ngIf="viewData.length">
        <div class="showing">
          {{ viewData.length }} OF {{ activeTableData.length }} SHOWING
        </div>
        <div
          class="show-more"
          (click)="onShowMore()"
          *ngIf="viewData.length < activeTableData.length"
        >
          SHOW MORE
        </div>
      </div>
    </cdk-virtual-scroll-viewport>
  </tbody>
</table>

<!-- DROPDOWN -->
<ng-template #dropdownPopover let-data="data">
  <div class="table-dropdown">
    <div
      (click)="onDropAction(action)"
      *ngFor="let action of data"
      class="table-dropdown-content"
      [class]="action.class"
    >
      <div class="dropdown-content-icon">
        <div [class]="action.contentType"></div>
      </div>
      <div class="dropdown-content-text">{{ action.title }}</div>
    </div>
  </div>
</ng-template>

<!-- DESCRIPTION -->
<ng-template #descriptionPopover let-data="data">
  <div class="description-dropdown-container">
    <div class="description-titles">
      <div class="number-title">#</div>
      <div class="item-title">Item</div>
      <div class="qty-title">Qty</div>
      <div class="price-title">Price</div>
      <div class="price-total-title">$4,866.23</div>
    </div>
    <div class="description-items">
      <div
        class="description-item"
        [ngClass]="{ 'description-item-margin': i !== 0 }"
        *ngFor="let item of data.descriptionItems; let i = index"
      >
        <div class="item-index">{{ i + 1 }}</div>
        <div class="pm-item" *ngIf="item.pmDescription">
          <svg-icon
            [src]="
              '../../../../../../assets/svg/common/repair-pm/' +
              item.pmDescription.logoName
            "
            [svgStyle]="{ 'width.px': '20', 'height.px': '20' }"
          ></svg-icon>
        </div>
        <div
          class="item-title"
          [ngClass]="{ 'pm-style': item.pmDescription }"
          [ngStyle]="{
            'min-width.px': item.pmDescription ? 229 : 253,
            'width.px': item.pmDescription ? 229 : 253
          }"
        >
          {{ item.description }}
        </div>
        <div class="item-cost" [ngClass]="{ 'pm-style': item.pmDescription }">
          {{ item.descriptionPrice }}
        </div>
        <div
          class="number-of-items"
          [ngClass]="{ 'pm-style': item.pmDescription }"
        >
          {{ item.quantity }}
        </div>
        <div
          class="item-total-cost"
          [ngClass]="{ 'pm-style': item.pmDescription }"
        >
          {{ item.descriptionTotalPrice }}
        </div>
      </div>
      <div class="right-background"></div>
    </div>
  </div>
</ng-template>

<!-- STATUS -->
<ng-template #statusPopover let-data="data">
  <div class="status-dropdown">
    <div
      class="status-title"
      [ngClass]="{ 'status-active': i === 1 }"
      *ngFor="let item of [{}, {}, {}, {}]; let i = index"
    >
      Active
    </div>
  </div>
</ng-template>
