<app-ta-input-dropdown
  *ngIf="selectedLabel?.id !== 7655"
  [formControl]="getSuperControl"
  [inputConfig]="dropdownConfig"
  [template]="'labels'"
  [options]="options"
  [canAddNew]="true"
  [isOpenSomethingElse]="true"
  [activeItem]="selectedLabel"
  (selectedItem)="onSelectDropdown($event)"
></app-ta-input-dropdown>

<div *ngIf="selectedLabel?.id === 7655">
  <app-ta-input
    #t2="ngbPopover"
    popoverClass="ta-input-dropdown-label"
    [formControl]="newLabel"
    [inputConfig]="inputConfig"
    [ngbPopover]="taInputDropdownPopover"
    [placement]="['bottom-left']"
    [container]="'body'"
    (commandEvent)="onLabelNameEvent($event)"
  ></app-ta-input>

  <ng-template #taInputDropdownPopover>
    <div
      class="ta-label-options"
      [ngStyle]="{
        width:
          inputConfig?.dropdownWidthClass
            ?.split('-')
            .slice(2)
            .join('-')
            .trim() + 'px'
      }"
      [ngClass]="{ scroll: colors.length > 5 }"
    >
      <div
        class="ta-label-option"
        *ngFor="let color of colors; trackBy: identity"
        (click)="onSelectColorLabel($event, label)"
      >
        <svg-icon
          class="ta-label-option-svg"
          src="assets/svg/common/ic_dynamic_label.svg"
          [svgStyle]="{ fill: color?.code ? color.code : '#b7b7b7' }"
        ></svg-icon>
        <div class="ta-label-vertical-divider"></div>
        <div class="d-flex justify-content-between flex-fill">
          <p class="ta-label-option-name">{{ color.name }}</p>
          <div class="ta-label-option-count">
            {{ color.count }}
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</div>
