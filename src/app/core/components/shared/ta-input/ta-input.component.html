<div
    class="input-custom-group {{ inputConfig.customClass }}"
    [ngClass]="{
        'custom-hover':
            !focusInput &&
            !inputConfig.dropdownLabel &&
            !selectedDropdownLabelColor,
        invalid:
            getSuperControl.value && getSuperControl.invalid && !focusInput,
        'invalid-empty-required':
            inputConfig.isRequired &&
            !getSuperControl.value &&
            getSuperControl.invalid &&
            !focusInput,
        'invalid-empty-focus-required':
            inputConfig.isRequired &&
            !getSuperControl.value &&
            getSuperControl.invalid &&
            focusInput &&
            !selectedDropdownLabelColor &&
            !inputConfig.dropdownLabel,
        valid:
            getSuperControl.value &&
            getSuperControl.valid &&
            !focusInput &&
            !inputConfig.hideClear,
        'valid-dropdown-image-selection':
            !inputConfig.dropdownImageInput?.withText &&
            inputConfig.dropdownImageInput?.url &&
            !focusInput,
        'invalid-empty-dropdown':
            inputConfig.isRequired &&
            !getSuperControl.value &&
            getSuperControl.invalid &&
            inputConfig.isDropdown &&
            (touchedInput || getSuperControl.touched) &&
            !focusInput,
        'invalid-focus-out-filled':
            (getSuperControl.value &&
                getSuperControl.invalid &&
                !focusInput &&
                !inputConfig.isDisabled &&
                !inputConfig.blackInput) ||
            ((touchedInput || getSuperControl.touched) &&
                getSuperControl.invalid &&
                !focusInput),
        'dropdown-label-active': selectedDropdownLabelColor && !editInputMode,
        'remove-input-svg': inputConfig.removeInput,
        datetimepickerdisabled:
            inputConfig.isDisabled &&
            (inputConfig.name === 'datepicker' ||
                inputConfig.name === 'timepicker')
    }"
>
    <!-- Input Clear -->
    <div
        *ngIf="
            (!inputConfig.hideClear &&
                !inputConfig.isDisabled &&
                !inputConfig.customClass?.includes('details-pages') &&
                !inputConfig.commands?.active &&
                !inputConfig?.loadingSpinner?.isLoading) ||
            (inputConfig.commands?.active &&
                inputConfig.commands.type !== 'pm-increment-decrement' &&
                !inputConfig.hideClear) ||
            inputConfig.incorrectInput
        "
        class="input-clear {{ inputConfig.customClass }}"
        [ngClass]="{
            'valid-focus-in':
                getSuperControl.value &&
                getSuperControl.valid &&
                focusInput &&
                !inputConfig.customClass?.includes('repair-shop-open-hour') &&
                !inputConfig.blackInput &&
                !inputConfig?.dropdownImageInput?.url &&
                inputConfig.type !== 'password' &&
                !inputConfig.isInvalidSearchInDropdown,
            'valid-focus-out':
                getSuperControl.value &&
                getSuperControl.valid &&
                !focusInput &&
                !inputConfig.customClass?.includes('repair-shop-open-hour') &&
                !inputConfig.blackInput &&
                !inputConfig?.dropdownImageInput?.url &&
                inputConfig.type !== 'password',
            'invalid-focus-in':
                (getSuperControl.value &&
                    getSuperControl.invalid &&
                    focusInput) ||
                (inputConfig.isInvalidSearchInDropdown &&
                    inputConfig.isDropdown &&
                    focusInput &&
                    getSuperControl.value),
            'invalid-focus-out':
                getSuperControl.value &&
                getSuperControl.invalid &&
                !focusInput &&
                !inputConfig.isDropdown &&
                !inputConfig.blackInput &&
                !(
                    !inputConfig.dropdownImageInput?.withText &&
                    inputConfig.dropdownImageInput?.url
                ),
            'incorrect-input':
                inputConfig.incorrectInput && getSuperControl.value,
            'incorrect-input-on':
                inputConfig.incorrectInput &&
                getSuperControl.value &&
                incorrectValue,
            hidden:
                getSuperControl.value &&
                focusInput &&
                inputConfig.dropdownLabel,
            'dropdown-on':
                (getSuperControl.value &&
                    (inputConfig.isDropdown ||
                        inputConfig.type === 'password') &&
                    !inputConfig.isDisabled &&
                    !inputConfig.multiSelectDropdownActive) ||
                (inputConfig.dropdownImageInput?.url &&
                    !inputConfig.isDisabled &&
                    !inputConfig.multiSelectDropdownActive) ||
                selectedDropdownLabelColor ||
                (inputConfig?.dropdownImageInput?.url && !focusInput),
            'trash-can-svg': inputConfig.removeInput,
            'merged-dropdown': inputConfig.mergedDropdown && focusInput,
            'visible-focus-password':
                getSuperControl.value &&
                inputConfig.type === 'password' &&
                isVisiblePasswordEye,
            'visible-focus-password-invalid':
                getSuperControl.invalid &&
                getSuperControl.value &&
                inputConfig.type === 'password' &&
                isVisiblePasswordEye
        }"
        ngbTooltip
        [mainTooltip]="
            inputConfig.incorrectInput
                ? 'Mark Incorrect'
                : inputConfig.removeInput
                ? 'Remove'
                : 'Clear'
        "
        [tooltipBackground]="inputConfig.incorrectInput ? '#ef5350' : '#2F2F2F'"
        position="top"
        (click)="clearInput($event)"
    >
        <svg-icon
            [src]="
                inputConfig.removeInput
                    ? 'assets/svg/common/ic_remove_input.svg'
                    : 'assets/svg/ic_x.svg'
            "
            class="input-clear-x"
        ></svg-icon>
    </div>

    <!-- Input Pen -->
    <div
        *ngIf="
            selectedDropdownLabelColor &&
            !editInputMode &&
            !focusInput &&
            getSuperControl.value
        "
        class="input-pen-container"
        ngbTooltip
        [mainTooltip]="'Edit'"
        [tooltipBackground]="'#2F2F2F'"
        position="top"
        (click)="onEditInput($event)"
    >
        <svg-icon
            src="assets/svg/ic_spec_input_pen.svg"
            class="input-pen"
        ></svg-icon>
    </div>

    <!-- Input Invalid Danger Mark -->
    <svg-icon
        *ngIf="
            ((touchedInput || getSuperControl.touched) &&
                getSuperControl.value &&
                getSuperControl.invalid &&
                !focusInput &&
                !inputConfig.incorrectInput &&
                !inputConfig.blackInput &&
                !inputConfig.isDropdown &&
                !inputConfig.dropdownLabel &&
                !inputConfig.hideDangerMark) ||
            inputConfig.dangerMark
        "
        class="input-invalid-danger-mark  {{ inputConfig.customClass }}"
        src="assets/svg/common/ic_danger.svg"
    >
    </svg-icon>

    <!-- Input Valid Check -->
    <svg-icon
        class="input-required-check {{ inputConfig.customClass }}"
        *ngIf="
            getSuperControl.value &&
            getSuperControl.valid &&
            !focusInput &&
            !inputConfig.isDisabled &&
            !inputConfig.placeholderIcon &&
            !inputConfig.isDropdown &&
            !inputConfig.blackInput &&
            !inputConfig.hideRequiredCheck &&
            !inputConfig.incorrectInput &&
            !inputConfig?.loadingSpinner?.isLoading &&
            !inputConfig.dropdownLabel
        "
        src="assets/svg/common/ic_confirm.svg"
    ></svg-icon>

    <!-- Input Loading spinner -->
    <div
        *ngIf="inputConfig?.loadingSpinner?.isLoading"
        class="input-loading-spinner"
    >
        <app-ta-spinner
            [size]="inputConfig.loadingSpinner?.size"
            [color]="inputConfig.loadingSpinner?.color"
        ></app-ta-spinner>
    </div>

    <!-- Input Password Caps Lock -->
    <p
        *ngIf="capsLockOn && inputConfig.type === 'password'"
        class="password-capslock"
    >
        Caps Lock is ON
    </p>

    <!-- Input Password Eye -->
    <div
        *ngIf="
            inputConfig.type === 'password' &&
            getSuperControl.value &&
            !inputConfig?.loadingSpinner?.isLoading &&
            !inputConfig.incorrectInput
        "
        class="input-password-eye {{ inputConfig.customClass }}"
        [ngClass]="{
            visible: isVisiblePasswordEye,
            'valid-focus-out':
                getSuperControl.value &&
                getSuperControl.valid &&
                !isVisiblePasswordEye,
            invalid:
                getSuperControl.value &&
                getSuperControl.invalid &&
                isVisiblePasswordEye
        }"
        ngbTooltip
        mainTooltip="{{ !togglePassword ? 'Show Password' : 'Hide Password' }}"
        tooltipBackground="#6c6c6c"
        position="top"
        (click)="onTogglePassword($event)"
    >
        <svg-icon
            src="{{
                !togglePassword
                    ? 'assets/svg/common/ic_eye-visible.svg'
                    : 'assets/svg/common/ic_eye-hidden.svg'
            }}"
        ></svg-icon>
    </div>

    <!-- Input Dropdown Arrow -->
    <svg-icon
        class="input-dropdown-arrow {{ inputConfig.customClass }}"
        *ngIf="
            (!inputConfig.hideDropdownArrow &&
                (inputConfig.isDropdown || inputConfig.dropdownLabel) &&
                !inputConfig.multiSelectDropdownActive &&
                !inputConfig.isDisabled) ||
            ((inputConfig.name === 'datepicker' ||
                inputConfig.name === 'timepicker') &&
                !inputConfig.incorrectInput &&
                !inputConfig.isDisabled)
        "
        [ngClass]="{
            focus: focusInput,
            'valid-focus-in':
                (!inputConfig.dropdownLabel &&
                    getSuperControl.value &&
                    getSuperControl.valid &&
                    focusInput) ||
                ((inputConfig.dropdownImageInput?.url ||
                    inputConfig.dropdownImageInput?.nameInitialsInsteadUrl) &&
                    focusInput &&
                    !inputConfig.isInvalidSearchInDropdown),
            'valid-focus-out':
                (getSuperControl.value &&
                    getSuperControl.valid &&
                    !focusInput) ||
                (!inputConfig.dropdownImageInput?.withText &&
                    inputConfig.dropdownImageInput?.url &&
                    !focusInput),
            'invalid-focus-in':
                (getSuperControl.value &&
                    getSuperControl.invalid &&
                    focusInput) ||
                (inputConfig.isInvalidSearchInDropdown &&
                    inputConfig.isDropdown),
            'invalid-search-in-dropdown-focus-in':
                inputConfig.isInvalidSearchInDropdown &&
                getSuperControl.value &&
                getSuperControl.invalid,
            'invalid-focus-out':
                !getSuperControl.value &&
                getSuperControl.invalid &&
                (touchedInput || getSuperControl.touched) &&
                !focusInput
        }"
        src="assets/svg/common/ic_arrow_input.svg"
        (click)="toggleDropdownOptions()"
    ></svg-icon>

    <!-- Input Commands -->
    <div
        *ngIf="inputConfig.commands?.active && isVisibleCommands"
        class="ta-input-commands"
    >
        <div
            class="ta-input-command-first"
            ngbTooltip
            [mainTooltip]="inputConfig.commands?.firstCommand?.popup?.name"
            [tooltipBackground]="
                inputConfig.commands?.firstCommand?.popup?.backgroundColor
            "
            [disableTooltip]="!inputConfig.commands?.firstCommand?.popup"
            position="top"
        >
            <svg-icon
                class="ta-input-command-svg-first"
                [ngClass]="{
                    'invalid-focus-in':
                        getSuperControl.value &&
                        getSuperControl.invalid &&
                        focusInput &&
                        !inputConfig.blackInput
                }"
                [src]="inputConfig.commands.firstCommand.svg"
                (click)="
                    onCommands(
                        $event,
                        inputConfig.commands.type,
                        inputConfig.commands.firstCommand.name
                    )
                "
            ></svg-icon>
        </div>
        <div
            class="ta-input-command-second"
            ngbTooltip
            [mainTooltip]="inputConfig.commands?.secondCommand?.popup?.name"
            [tooltipBackground]="
                inputConfig.commands?.secondCommand?.popup?.backgroundColor
            "
            [disableTooltip]="!inputConfig.commands?.secondCommand?.popup"
            position="top"
        >
            <svg-icon
                class="ta-input-command-svg-second"
                [ngClass]="{
                    'invalid-focus-in':
                        getSuperControl.value &&
                        getSuperControl.invalid &&
                        focusInput &&
                        !inputConfig.blackInput
                }"
                [src]="inputConfig.commands.secondCommand.svg"
                (click)="
                    onCommands(
                        $event,
                        inputConfig.commands.type,
                        inputConfig.commands.secondCommand.name
                    )
                "
            ></svg-icon>
        </div>
    </div>

    <!-- Input Icon Placeholder -->
    <div
        *ngIf="inputConfig.placeholderIcon"
        #t2="ngbPopover"
        [ngbPopover]="dateTimePopover"
        [disablePopover]="
            (inputConfig.name !== 'datepicker' &&
                inputConfig.name !== 'timepicker') ||
            inputConfig.isDisabled
        "
        [placement]="['left', 'left-top']"
        [popoverClass]="'datetimepopovermain'"
        autoClose="outside"
        [container]="'body'"
        class="input-icon {{ inputConfig.customClass }}"
        [ngClass]="{
            'inactive-empty': !getSuperControl.value && inputConfig.isDisabled,
            'inactive-filled': getSuperControl.value && inputConfig.isDisabled,
            'default-svg-color':
                !selectedDropdownLabelColor && !inputConfig.dropdownLabel,
            focus: focusInput,
            'valid-focus-in':
                getSuperControl.value &&
                getSuperControl.valid &&
                focusInput &&
                !selectedDropdownLabelColor &&
                !inputConfig.dropdownLabel &&
                !inputConfig.blackInput &&
                !inputConfig.commands?.active,
            'valid-focus-out':
                getSuperControl.value && getSuperControl.valid && !focusInput,
            'invalid-focus-in':
                getSuperControl.value &&
                getSuperControl.invalid &&
                focusInput &&
                !inputConfig.blackInput,
            'invalid-focus-out':
                getSuperControl.invalid &&
                !focusInput &&
                (touchedInput || getSuperControl.touched),
            'password-eye':
                inputConfig.type === 'password' &&
                isVisiblePasswordEye &&
                getSuperControl.value &&
                !getSuperControl.invalid,
            'password-eye-invalid':
                inputConfig.type === 'password' &&
                isVisiblePasswordEye &&
                getSuperControl.invalid &&
                getSuperControl.value,
            'cursor-pointer': editInputMode
        }"
        ngbTooltip
        [mainTooltip]="'Change Color'"
        [tooltipBackground]="'#424242'"
        [disableTooltip]="!editInputMode"
        position="bottom"
        (shown)="onPopoverShown()"
        (hidden)="onPopoverHidden()"
        (click)="onPlaceholderIconEvent($event)"
    >
        <svg-icon
            appHoverSvg
            [fill]="
                inputConfig.dropdownLabel || selectedDropdownLabelColor
                    ? selectedDropdownLabelColor?.code
                        ? selectedDropdownLabelColor.code.toString()
                        : '#b7b7b7'
                    : null
            "
            [fillHover]="
                (inputConfig.dropdownLabel || selectedDropdownLabelColor) &&
                editInputMode
                    ? selectedDropdownLabelColor?.hoverCode
                        ? selectedDropdownLabelColor.hoverCode
                        : null
                    : null
            "
            [src]="
                inputConfig.placeholderIcon?.toLowerCase() | taSvg : 'common'
            "
        ></svg-icon>
    </div>

    <!-- Input Placeholder Text -->
    <svg-icon
        *ngIf="inputConfig.placeholderText && getSuperControl.value"
        class="placeholder-text {{ inputConfig.customClass }}"
        [ngClass]="{
            focus: focusInput,
            'inactive-filled': getSuperControl.value && inputConfig.isDisabled,
            'valid-focus-in':
                getSuperControl.value &&
                getSuperControl.valid &&
                focusInput &&
                !inputConfig.blackInput &&
                !inputConfig.commands,
            'valid-focus-out':
                getSuperControl.value && getSuperControl.valid && !focusInput,
            'invalid-focus-in':
                getSuperControl.value &&
                getSuperControl.invalid &&
                focusInput &&
                !inputConfig.blackInput,
            'invalid-focus-out':
                getSuperControl.value &&
                getSuperControl.invalid &&
                (touchedInput || getSuperControl.touched) &&
                !focusInput
        }"
        [style.left]="
            focusInput &&
            inputConfig.placeholderText?.toLowerCase() !== 'months'
                ? 'auto'
                : (getSuperControl.value?.toString()?.length + 1) * 8 + 'px'
        "
        [style.right]="
            focusInput &&
            inputConfig.placeholderText?.toLowerCase() !== 'months'
                ? '28px'
                : 'auto'
        "
        [src]="inputConfig.placeholderText?.toLowerCase() | taSvg : 'common'"
    >
    </svg-icon>

    <!-- Input Label Counter -->
    <p
        *ngIf="
            selectedDropdownLabelColor && getSuperControl.value && !focusInput
        "
        [style.top]="'4px'"
        [style.left]="50 + getSuperControl?.value.toString().length * 8 + 'px'"
        class="input-label-counter"
    >
        {{ selectedDropdownLabelColor.count }}
    </p>

    <!-- Special Dropdown Selected SVG with or Without Text -->
    <svg-icon
        *ngIf="
            inputConfig?.dropdownImageInput?.svg &&
            !(!inputConfig.dropdownImageInput?.withText && focusInput) &&
            !(
                ['truck', 'trailer'].includes(
                    inputConfig.dropdownImageInput?.template
                ) &&
                focusInput &&
                inputConfig.dropdownImageInput?.remove
            ) &&
            !inputConfig?.dropdownImageInput?.nameInitialsInsteadUrl
        "
        [src]="inputConfig.dropdownImageInput?.url"
        class="dropdown-selected-image {{
            inputConfig.dropdownImageInput?.class
        }}"
        [ngClass]="{
            'unset-color': focusInput && inputConfig.dropdownImageInput?.class
        }"
        [svgStyle]="{
            fill:
                inputConfig.dropdownImageInput?.color && !focusInput
                    ? inputConfig.dropdownImageInput?.color
                    : '#ffffff'
        }"
    >
    </svg-icon>

    <!-- Special Dropdown Selected Image With Text With Initials name -->
    <img
        *ngIf="
            inputConfig?.dropdownImageInput?.image &&
            inputConfig?.dropdownImageInput?.url &&
            !inputConfig?.dropdownImageInput?.nameInitialsInsteadUrl
        "
        class="dropdown-selected-image name-initials-instead-url"
        [src]="
            imageBase64Service.sanitizer(inputConfig?.dropdownImageInput?.url)
        "
        [alt]="'Input Image'"
    />
    <div
        *ngIf="
            inputConfig?.dropdownImageInput?.nameInitialsInsteadUrl &&
            !(!inputConfig.dropdownImageInput?.withText && focusInput)
        "
        class="no-profile-image dropdown-selected-image name-initials-instead-url"
    >
        <app-profile-images
            [indx]="0"
            [size]="'small'"
            [type]="'user'"
            [name]="inputConfig?.dropdownImageInput?.nameInitialsInsteadUrl"
        >
        </app-profile-images>
    </div>

    <!-- DateTime Picker -->
    <div
        #holder1
        class="date_time_holder input-control"
        *ngIf="
            (inputConfig.name === 'datepicker' ||
                inputConfig.name === 'timepicker') &&
            !inputConfig.isDisabled
        "
        [class.active]="showDateInput"
        tabindex="-1"
        (mousedown)="selectLastOneForSelection()"
        (mouseup)="selectLastOneAfterMoseUp()"
        (paste)="onDatePaste($event)"
        (blur)="onBlur()"
        (keydown)="changeSelection($event, true)"
        [ngClass]="{
            focus: focusInput,
            'valid-focus-out-filled-datepicker':
                getSuperControl.value &&
                getSuperControl.valid &&
                !focusInput &&
                !inputConfig.isDisabled &&
                !isVisiblePasswordEye &&
                !isVisibleCommands &&
                !inputConfig.blackInput,
            'invalid-focus-in':
                inputConfig.isRequired &&
                getSuperControl.value &&
                getSuperControl.invalid &&
                focusInput,
            'invalid-focus-out-filled':
                (getSuperControl.value &&
                    getSuperControl.invalid &&
                    !focusInput &&
                    !inputConfig.isDisabled &&
                    !inputConfig.blackInput) ||
                ((touchedInput || getSuperControl.touched) &&
                    getSuperControl.invalid &&
                    !focusInput),
            'valid-focus-in-datepicker':
                getSuperControl.value && getSuperControl.valid && focusInput
        }"
    >
        <span
            #span1
            class="main"
            tabindex="0"
            (focus)="onFocus($event)"
            (mouseup)="setSelection($event)"
            (keydown)="changeSelection($event)"
            (blur)="onBlur()"
            [innerHTML]="inputConfig.name === 'datepicker' ? 'mm' : 'HH'"
        ></span>
        <span>
            <div
                class="border-picker"
                [innerHTML]="inputConfig.name === 'datepicker' ? '/' : ':'"
            ></div>
        </span>
        <span
            #span2
            class="main"
            tabindex="1"
            (focus)="onFocus($event)"
            (mouseup)="setSelection($event)"
            (keydown)="changeSelection($event)"
            (blur)="onBlur()"
            [innerHTML]="inputConfig.name === 'datepicker' ? 'dd' : 'MM'"
        ></span>
        <span>
            <div
                class="border-picker"
                [innerHTML]="inputConfig.name === 'datepicker' ? '/' : ' '"
            ></div>
        </span>
        <span
            #span3
            class="main"
            tabindex="2"
            (focus)="onFocus($event)"
            (mouseup)="setSelection($event)"
            (keydown)="changeSelection($event)"
            (blur)="onBlur()"
            [innerHTML]="inputConfig.name === 'datepicker' ? 'yy' : 'AM'"
        ></span>
    </div>

    <!-- Input Control -->

    <!-- Multiple Input Values -->
    <div
        *ngIf="inputConfig?.multipleInputValues?.options?.length && !focusInput"
        class="input-control {{
            inputConfig?.multipleInputValues?.customClass
        }}"
        (click)="toggleDropdownOptions()"
    >
        <span
            style="display: flex; gap: 6px; align-items: center"
            *ngFor="
                let item of inputConfig.multipleInputValues.options;
                let indx = index;
                trackBy: trackIdentity
            "
        >
            <!-- Image / SVG -->
            <span *ngIf="item?.logoName && item?.isImg">
                <img
                    *ngIf="item?.logoName !== 'no-url'"
                    [ngStyle]="{
                        width: '18px',
                        'aspect-ratio': 1,
                        'border-radis': '2px'
                    }"
                    [src]="imageBase64Service.sanitizer(item.logoName)"
                    [alt]="item.value"
                />
                <div
                    *ngIf="item.logoName === 'no-url'"
                    class="no-profile-image"
                >
                    <app-profile-images
                        [indx]="0"
                        [size]="'small'"
                        [name]="item.value"
                    >
                    </app-profile-images>
                </div>
            </span>

            <svg-icon
                *ngIf="item?.logoName && item?.isSvg"
                class="{{ item?.subFolder }}"
                [ngClass]="{
                    'dispatch-semi-truck': item.id === 1,
                    'dispatch-semi-sleeper': item.id === 2,
                    'dispatch-box-truck': item.id === 3,
                    'dispatch-cargo-van': item.id === 4,
                    'dispatch-tow-truck': item.id === 5,
                    'dispatch-car-hauler': item.id === 6,
                    'dispatch-spotter': item.id === 7
                }"
                [src]="item?.logoName"
            ></svg-icon>

            <!-- Text -->
            <span
                *ngIf="!item?.isProgressBar"
                class="multiple-input-text"
                [ngStyle]="{
                    color: '#2F2F2F'
                }"
                [ngClass]="{
                    counter: item?.isCounter,
                    'counter-one': item?.value === 1
                }"
            >
                {{ item.value }}
                <span
                    *ngIf="item?.second_value"
                    [ngStyle]="{ color: '#919191' }"
                    >{{ item.second_value }}</span
                >
            </span>

            <!-- Owner Flag -->
            <div
                *ngIf="item?.isOwner"
                [ngStyle]="{ position: 'relative', bottom: '1px' }"
            >
                <svg-icon
                    src="assets/svg/common/load/ic_load_driver_owner.svg"
                ></svg-icon>
            </div>

            <!-- Load Broker ProgressBar -->
            <app-load-modal-progress-bar
                *ngIf="item?.isProgressBar"
                [totalAmount]="item.second_value"
                [availableCredit]="item.value ? item.value : 0"
            ></app-load-modal-progress-bar>
        </span>
    </div>

    <!-- Multiple Input Placeholder -->
    <div
        *ngIf="
            inputConfig?.multipleInputValues?.options?.length &&
            focusInput &&
            !getSuperControl.value
        "
        class="input-control multiple-input-placeholder {{
            inputConfig?.multipleInputValues?.customClass
        }}"
        [ngClass]="{ focus: focusInput }"
    >
        <span
            style="display: flex; gap: 6px; align-items: center"
            *ngFor="
                let item of inputConfig.multipleInputValues.options;
                let indx = index;
                trackBy: trackIdentity
            "
        >
            <!-- Image / SVG -->
            <span
                *ngIf="item?.logoName && item?.isImg"
                [ngClass]="{ 'focusable-image': focusInput }"
            >
                <img
                    *ngIf="item?.logoName !== 'no-url'"
                    [ngStyle]="{
                        width: '18px',
                        'aspect-ratio': 1,
                        'border-radis': '2px'
                    }"
                    [src]="imageBase64Service.sanitizer(item.logoName)"
                    [alt]="item.value"
                />
                <div
                    *ngIf="item.logoName === 'no-url'"
                    class="no-profile-image"
                >
                    <app-profile-images
                        [indx]="0"
                        [size]="'small'"
                        [name]="item.value"
                    >
                    </app-profile-images>
                </div>
            </span>

            <svg-icon
                *ngIf="item?.logoName && item?.isSvg"
                [ngClass]="{ 'focusable-svg': focusInput }"
                class="{{ item?.subFolder }} {{
                    item?.logoType.trim().replace(' ', '').toLowerCase()
                }}"
                [src]="item?.logoName"
            ></svg-icon>

            <!-- Text -->
            <span
                *ngIf="!item?.isProgressBar"
                class="multiple-input-text"
                [ngClass]="{
                    'focusable-text': focusInput,
                    counter: item?.isCounter,
                    'counter-focus': item?.isCounter && focusInput,
                    'counter-one': item?.value === 1
                }"
                [ngStyle]="{
                    color: '#6F9EE0'
                }"
            >
                {{ item.value }}
                <span *ngIf="item?.second_value">{{ item.second_value }}</span>
            </span>

            <!-- Load Broker ProgressBar -->
            <app-load-modal-progress-bar
                *ngIf="item?.isProgressBar"
                [totalAmount]="item.second_value"
                [availableCredit]="item.value ? item.value : 0"
                [inputFocus]="focusInput"
            ></app-load-modal-progress-bar>
        </span>
    </div>

    <!--  || getSuperControl.errors) -->
    <!-- Single Input Value -->
    <input
        #input
        [type]="inputConfig.type | inputType : togglePassword"
        [id]="inputConfig.id ? inputConfig.id : inputConfig.name"
        [name]="inputConfig.name"
        [disabled]="inputConfig.isDisabled"
        [autocomplete]="
            inputConfig.autocomplete ? inputConfig.autocomplete : 'off'
        "
        [pattern]="inputConfig.pattern"
        [placeholder]="
            (inputConfig.placeholderInsteadOfLabel &&
            inputConfig.placeholder &&
            focusInput
                ? inputConfig.placeholder
                : '') ||
            (inputConfig.placeholder && focusInput
                ? inputConfig.placeholder
                : '')
        "
        [minLength]="inputConfig.minLength ? inputConfig.minLength : 0"
        [maxLength]="inputConfig.maxLength ? inputConfig.maxLength : 999"
        [mask]="inputConfig.mask"
        [min]="inputConfig.min ? inputConfig.min : 0"
        [max]="inputConfig.max"
        [step]="inputConfig.step ? inputConfig.step : null"
        [readOnly]="inputConfig.readOnly"
        inputformat="dd-mm-yy"
        class="input-control
    {{ inputConfig.textTransform }}
    {{ inputConfig.textAlign }}
    {{ inputConfig.customClass }}
    "
        [ngClass]="{
            focus: focusInput,
            'inactive-empty': !getSuperControl.value && inputConfig.isDisabled,
            'inactive-filled': getSuperControl.value && inputConfig.isDisabled,
            'valid-focus-in':
                (getSuperControl.value &&
                    getSuperControl.valid &&
                    focusInput &&
                    !isVisiblePasswordEye &&
                    !isVisibleCommands &&
                    !inputConfig?.dropdownImageInput?.url &&
                    !inputConfig.blackInput) ||
                (inputConfig.multipleInputValues?.options.length &&
                    focusInput &&
                    !inputConfig.isInvalidSearchInDropdown),
            'valid-focus-out-filled':
                (((getSuperControl.value &&
                    getSuperControl.valid &&
                    !focusInput &&
                    !inputConfig.isDisabled &&
                    !isVisiblePasswordEye &&
                    !isVisibleCommands &&
                    !inputConfig.blackInput) ||
                    (!focusInput && inputConfig.dropdownImageInput?.url)) &&
                    !inputConfig.blackInput) ||
                (inputConfig.dropdownLabel &&
                    getSuperControl.value &&
                    getSuperControl.valid &&
                    !focusInput &&
                    !inputConfig.isDisabled) ||
                (inputConfig.multipleInputValues?.options.length &&
                    !focusInput),
            'invalid-focus-in':
                getSuperControl.invalid &&
                getSuperControl.value &&
                focusInput &&
                !inputConfig.blackInput &&
                !(
                    inputConfig.dropdownImageInput?.url ||
                    inputConfig.dropdownImageInput?.nameInitialsInsteadUrl
                ),
            'invalid-focus-out-filled':
                ((getSuperControl.value &&
                    getSuperControl.invalid &&
                    !focusInput &&
                    !inputConfig.isDisabled &&
                    !isVisiblePasswordEye &&
                    !inputConfig.blackInput) ||
                    (!inputConfig.dropdownImageInput?.url &&
                        (touchedInput || getSuperControl.touched) &&
                        getSuperControl.invalid &&
                        !focusInput)) &&
                !inputConfig.blackInput,
            'invalid-focus-out-empty':
                !focusInput &&
                !getSuperControl.value &&
                getSuperControl.invalid &&
                (touchedInput || getSuperControl.touched) &&
                inputConfig.multipleLabel?.labels.length &&
                !inputConfig.multipleInputValues?.options.length,
            'invalid-search-in-dropdown-focus-in':
                inputConfig.isInvalidSearchInDropdown &&
                getSuperControl.value &&
                getSuperControl.invalid,
            'password-eye':
                inputConfig.type === 'password' &&
                isVisiblePasswordEye &&
                !getSuperControl.invalid,
            'password-eye-invalid':
                inputConfig.type === 'password' &&
                isVisiblePasswordEye &&
                getSuperControl.invalid &&
                getSuperControl.value,
            'has-input-icon': inputConfig.placeholderIcon,
            'dropdown-placeholder-active':
                inputConfig.isDropdown &&
                inputConfig.placeholder &&
                dropdownToggler &&
                focusInput &&
                !inputConfig.blackInput,
            'multiSelect-dropdown-active':
                inputConfig.multiSelectDropdownActive && focusInput,
            'input-blue-content':
                inputConfig.textBlueColor &&
                !focusInput &&
                getSuperControl.value,
            'dropdown-label-active':
                inputConfig.dropdownLabel &&
                isVisibleCommands &&
                this.editInputMode,
            'input-commands': inputConfig.commands?.active && isVisibleCommands,
            'dropdown-input-image-truck':
                inputConfig?.dropdownImageInput?.withText &&
                inputConfig?.dropdownImageInput?.url &&
                inputConfig?.dropdownImageInput?.template === 'truck' &&
                !inputConfig?.dropdownImageInput?.remove &&
                !focusInput,
            'dropdown-input-image-truck-focus':
                inputConfig?.dropdownImageInput?.withText &&
                inputConfig?.dropdownImageInput?.url &&
                inputConfig?.dropdownImageInput?.template === 'truck' &&
                !inputConfig?.dropdownImageInput?.remove &&
                focusInput,
            'dropdown-input-image-trailer':
                inputConfig?.dropdownImageInput?.withText &&
                inputConfig?.dropdownImageInput?.url &&
                inputConfig?.dropdownImageInput?.template === 'trailer' &&
                !inputConfig?.dropdownImageInput?.remove &&
                !focusInput,
            'dropdown-input-image-trailer-focus':
                inputConfig?.dropdownImageInput?.withText &&
                inputConfig?.dropdownImageInput?.url &&
                inputConfig?.dropdownImageInput?.template === 'trailer' &&
                !inputConfig?.dropdownImageInput?.remove &&
                focusInput,
            'dropdown-input-image-color':
                inputConfig?.dropdownImageInput?.withText &&
                (inputConfig?.dropdownImageInput?.url ||
                    inputConfig?.dropdownImageInput?.nameInitialsInsteadUrl) &&
                inputConfig?.dropdownImageInput?.template === 'color',
            'dropdown-input-image-user':
                inputConfig?.dropdownImageInput?.withText &&
                inputConfig?.dropdownImageInput?.template === 'user' &&
                (inputConfig.selectedDropdown ||
                    (inputConfig.placeholder && focusInput) ||
                    getSuperControl.value),
            'dropdown-input-image-without-text-transparent':
                inputConfig?.dropdownImageInput &&
                !inputConfig?.dropdownImageInput?.withText &&
                !focusInput,
            'multiple-input-values':
                inputConfig?.multipleInputValues?.options?.length &&
                !focusInput,
            'disable-select-on-focus-out': !focusInput,
            'hide-placeholder-in-multiple-placeholder-input':
                inputConfig?.multipleInputValues?.options?.length && focusInput,
            connectedDropdown: inputConfig?.connectDropdown,
            'cursor-on-right-side': inputConfig?.inputCursorOnRightSide,
            'merged-dropdown': inputConfig.mergedDropdown
        }"
        (keypress)="onKeypress($event)"
        (keydown)="onKeydown($event)"
        (keyup)="onKeyup($event)"
        (blur)="onBlur($event)"
        (focus)="onFocus($event)"
        (select)="selectionChange($event)"
        (paste)="onPaste($event)"
        (input)="
            onChange($event.target.value);
            transformText($event.target.value, false)
        "
        [(ngModel)]="input.value"
    />

    <!-- Input Label -->
    <label
        *ngIf="!inputConfig.multiSelectDropdownActive"
        [for]="inputConfig.name"
        class="input-label {{ inputConfig.customClass }} {{
            inputConfig.multipleLabel?.customClass
        }}"
        [ngClass]="{
            required: inputConfig.isRequired && !inputConfig.isDisabled,
            'inactive-empty': !getSuperControl.value && inputConfig.isDisabled,
            'up-label':
                getSuperControl.value ||
                focusInput ||
                showDateInput ||
                (!inputConfig.dropdownImageInput?.withText &&
                    inputConfig.dropdownImageInput?.url),
            'input-placeholderIcon-on': inputConfig.placeholderIcon,
            hidden:
                inputConfig.placeholderInsteadOfLabel &&
                (focusInput || getSuperControl.value),
            'multiple-labels':
                inputConfig?.multipleInputValues?.options?.length,
            'in-label-focus': focusInput && inputConfig.labelInInput,
            'in-label': inputConfig.labelInInput
        }"
    >
        <span *ngIf="inputConfig.label">{{ inputConfig.label }}</span>
        <div
            *ngIf="inputConfig.multipleLabel?.labels?.length"
            [class]="inputConfig.multipleLabel?.customClass"
            [ngClass]="{
                'focus-multiple-labels':
                    focusInput ||
                    inputConfig?.multipleInputValues?.options?.length,
                required: inputConfig.isRequired && !inputConfig.isDisabled
            }"
        >
            <span
                *ngFor="
                    let label of inputConfig.multipleLabel.labels;
                    trackBy: trackIdentity
                "
            >
                {{ label }}
            </span>
        </div>
    </label>

    <!-- Placeholder Icon on Right Side -->
    <svg-icon
        *ngIf="inputConfig.placeholderIconRightSide"
        class="placeholder-icon-right-side {{
            inputConfig.placeholderIconColor
        }}"
        [ngClass]="{
            hide: focusInput && getSuperControl.value,
            focus: focusInput,
            'valid-focus-out':
                getSuperControl.value && getSuperControl.valid && !focusInput,
            'valid-focus-in':
                getSuperControl.value && getSuperControl.valid && focusInput,
            'invalid-focus-out':
                getSuperControl.invalid &&
                (touchedInput || getSuperControl.touched) &&
                !focusInput,
            'invalid-focus-in':
                getSuperControl.invalid &&
                (touchedInput || getSuperControl.touched) &&
                focusInput
        }"
        [src]="
            inputConfig.placeholderIconRightSide?.toLowerCase()
                | taSvg : 'common'
        "
    ></svg-icon>

    <!-- Input Error Message -->
    <span
        *ngIf="
            !inputConfig.hideErrorMessage &&
            !(!getSuperControl.value && focusInput) &&
            (touchedInput ||
                getSuperControl.touched ||
                getSuperControl.value) &&
            getSuperControl.invalid &&
            !inputConfig.isInvalidSearchInDropdown
        "
        class="input-error {{ inputConfig.customClass }}"
    >
        {{ getSuperControl.errors | inputError : inputConfig.name }}
    </span>
</div>

<!-- Popover for DateTime Pickers -->
<ng-template #dateTimePopover let-data="data">
    <div class="datetime-dropdown-holder">
        <app-custom-datetime-pickers
            [calendarType]="inputConfig.name === 'datepicker' ? 'date' : 'time'"
            [inputConfig]="inputConfig"
            [placeholder]="'MM/DD/YY'"
            [dateTime]="dateTimeInputDate"
            (closePopover)="closePopover()"
        ></app-custom-datetime-pickers>
    </div>
</ng-template>
