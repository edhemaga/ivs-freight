<div
  #t2="ngbPopover"
  (click)="toggleDropdown(t2)"
  [autoClose]="'outside'"
  [ngbPopover]="dropdownPopover"
  [placement]="placement"
  class="details-dropdown-container"
  [ngClass]="{ 'active-drop': dropDownActive === id }"
  popoverClass="details-dropdown-popover {{customClassDropDown}}"
  triggers="manual"
  [container]="'body'"
  (hidden)="dropDownActive = -1"
  container="body"
>
  <svg-icon
    class="dropdown-dots"
    src="{{ hasVericalDots? 'assets/svg/common/horizontal-dropdown-dots.svg' : 'assets/svg/common/vertical-dropdown-actions.svg'}}"
  ></svg-icon>
</div>

<ng-template #dropdownPopover let-data="data">
  <div class="dropdown-main-popover-body"  
    [class.horizontalMargin]="placement.indexOf('-right') > -1"
    [class.verticalMargin]="placement.indexOf('-right') == -1"
  >  
    <div class="details-dropdown-body">
      <div *ngFor="let action of options;let i=index; trackBy:identity">
        <div class="action-holder" [class.leftIcon]="leftIcon" [class.disabledAction]="action.disabled" *ngIf="action.title != 'border' && action.title != 'Add New' && action.title != 'Request' && action.title != 'Report' && !action.hide" (click)="onAction(action,$event)">
          <div class="action-select-holder">  
            <div class="actionTitle">{{action.title}}</div>
            <div class="actionIcon" [class.redIcon]="action.redIcon" [class.blueIcon]="action.blueIcon" [class.greenIcon]="action.greenIcon">
              <svg-icon src="{{action.svg}}" ></svg-icon>
            </div>
          </div>
        </div>
        <div class="action-holder subTypeHolder" [class.leftIcon]="leftIcon" [class.hoveredSubtype]="subtypeHovered == i && action.openSubtype" [class.disabledAction]="action.disabled" [class.openedSubtype]="action.openSubtype" *ngIf="action.title == 'Add New' || action.title == 'Request' || action.title == 'Report' " >
          <div class="action-select-holder" (click)="openSubtype(i)" (mouseleave)="subtypeHovered = false" (mouseover)="subtypeHovered = i">  
            <div class="actionTitle">{{action.title}}</div>
            <div class="actionIcon arrowIcon">
              <svg-icon src="{{action.svg}}" ></svg-icon>
            </div>
          </div>
          <div class="subtype-holder" 
            [@SubtypeAnimation]="action.openSubtype ? true : false"
            >
            <div class="subtypeTitle" *ngFor="let sub of action.subType" (click)="subTypeAction(action,sub,$event)">
              {{sub.subName}}
            </div>
          </div>
        </div>
        <div class="border-holder" *ngIf="action.title == 'border'">
          <div class="action-border-line"></div>
        </div>
      </div>
      <!--
      <div
        (click)="onAction(action,$event)"
        *ngFor="let action of options;let i=index; trackBy:identity"
        class="details-dropdown-content "
        [ngClass]="{'hide':!action.show}"
      >
        <div  class="svg-text-dropdown" [ngClass]="{'danger':action.danger}">
          <svg-icon
            [ngClass]="{'activate-header':action.activate,'deactivate-header':action.deactivate}"
            class="action-svg"
            src="{{action.svg}}"
          ></svg-icon>
          <div  class="dropdown-content-text-details">{{ action.title }}</div>
        </div>
      </div>
      -->
    </div>
  </div>  
</ng-template>
