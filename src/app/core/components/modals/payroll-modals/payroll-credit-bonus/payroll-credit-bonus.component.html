<app-ta-modal
    [modalTitle]="editData?.type !== 'edit' ? 'Add Credit' : 'Edit Credit'"
    [editData]="editData"
    [isModalValid]="payrollCreditForm.valid && isFormDirty"
    [saveAndAddNew]="editData?.type !== 'edit'"
    (action)="onModalAction($event)"
>
    <div origin>
        <app-ta-tab-switch
            [tabs]="tabs"
            (switchClicked)="tabChange($event)"
            [type]="'type2-modal-popup'"
        >
        </app-ta-tab-switch>
        <form
            [formGroup]="payrollCreditForm"
            class="form-container form-container-without-mb"
        >
            <div class="row">
                <div class="col-7" *ngIf="selectedTab === 1">
                    <app-ta-input-dropdown
                        formControlName="driverId"
                        [inputConfig]="{
                            name: 'Input Dropdown',
                            type: 'text',
                            label: 'Driver',
                            isDropdown: true,
                            dropdownImageInput: {
                                withText: true,
                                svg: false,
                                image: true,
                                url: selectedDriver?.logoName,
                                nameInitialsInsteadUrl:
                                    !selectedDriver?.logoName
                                        ? selectedDriver?.name
                                        : null,
                                template: 'user'
                            },
                            isRequired: true,
                            textTransform: 'capitalize',
                            dropdownWidthClass: 'w-col-256'
                        }"
                        [options]="labelsDriver"
                        [activeItem]="selectedDriver"
                        (selectedItem)="onSelectDropdown($event, 'driver')"
                    ></app-ta-input-dropdown>
                </div>
                <div class="col-7" *ngIf="selectedTab === 2">
                    <app-ta-input-dropdown
                        formControlName="truckId"
                        [inputConfig]="{
                            name: 'Input Dropdown',
                            type: 'text',
                            label: 'Truck',
                            isDropdown: true,
                            dropdownImageInput: {
                                withText: true,
                                svg: false,
                                image: true,
                                url: selectedDriver?.logoName,
                                nameInitialsInsteadUrl:
                                    !selectedDriver?.logoName
                                        ? selectedDriver?.name
                                        : null,
                                template: 'user'
                            },
                            isRequired: true,
                            textTransform: 'capitalize',
                            dropdownWidthClass: 'w-col-256'
                        }"
                        [options]="labelsTrucks"
                        [activeItem]="selectedTruck"
                        (selectedItem)="onSelectDropdown($event, 'truck')"
                    ></app-ta-input-dropdown>
                </div>
                <div class="col-5">
                    <app-ta-input
                        formControlName="date"
                        [inputConfig]="{
                            name: 'datepicker',
                            label: 'Date',
                            type: 'text',
                            isDropdown: true,
                            placeholderIcon: 'date',
                            isRequired: true,
                            customClass: 'datetimeclass'
                        }"
                    ></app-ta-input>
                </div>
            </div>
            <div class="row last-row">
                <div class="col-7">
                    <app-ta-input
                        formControlName="description"
                        [inputConfig]="{
                            name: 'Description',
                            label: 'Description',
                            type: 'text',
                            minLength: 2,
                            maxLength: 160,
                            textTransform: 'capitalize',
                            isRequired: true,
                            customClass: 'line-input-26-in-card'
                        }"
                    ></app-ta-input>
                </div>
                <div class="col-5">
                    <app-ta-input
                        formControlName="amount"
                        [inputConfig]="{
                            name: 'Amount',
                            label: 'Amount',
                            type: 'text',
                            minLength: 4,
                            maxLength: 11,
                            isRequired: true,
                            thousandSeparator: true
                        }"
                    ></app-ta-input>
                </div>
            </div>
        </form>
    </div>
</app-ta-modal>
