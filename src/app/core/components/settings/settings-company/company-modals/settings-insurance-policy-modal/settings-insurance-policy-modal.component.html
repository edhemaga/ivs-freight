<app-ta-modal
  [modalTitle]="
    editData?.type !== 'edit' ? 'Add Insurance Policy' : 'Edit Insurance Policy'
  "
  [editData]="editData"
  [editName]="editData?.id"
  [isModalValid]="insurancePolicyForm.valid"
  (action)="onModalAction($event)"
>
  <form [formGroup]="insurancePolicyForm" class="form-container">
    <div class="row">
      <div class="col-12">
        <app-ta-input
          formControlName="producerName"
          [inputConfig]="{
            name: 'Full Name',
            type: 'text',
            label: 'Producer Name',
            isRequired: true,
            textTransform: 'capitalize',
            autoFocus: editData?.type !== 'edit' ? true : false
          }"
        ></app-ta-input>
      </div>
    </div>
    <div class="row">
      <div class="col-6">
        <app-ta-input
          formControlName="issued"
          [inputConfig]="{
            name: 'datepicker',
            type: 'text',
            isDropdown: true,
            label: 'Issued',
            placeholderIcon: 'date',
            isRequired: true,
            customClass: 'datetimeclass'
          }"
        ></app-ta-input>
      </div>
      <div class="col-6">
        <app-ta-input
          formControlName="expires"
          [inputConfig]="{
            name: 'datepicker',
            isDropdown: true,
            type: 'text',
            label: 'Expires',
            placeholderIcon: 'date',
            isRequired: true,
            customClass: 'datetimeclass'
          }"
        ></app-ta-input>
      </div>
    </div>
    <div class="row">
      <div class="col-5">
        <app-ta-input
          formControlName="phone"
          [inputConfig]="{
            name: 'Phone',
            type: 'text',
            label: 'Phone',
            placeholderIcon: 'phone',
            mask: '(000) 000-0000'
          }"
        ></app-ta-input>
      </div>
      <div class="col-7">
        <app-ta-input
          formControlName="email"
          [inputConfig]="{
            name: 'Email',
            type: 'text',
            label: 'Email',
            placeholderIcon: 'email',
            minLength: 5,
            maxLength: 64,
            textTransform: 'lowercase'
          }"
        ></app-ta-input>
      </div>
    </div>
    <div class="row last-row">
      <div class="col-10">
        <app-ta-input-address
          formControlName="address"
          [inputConfig]="{
            name: 'Address',
            type: 'text',
            label: 'Address, City, State Zip',
            placeholderIcon: 'address',
            minLength: 12,
            maxLength: 256,
            textTransform: 'capitalize'
          }"
          [activeAddress]="selectedAddress"
          (selectedAddress)="onHandleAddress($event)"
        ></app-ta-input-address>
      </div>
      <div class="col-2">
        <app-ta-input
          formControlName="addressUnit"
          [inputConfig]="{
            name: 'Address Unit',
            type: 'text',
            label: 'Unit #',
            maxLength: 6
          }"
        ></app-ta-input>
      </div>
    </div>
    <!-- Commerical General Liability -->
    <div class="custom-checkbox-card">
      <div class="divider"></div>
      <div
        class="checkbox-card-header"
        [ngClass]="{
          pointer: insurancePolicyForm.get('commericalGeneralLiability').value
        }"
      >
        <app-ta-checkbox
          formControlName="commericalGeneralLiability"
          [label]="'Commercial General Liability'"
          [name]="'Commercial'"
        ></app-ta-checkbox>
        <svg-icon
          class="checkbox-card-header-arrow"
          src="assets/svg/common/ic_arrow_down_updated.svg"
          [ngClass]="{
            visible: insurancePolicyForm.get('commericalGeneralLiability').value
          }"
        ></svg-icon>
      </div>
      <div
        class="checkbox-card-body"
        [ngClass]="{
          'active-20': insurancePolicyForm.get('commericalGeneralLiability')
            .value
        }"
      >
        <div
          *ngIf="insurancePolicyForm.get('commericalGeneralLiability').value"
        >
          <div class="row">
            <div class="col-4">
              <app-ta-input
                formControlName="commericalPolicy"
                [inputConfig]="{
                  name: 'Policy',
                  type: 'text',
                  label: 'Policy #',
                  isRequired: true,
                  textTransform: 'capitalize'
                }"
              ></app-ta-input>
            </div>
            <div class="col-5">
              <app-ta-input
                formControlName="commericalInsurerName"
                [inputConfig]="{
                  name: 'Insurer Name',
                  type: 'text',
                  label: 'Insurer Name',
                  isRequired: true,
                  textTransform: 'capitalize'
                }"
              ></app-ta-input>
            </div>
            <div class="col-3 no-p-left">
              <app-ta-input-dropdown
                formControlName="commericalRating"
                [inputConfig]="{
                  name: 'Input Dropdown',
                  type: 'text',
                  label: 'Rating',
                  isDropdown: true,
                  dropdownWidthClass: 'w-col-3'
                }"
                [options]="ratings"
                [activeItem]="selectedCommericalRating"
                (selectedItem)="onSelectDropdown($event, 'commercial')"
              ></app-ta-input-dropdown>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <app-ta-input
                formControlName="commericalOccurrence"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Each Occurrence',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
            <div class="col-6">
              <app-ta-input
                formControlName="commericalDamage"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Damage To Rented Prem.',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <app-ta-input
                formControlName="commericalInj"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Personal & Adver. Inj.',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
            <div class="col-6">
              <app-ta-input
                formControlName="commericalMedical"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Medical Expanses',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
          </div>
          <div class="row last-row">
            <div class="col-6">
              <app-ta-input
                formControlName="commericalGeneralAggregate"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'General Aggregate',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
            <div class="col-6">
              <app-ta-input
                formControlName="commericalProducts"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Products Comp/OP Agg.',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Atomobile Liability -->
    <div class="custom-checkbox-card">
      <div class="divider"></div>
      <div
        class="checkbox-card-header"
        [ngClass]="{
          pointer: insurancePolicyForm.get('automobileLiability').value
        }"
      >
        <app-ta-checkbox
          formControlName="automobileLiability"
          [label]="'Automobile Liability'"
          [name]="'Automobile'"
        ></app-ta-checkbox>
        <svg-icon
          class="checkbox-card-header-arrow"
          src="assets/svg/common/ic_arrow_down_updated.svg"
          [ngClass]="{
            visible: insurancePolicyForm.get('automobileLiability').value
          }"
        ></svg-icon>
      </div>
      <div
        class="checkbox-card-body"
        [ngClass]="{
          'active-20': insurancePolicyForm.get('automobileLiability').value
        }"
      >
        <div *ngIf="insurancePolicyForm.get('automobileLiability').value">
          <div class="row">
            <div class="col-4">
              <app-ta-input
                formControlName="automobilePolicy"
                [inputConfig]="{
                  name: 'Policy',
                  type: 'text',
                  label: 'Policy #',
                  isRequired: true,
                  textTransform: 'capitalize'
                }"
              ></app-ta-input>
            </div>
            <div class="col-5">
              <app-ta-input
                formControlName="automobileInsurerName"
                [inputConfig]="{
                  name: 'Insurer Name',
                  type: 'text',
                  label: 'Insurer Name',
                  isRequired: true,
                  textTransform: 'capitalize'
                }"
              ></app-ta-input>
            </div>
            <div class="col-3 no-p-left">
              <app-ta-input-dropdown
                formControlName="automobileRating"
                [inputConfig]="{
                  name: 'Input Dropdown',
                  type: 'text',
                  label: 'Rating',
                  isDropdown: true,
                  dropdownWidthClass: 'w-col-3'
                }"
                [options]="ratings"
                [activeItem]="selectedAutomobileRating"
                (selectedItem)="onSelectDropdown($event, 'automobile')"
              ></app-ta-input-dropdown>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <app-ta-input
                formControlName="automobileAccident"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Bodily Injury (Accident)',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
            <div class="col-6">
              <app-ta-input
                formControlName="automobileInjuryPerson"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Bodily Injury (Person)',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
          </div>
          <div class="row last-row">
            <div class="col-6">
              <app-ta-input
                formControlName="automobileLimit"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Combined Single Limit',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
            <div class="col-6">
              <app-ta-input
                formControlName="automobileDamage"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Property Damage',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Motor Truck Cargo -->
    <div class="custom-checkbox-card">
      <div class="divider"></div>
      <div
        class="checkbox-card-header"
        [ngClass]="{
          pointer: insurancePolicyForm.get('motorTruckCargo').value
        }"
      >
        <div class="grouping-checkboxes">
          <app-ta-checkbox
            formControlName="motorTruckCargo"
            [label]="'Motor Truck Cargo'"
            [name]="'MotorTruck'"
          ></app-ta-checkbox>
          <app-ta-checkbox
            formControlName="reeferBreakdown"
            [label]="'Reefer Breakdown'"
            [disabled]="!insurancePolicyForm.get('motorTruckCargo').value"
            [name]="'ReeferBreakdown'"
          ></app-ta-checkbox>
        </div>

        <svg-icon
          class="checkbox-card-header-arrow"
          src="assets/svg/common/ic_arrow_down_updated.svg"
          [ngClass]="{
            visible: insurancePolicyForm.get('motorTruckCargo').value
          }"
        ></svg-icon>
      </div>
      <div
        class="checkbox-card-body"
        [ngClass]="{
          'active-20': insurancePolicyForm.get('motorTruckCargo').value
        }"
      >
        <div *ngIf="insurancePolicyForm.get('motorTruckCargo').value">
          <div class="row">
            <div class="col-4">
              <app-ta-input
                formControlName="motorPolicy"
                [inputConfig]="{
                  name: 'Policy',
                  type: 'text',
                  label: 'Policy #',
                  isRequired: true,
                  textTransform: 'capitalize'
                }"
              ></app-ta-input>
            </div>
            <div class="col-5">
              <app-ta-input
                formControlName="motorInsurerName"
                [inputConfig]="{
                  name: 'Insurer Name',
                  type: 'text',
                  label: 'Insurer Name',
                  isRequired: true,
                  textTransform: 'capitalize'
                }"
              ></app-ta-input>
            </div>
            <div class="col-3 no-p-left">
              <app-ta-input-dropdown
                formControlName="motorRating"
                [inputConfig]="{
                  name: 'Input Dropdown',
                  type: 'text',
                  label: 'Rating',
                  isDropdown: true,
                  dropdownWidthClass: 'w-col-3'
                }"
                [options]="ratings"
                [activeItem]="selectedMotorRating"
                (selectedItem)="onSelectDropdown($event, 'motor')"
              ></app-ta-input-dropdown>
            </div>
          </div>
          <div class="row last-row">
            <div class="col-6">
              <app-ta-input
                formControlName="motorConveyance"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Single Conveyance',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
            <div class="col-6">
              <app-ta-input
                formControlName="motorDeductable"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Deductable',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Physical Damage -->
    <div class="custom-checkbox-card">
      <div class="divider"></div>
      <div
        class="checkbox-card-header"
        [ngClass]="{
          pointer: insurancePolicyForm.get('physicalDamage').value
        }"
      >
        <app-ta-checkbox
          formControlName="physicalDamage"
          [label]="'Physical Damage'"
          [name]="'PhysicalDamage'"
        ></app-ta-checkbox>

        <svg-icon
          class="checkbox-card-header-arrow"
          src="assets/svg/common/ic_arrow_down_updated.svg"
          [ngClass]="{
            visible: insurancePolicyForm.get('physicalDamage').value
          }"
        ></svg-icon>
      </div>
      <div
        class="checkbox-card-body"
        [ngClass]="{
          'active-20': insurancePolicyForm.get('physicalDamage').value
        }"
      >
        <div *ngIf="insurancePolicyForm.get('physicalDamage').value">
          <div class="row">
            <div class="col-4">
              <app-ta-input
                formControlName="physicalPolicy"
                [inputConfig]="{
                  name: 'Policy',
                  type: 'text',
                  label: 'Policy #',
                  isRequired: true,
                  textTransform: 'capitalize'
                }"
              ></app-ta-input>
            </div>
            <div class="col-5">
              <app-ta-input
                formControlName="physicalInsurerName"
                [inputConfig]="{
                  name: 'Insurer Name',
                  type: 'text',
                  label: 'Insurer Name',
                  isRequired: true,
                  textTransform: 'capitalize'
                }"
              ></app-ta-input>
            </div>
            <div class="col-3 no-p-left">
              <app-ta-input-dropdown
                formControlName="physicalRating"
                [inputConfig]="{
                  name: 'Input Dropdown',
                  type: 'text',
                  label: 'Rating',
                  isDropdown: true,
                  dropdownWidthClass: 'w-col-3'
                }"
                [options]="ratings"
                [activeItem]="selectedPhysicalDamageRating"
                (selectedItem)="onSelectDropdown($event, 'physical damage')"
              ></app-ta-input-dropdown>
            </div>
          </div>
          <div class="row last-row">
            <div class="col-6">
              <app-ta-input
                formControlName="physicalCollision"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Comprehen. & Collision',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
            <div class="col-6">
              <app-ta-input
                formControlName="physicalDeductable"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Deductable',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Trailer Interchange -->
    <div class="custom-checkbox-card">
      <div class="divider"></div>
      <div
        class="checkbox-card-header"
        [ngClass]="{
          pointer: insurancePolicyForm.get('trailerInterchange').value
        }"
      >
        <app-ta-checkbox
          formControlName="trailerInterchange"
          [label]="'Trailer Interchange'"
          [name]="'TrailerInterchange'"
        ></app-ta-checkbox>

        <svg-icon
          class="checkbox-card-header-arrow"
          src="assets/svg/common/ic_arrow_down_updated.svg"
          [ngClass]="{
            visible: insurancePolicyForm.get('trailerInterchange').value
          }"
        ></svg-icon>
      </div>
      <div
        class="checkbox-card-body"
        [ngClass]="{
          'active-20': insurancePolicyForm.get('trailerInterchange').value
        }"
      >
        <div *ngIf="insurancePolicyForm.get('trailerInterchange').value">
          <div class="row">
            <div class="col-4">
              <app-ta-input
                formControlName="trailerPolicy"
                [inputConfig]="{
                  name: 'Policy',
                  type: 'text',
                  label: 'Policy #',
                  isRequired: true,
                  textTransform: 'capitalize'
                }"
              ></app-ta-input>
            </div>
            <div class="col-5">
              <app-ta-input
                formControlName="trailerInsurerName"
                [inputConfig]="{
                  name: 'Insurer Name',
                  type: 'text',
                  label: 'Insurer Name',
                  isRequired: true,
                  textTransform: 'capitalize'
                }"
              ></app-ta-input>
            </div>
            <div class="col-3 no-p-left">
              <app-ta-input-dropdown
                formControlName="trailerRating"
                [inputConfig]="{
                  name: 'Input Dropdown',
                  type: 'text',
                  label: 'Rating',
                  isDropdown: true,
                  dropdownWidthClass: 'w-col-3'
                }"
                [options]="ratings"
                [activeItem]="selectedTrailerRating"
                (selectedItem)="onSelectDropdown($event, 'trailer interchange')"
              ></app-ta-input-dropdown>
            </div>
          </div>
          <div class="row last-row">
            <div class="col-12">
              <app-ta-input
                formControlName="trailerValue"
                [inputConfig]="{
                  name: 'Dollar',
                  type: 'text',
                  label: 'Value',
                  placeholderIcon: 'dollar',
                  customClass: 'dollar-placeholderIcon',
                  thousandSeparator: true
                }"
              ></app-ta-input>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="ta-card-body-overflow-none">
      <app-ta-custom-card
        [hasCounter]="documents.length ? documents.length : '0'"
        [cardName]="'Documents'"
        [isCardOpen]="documents.length"
      >
        <app-ta-upload-files
          [files]="documents"
          (onFileEvent)="onFilesEvent($event)"
        ></app-ta-upload-files>
      </app-ta-custom-card>
    </div>
    <app-ta-input-note
      formControlName="note"
      [isVisibleNote]="insurancePolicyForm.get('note').value"
    ></app-ta-input-note>
  </form>
</app-ta-modal>
