<div class="settings-repair-shop">
  <div class="settings-header">
    <div class="settings-name d-flex align-items-center">
      <app-ta-counter
        [count]="'4'"
        [countColor]="'#919191'"
        [countBackground]="'#F3F3F3'"
        [countHeight]="'24px'"
        [countWidth]="'24px'"
      ></app-ta-counter>
      <p>Repair Shop</p>
    </div>

    <div class="settings-header-button">
      <div class="border-left"></div>
      <svg-icon
        src="assets/svg/common/ic_plus.svg"
        class="settings-plus-button"
        (click)="onAction({ modalName: 'repairshop', type: 'add' })"
      ></svg-icon>
    </div>
  </div>
  <div class="settings-body">
    <app-ta-re-card
      *ngFor="let item of repairShopData; let i =index; trackBy: identity"
      [settingsIcon]="item.companyOwned"
      [cardNameCommon]="item.name"
      [hasFooter]="false"
      [haveHeaderText]="true"
      [paddingDots]="'11px 0px 0px 12px'"

    >
      <div class="settings-body-items">
        <div *ngIf="item.phone" class="single-item">
          <svg-icon class="company-icons" src="assets/svg/common/ic_phone.svg"></svg-icon>
          <app-ta-copy [copyValue]="item?.phone"> </app-ta-copy>
          
        </div>
        <div *ngIf="item.email" class="single-item">
          <svg-icon class="company-icons" src="assets/svg/common/ic_email.svg"></svg-icon>
          <app-ta-copy [copyValue]="item?.email"> </app-ta-copy>
        </div>
        <div *ngIf="item.address" class="single-item">
          <svg-icon
          class="company-icons"
            src="assets/svg/truckassist-table/location-icon.svg"
          ></svg-icon>
          <span>{{ item.address }}</span>
        </div>
      </div>
      <app-ta-custom-card
        [hasCounter]="getActiveServices(item.services).length"
        [cardName]="'Services'"
        [isCardOpen]="true"
        [bodyTemplate]="'card'"
        [animationsDisabled]="false"
      >
        <div
          class="repair-shop-template-data"
          [ngClass]="{ 'no-divider': !item.rent }"
        >
          <div
            class="repair-shop-template-item"
            *ngFor="let ser of item.services; trackBy: identity"
          >
            <svg-icon
              class="repair-shop-template-svg"
              [ngClass]="{ disabled: !ser.isUsefulService }"
              src="{{ ser.svg }}"
            ></svg-icon>
            <p
              class="repair-shop-template-text"
              [ngClass]="{ 'cross-out': !ser.isUsefulService }"
            >
              {{ ser.name }}
            </p>
          </div>
        </div>
      </app-ta-custom-card>
      <div *ngIf="item.rent" class="divider"></div>
      <div *ngIf="item.rent" class="settings-progress-container">
        <app-truckassist-progress-expiration
          *ngIf="item.rent"
          [expireDate]="'03/25/2023'"
          [startDate]="'03/12/2021'"
          [expiresSettings]="'settings-parking'"
          [customText]="generateTextForProgressBar(item)"
        ></app-truckassist-progress-expiration>
      </div>
    </app-ta-re-card>
  </div>
</div>
