<div class="settings-card">
  <div
    class="settings-card-header"
    [ngClass]="{
      closed: !isCardOpen,
      'last-item': !hasLine && !isCardOpen
    }"
    (click)="isCardOpen = !isCardOpen"
  >
    <div class="settings-card-header-leftSide">
      <div *ngIf="cardCount" class="settings-header-count">
        {{ cardCount }}
      </div>
      <p class="settings-card-header-name">{{ cardName }}</p>
    </div>

    <div class="settings-card-header-rightSide">
      <div *ngIf="cardStatus" class="settings-card-status">
        {{ cardStatus }}
      </div>
      <svg-icon
        class="settings-card-arrow"
        [ngClass]="{ rotate: isCardOpen }"
        src="assets/img/svgs/settings-company/settings-arrow.svg"
      ></svg-icon>
    </div>
  </div>
  <div
    *ngIf="isCardOpen"
    class="settings-card-body"
    [ngClass]="{ 'no-line': !hasLine }"
  >
    <div [ngSwitch]="cardTemplate">
      <!-- Common Template -->
      <div *ngSwitchCase="'commonTemplate'" class="settings-template">
        <div class="settings-template-data" *ngFor="let item of data">
          <p class="settings-template-name">{{ item.name }}</p>
          <p class="settings-template-value">{{ item.value }}</p>
        </div>
      </div>
      <!-- Bank Account Template -->
      <div *ngSwitchCase="'bankAccountTemplate'">
        <div class="settings-template">
          <div
            class="settings-template-data"
            *ngFor="let item of data; let ind = index"
          >
            <p class="settings-template-name bank">{{ item.name }}</p>

            <svg-icon
              *ngIf="ind === 0"
              class="settings-template-svg"
              src="{{ item.value }}"
            ></svg-icon>

            <p *ngIf="ind === 1" class="settings-template-value">
              {{ item.value }}
            </p>

            <div *ngIf="ind === 2" class="settings-template-eye">
              <p class="hidden-text-eye">
                {{ accountText ? accountText : hiddenPassword(item.value, 4) }}
              </p>
              <svg-icon
                (click)="showHideValue(item.value)"
                class="hidden-svg-eye"
                src="{{
                  isAccountVisible
                    ? 'assets/img/svgs/settings-company/settings-eye-visible.svg'
                    : 'assets/img/svgs/settings-company/settings-eye-hidden.svg'
                }}"
              ></svg-icon>
            </div>
          </div>
        </div>
      </div>
      <!-- Bank Card Template -->
      <div *ngSwitchCase="'bankCardTemplate'">
        <div class="bankcard-template">
          <div class="bankcard-template-header">
            <p *ngFor="let item of bankCardHeaders">{{ item }}</p>
          </div>
          <div
            *ngFor="let item of data; let ind = index"
            class="bankcard-template-data"
            [ngClass]="{ first: ind === 0 }"
          >
            <p class="bankcard-template-nickname">{{ item.nickName }}</p>
            <div class="bankcard-template-card">
              <svg-icon
                class="bankcard-template-svg"
                src="{{ item.cardPicture }}"
              ></svg-icon>
              <p class="bankcard-template-value">{{ item.cardNumber }}</p>
            </div>
            <div class="bankcard-template-cvc">{{ item.cvc }}</div>
            <div class="bankcard-template-exp">{{ item.expiration }}</div>
          </div>
        </div>
      </div>
      <!-- Payroll Template -->
      <div *ngSwitchCase="'payrollTemplate'" class="payroll-template">
        <div class="payroll-template-data" *ngFor="let item of data">
          <p class="payroll-template-name">{{ item.name }}</p>
          <p class="payroll-template-value">{{ item.value }}</p>
        </div>
      </div>
      <!-- Insurance Policy -->
      <div *ngSwitchCase="'insuranceTemplate'">
        <div class="insurance-template-data">
          <div class="insurance-template-data-top">
            <div class="insurance-agency">
              <div class="insurer-name">{{ data.insurerName }}</div>
              <div class="insurer-rating">{{ data.rating }}</div>
            </div>
            <p class="insurer-numberOfPolicy">{{ data.numberOfPolicy }}</p>
          </div>
          <div class="insurance-template-data-bottom">
            <div class="insurance-field" *ngFor="let item of data.fields">
              <div class="insurance-field-name">{{ item.name }}</div>
              <div class="insurance-field-value">{{ item.value }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <hr *ngIf="hasLine" class="settings-line" />
</div>
