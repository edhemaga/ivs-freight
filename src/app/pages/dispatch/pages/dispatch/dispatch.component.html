<div class="table-container dispatch-board-main">
    <app-ta-table-toolbar
        (toolBarAction)="onToolBarAction($event)"
        [options]="tableOptions"
        [tableData]="tableData"
        [columns]="columns"
        [selectedTab]="'active'"
        [selectedDispatcherData]="selectedDispatcher"
        [dispathcboardTableLocked]="isBoardLocked"
        [activeViewMode]="'Dispatch'"
    ></app-ta-table-toolbar>

    <div
        class="dispatch-tables"
        [class.multiple-tables]="(dispatchTableList | async).length > 1"
    >
        <ng-container
            *ngFor="let item of dispatchTableList | async; let index = index"
        >
            <div class="dispatch-groups">
                <app-dispatch-table
                    [dispatchTableData]="item"
                    [isBoardLocked]="isBoardLocked"
                    [shortLists]="dispatchBoardSmallList | async"
                    [toolbarWidth]="maxToolbarWidth"
                    [columns]="columns"
                    [isAllBoardsList]="
                        selectedDispatcher?.name === 'All Boards'
                    "
                    [canUnlock]="selectedDispatcher?.canUnlock"
                    [isNoteExpanded]="isNoteExpanded"
                    [sortBy]="sortBy"
                    [sortDirection]="sortDirection"
                    [gridIndex]="index"
                    (onTableUnlockEmitter)="onToolBarAction($event)"
                    (onToggleNoteEmitter)="toggleNote($event)"
                ></app-dispatch-table>
            </div>
        </ng-container>
    </div>
</div>
