<div class="header d-flex align-items-center">
    <div class="title ta-font-extra-bold">{{ title }}</div>
    <div class="data-count" [ngClass]="isExpanded && 'data-count-focused'">
        {{ count }}
    </div>
    <div
        class="show-all ta-font-bold"
        [ngClass]="isExpanded ? 'show-all-focused' : 'show-all-unfocused'"
        (click)="toggleShowAll()"
    >
        <ng-container *ngIf="isExpanded; else showAll">Show less</ng-container>
        <ng-template #showAll>Show all</ng-template>
    </div>
</div>
<div
    [className]="customClass"
    [ngClass]="!isExpanded && customClass + '-not-empty'"
    [ngStyle]="
        isExpanded && {
            height: 'fit-content',
            'overflow-y': 'none'
        }
    "
>
    <ng-container
        *ngFor="
            let item of resources;
            let ind = index;
            trackBy: '' | trackByProperty
        "
    >
        <ng-container [ngSwitch]="type">
            <ng-container *ngSwitchCase="'media'">
                <img [src]="item?.url" [alt]="item?.fileName" />
            </ng-container>
            <ng-container *ngSwitchCase="'files'">
                <div class="attachment-wrapper">
                    <app-chat-message-attachment-preview
                        [index]="ind"
                        [attachment]="item"
                        [isNameReduced]="false"
                        [isInMessage]="true"
                        [isDateDisplayed]="true"
                        [isSizeDisplayed]="false"
                    ></app-chat-message-attachment-preview>
                </div>
            </ng-container>
            <ng-container *ngSwitchCase="'links'">
                Displaying Links content.
            </ng-container>
            <ng-container *ngSwitchDefault>
                Please select a resource type.
            </ng-container>
        </ng-container>
    </ng-container>
</div>
<ng-container *ngIf="hasHorizontalBorder">
    <div class="horizontal-border"></div>
</ng-container>
