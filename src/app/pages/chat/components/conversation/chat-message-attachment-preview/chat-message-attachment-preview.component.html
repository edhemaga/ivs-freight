<div
    class="attachment-preview"
    [ngStyle]="{ width: previewWidth }"
    (click)="isInMessage && downloadFile()"
>
    <ng-container *ngIf="isMedia; else document">
        <img
            [src]="attachment.url"
            [alt]="attachment.fileName"
            class="attachment-preview-thumbnail"
            width="40"
            height="40"
        />
    </ng-container>
    <ng-template #document>
        <div class="attachment-preview-document d-flex">
            <img
                [src]="documentIllustrationPath"
                [alt]="attachment.name"
                class="attachment-preview-document-thumbnail"
            />
            <div
                class="attachment-preview-document-info"
                [ngStyle]="{ width: isInMessage && 'fit-content' }"
            >
                <div
                    [ngClass]="
                        isChatTypingBlurred && !isInMessage
                            ? 'name-dark'
                            : 'name-light'
                    "
                    [class.text-reduced]="isNameReduced"
                    class="name ta-font-medium"
                >
                    {{ attachment.fileName }}
                </div>
                <div class="text info">
                    <!-- TODO convert to switch? -->
                    <ng-container *ngIf="isSizeDisplayed">
                        {{ attachment.size }}
                        kB
                    </ng-container>
                    <ng-container *ngIf="isDateDisplayed">
                        {{ attachment.updatedAt | formatDateP : 'date-time' }}
                    </ng-container>
                </div>
            </div>
        </div>
    </ng-template>
</div>
