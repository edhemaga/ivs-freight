<div class="chat-list-item d-flex">
    <app-ca-profile-image
        [avatarImg]="contact.companyUser?.avatarFile?.url"
        [avatarColor]="{
            background: '#DFC2F9',
            color: '#9E47EC66'
        }"
        [textShortName]="contact.companyUser?.fullName | nameInitials"
        [size]="30"
        [fontSize]="9"
        [isHoverEffect]="false"
    ></app-ca-profile-image>

    <div class="chat-list-item-text-wrapper">
        <!-- TODO Change into lastMessage -->
        <ng-container *ngIf="contact?.companyUser; else messageData">
            <div class="chat-list-item-name-no-data d-flex align-items-center">
                {{ contact.companyUser.fullName }}
            </div>
        </ng-container>

        <ng-template #messageData>
            <div class="chat-list-item-top d-flex">
                <div class="chat-list-item-name ta-font-medium">
                    {{ contact.companyUser.fullName }}
                </div>
                <ng-container *ngIf="contact?.unreadCount">
                    <div class="chat-list-item-text-count ta-font-semi-bold">
                        {{ contact.unreadCount }}
                    </div>
                </ng-container>
            </div>
            <div class="chat-list-item-text-content d-flex">
                <ng-container [ngSwitch]="status">
                    <ng-container *ngSwitchCase="chatConversationStatus.TYPING">
                        <div class="chat-list-item-message ta-font-bold">
                            Typing...
                        </div>
                    </ng-container>

                    <ng-container *ngSwitchCase="chatConversationStatus.UNREAD">
                        {{
                            contact.companyUser.lastMessage?.content
                        }}</ng-container
                    >
                    <ng-container *ngSwitchCase="chatConversationStatus.READ">
                        {{
                            contact.companyUser.lastMessage?.content
                        }}</ng-container
                    >
                    <ng-container *ngSwitchDefault></ng-container>
                </ng-container>

                <div class="chat-list-item-text-time ta-font-regular">
                    {{
                        contact.companyUser.lastMessage?.createdAt | formatTime
                    }}
                </div>
            </div>
        </ng-template>
    </div>
</div>
