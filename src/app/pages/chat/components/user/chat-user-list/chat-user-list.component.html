<div class="user-list-container">
    <div class="chat-header-wrapper">
        <div
            class="chat-header d-flex align-items-center"
            [ngClass]="isSearchActive ? 'no-border-bottom' : 'border-bottom'"
        >
            <div class="chat-header-type ta-font-extra-bold">
                {{ type }}
            </div>

            <div class="chat-header-message-count ta-font-extra-bold">
                {{ contact?.count }}
            </div>

            <div
                class="border-container d-flex justify-content-center align-items-center"
            >
                <div class="border"></div>
            </div>

            <svg-icon
                class="d-flex justify-content-center align-items-center"
                [svgStyle]="{ 'width.px': 18, 'height.px': 17 }"
                [src]="ChatSvgRoutes.searchIcon"
                (click)="toggleSearch()"
            ></svg-icon>

            <div
                class="border-container d-flex justify-content-center align-items-center"
            >
                <div class="border"></div>
            </div>

            <div class="status-icon">
                <svg-icon
                    (click)="showOnlineUsers()"
                    class="d-flex justify-content-center align-items-center"
                    [svgStyle]="{ 'width.px': 18, 'height.px': 17 }"
                    [src]="ChatSvgRoutes.contactStatusIcon"
                ></svg-icon>
            </div>

            <div class="department-icon">
                <svg-icon
                    (click)="filterByDepartment()"
                    class="d-flex justify-content-center align-items-center"
                    [svgStyle]="{ 'width.px': 18, 'height.px': 17 }"
                    [src]="ChatSvgRoutes.departmentIcon"
                ></svg-icon>
            </div>
        </div>
        <ng-container *ngIf="isSearchActive">
            <div class="form-wrapper" [formGroup]="searchForm">
                <app-ta-input
                    formControlName="searchTerm"
                    [(ngModel)]="searchTerm"
                    [inputConfig]="{
                        name: 'searchTerm',
                        type: 'text',
                        label: 'Type your message here',
                        hideRequiredCheck: true,
                        placeholderInsteadOfLabel: true,
                        autoFocus: true,
                        minLength: 3
                    }"
                ></app-ta-input>
            </div>
        </ng-container>
    </div>

    <ng-container *ngIf="contact?.count > 0; else noData">
        <div class="contact-wrapper">
            <ng-container
                *ngFor="
                    let chat of contact?.data;
                    let ind = index;
                    trackBy: trackById
                "
            >
                <div class="contact">
                    <app-chat-user-list-item
                        [contact]="chat"
                        (click)="selectUser(chat.companyUser.id)"
                    ></app-chat-user-list-item>
                </div>
            </ng-container>
        </div>
    </ng-container>

    <ng-template #noData>
        <app-chat-no-data
            [message]="
                'There are no drivers added. To manage your drivers, you can add them manually or import them from an external source.'
            "
        >
            <div class="no-data-button-wrapper d-flex justify-content-center">
                <button class="no-data-button">Invite User</button>
            </div>
        </app-chat-no-data>
    </ng-template>
</div>
