<div class="chat-list-item d-flex">
    <ng-container *ngIf="contact.companyUser?.avatarFile?.url; else noAvatar">
        <img
            class="chat-list-item-avatar"
            [src]="contact.companyUser.avatarFile.url"
            [alt]="contact.companyUser?.fullName"
        />
    </ng-container>
    <ng-template #noAvatar>
        <app-ta-profile-images
            [indx]="contact.companyUser?.id"
            [withTooltip]="false"
            [showHoverAnimation]="false"
            [size]="'medium'"
            [type]="'driver'"
            [name]="contact.companyUser?.fullName"
        >
        </app-ta-profile-images>
    </ng-template>
    <div class="chat-list-item-text-wrapper">
        <!-- TODO Change into lastMessage -->
        <ng-container *ngIf="contact.companyUser.userId; else messageData">
            <div class="chat-list-item-name-no-data">
                {{ contact.companyUser.fullName }}
            </div>
        </ng-container>
        <ng-template #messageData>
            <div class="chat-list-item-top">
                <div class="chat-list-item-name">
                    {{ contact.companyUser.fullName }}
                </div>
                <div
                    *ngIf="contact.unreadCount"
                    class="chat-list-item-text-count"
                >
                    {{ contact.unreadCount }}
                </div>
            </div>
            <div class="chat-list-item-text-content">
                <ng-container [ngSwitch]="status">
                    <div
                        *ngSwitchCase="'typing'"
                        class="chat-list-item-message"
                    >
                        Typing...
                    </div>
                    <div *ngSwitchCase="'unread'">Unread message</div>
                    <div *ngSwitchCase="'read'">Some message</div>
                    <div *ngSwitchDefault></div>
                </ng-container>
                <!-- TODO Add real time with response -->
                <div class="chat-list-item-text-time">
                    {{ '' | formatTime }}
                </div>
            </div>
        </ng-template>
    </div>
</div>
