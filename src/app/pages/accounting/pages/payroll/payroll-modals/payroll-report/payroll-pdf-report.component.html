<app-ca-modal
    [modalTitle]="'Preview Report'"
    [rightHeaderTemplate]="rightModalContent"
    [customClass]="'modal-container-load modal-payroll-report'"
>
    <div origin class="w-full scrollable-element remove-scroll-track">
        <div class="divider divider--dark divider--small"></div>

        @if (!isLoading) {
            <div class="zoom-controls">
                <button (click)="setZoom(2)">2X</button>
                <button (click)="setZoom(1.5)">1.5X</button>
                <button (click)="setZoom(1.25)">1.25X</button>
                <button (click)="setZoom(1)">DEF LVL</button>
                <button (click)="setZoom(0.75)">0.75X</button>
                <button (click)="setZoom(0.5)">0.5X</button>
            </div>

            <div
                class="zoomable-div"
                [ngStyle]="{
                    transform: 'scale(' + zoomLevel + ')',
                    'margin-top': '200px',
                }"
            >
                <!-- Your content goes here -->
                <p>This is a zoomable div!</p>
            </div>

            <iframe
                [srcdoc]="pdfReport?.html"
                width="100%"
                height="960px"
            ></iframe>
        } @else {
            <div class="no-data-container">
                <div
                    class="d-flex align-items-center justify-content-center h-full w-full"
                >
                    <app-ta-spinner
                        [size]="'small'"
                        [color]="'black'"
                    ></app-ta-spinner>
                </div>
            </div>
        }
    </div>

    <!-- <div origin class="w-full">
        <div class="divider divider--dark divider--small"></div>
        <ng-container *ngIf="!isLoading; else loading">
            <div class="wrapper">
                <div class="h-full pos-relative">
                    

                    <div
                        class="pdf-button-wrapper pos-absolute d-flex align-items-center justify-content-center"
                    >
                        <div
                            class="pdf-button pdf-button-zoom-in d-flex align-items-center justify-content-center c-pointer"
                            (click)="zoomIn()"
                        >
                            <svg-icon
                                class="svg-size-12"
                                [ngClass]="
                                    pdfZoom >= maxZoom
                                        ? 'svg-fill-light-grey-6'
                                        : 'svg-fill-muted svg-hover-black'
                                "
                                [src]="svgRoutes.plusIcon"
                            ></svg-icon>
                        </div>
                        <div
                            (click)="zoomOut()"
                            class="pdf-button pdf-button-zoom-out d-flex align-items-center justify-content-center c-pointer"
                        >
                            <svg-icon
                                class="svg-size-12"
                                [ngClass]="
                                    pdfZoom === 1
                                        ? 'svg-fill-light-grey-6'
                                        : 'svg-fill-muted svg-hover-black'
                                "
                                [src]="svgRoutes.minusIcon"
                            ></svg-icon>
                        </div>
                    </div>
                </div>
            </div>
        </ng-container>
    </div> -->
</app-ca-modal>

<ng-template #rightModalContent>
    <ng-container *ngIf="!isLoading">
        <div
            class="d-flex justify-content-center align-items-center modal-close-container"
            ngbTooltip
            [mainTooltip]="eGeneralActions.DOWNLOAD"
            [tooltipBackground]="eColor.BLACK"
            [position]="ePosition.BOTTOM"
        >
            <svg-icon
                [src]="svgRoutes.downloadIcon"
                class="modal-buttons"
                (click)="handleDownloadReportClick()"
            ></svg-icon>
        </div>

        <div
            class="modal-date-border d-flex align-items-center justify-content-center"
        ></div>
    </ng-container>

    <div
        class="d-flex justify-content-center align-items-center modal-close-container"
        ngbTooltip
        [mainTooltip]="eGeneralActions.CANCEL_CAPITALIZED"
        [tooltipBackground]="eColor.BLACK"
        [position]="ePosition.BOTTOM"
        (click)="handleCloseModalClick()"
    >
        <svg-icon
            class="modal-close svg-size-14 svg-fill-muted modal-buttons"
            [src]="svgRoutes.closeIcon"
        ></svg-icon>
    </div>
</ng-template>
