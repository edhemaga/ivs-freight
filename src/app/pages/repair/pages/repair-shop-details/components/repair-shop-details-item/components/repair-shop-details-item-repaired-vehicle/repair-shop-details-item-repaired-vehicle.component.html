<ng-container *ngIf="_repairedVehicleList?.length">
    <div
        class="d-flex flex-column justify-content-center repaired-vehicle-list-container"
    >
        <!-- Search -->

        <ng-container *ngIf="searchConfig[1]">
            <div class="repaired-vehicle-list-search">
                <app-ca-search-multiple-states
                    [searchType]="'Vehicle'"
                    [toolbarSearch]="false"
                    [isDetailsPageSearch]="true"
                    [selectedTabData]="{
                        gridNameTitle: 'Vehicle'
                    }"
                    (close)="handleCloseSearchEmit()"
                ></app-ca-search-multiple-states>
            </div>
        </ng-container>

        <!-- Header -->

        <div class="align-items-center repaired-vehicle-list-header">
            <ng-container
                *ngFor="
                    let headerItem of repairedVehicleListHeaderItems;
                    let headerItemIndex = index;
                    trackBy: trackByIdentity
                "
            >
                <div
                    class="d-flex align-items-center"
                    [ngClass]="{
                        'justify-content-center': headerItemIndex === 2,
                        'justify-content-end': headerItemIndex === 3
                    }"
                >
                    <ng-container *ngIf="headerItem; else headerItemIcon">
                        <p
                            class="m-0 ta-font-bold text-size-11 text-color-bw6-2"
                        >
                            {{ headerItem }}
                        </p>
                    </ng-container>

                    <ng-template #headerItemIcon>
                        <svg-icon
                            class="repaired-vehicle-list-header-icon"
                            [src]="repairShopDetailsSvgRoutes.repairRoute"
                            [svgStyle]="{
                                'width.px': 14,
                                'height.px': 14
                            }"
                        ></svg-icon>
                    </ng-template>
                </div>
            </ng-container>
        </div>

        <!-- Body -->

        <div
            class="d-flex flex-column justify-content-center repaired-vehicle-list-body"
        >
            <ng-container
                *ngFor="
                    let repairedVehicle of _repairedVehicleList;
                    let repairedVehicleIndex = index;
                    trackBy: trackByIdentity
                "
            >
                <div class="align-items-center repaired-vehicle-list-body-item">
                    <!-- Unit -->

                    <div
                        class="d-flex align-items-center vehicle-unit-container"
                        ngbTooltip
                        mainTooltip="View Detail"
                        position="bottom"
                        tooltipBackground="#424242"
                        (click)="
                            handleViewDetailClick(
                                repairedVehicle?.unitType,
                                repairedVehicle?.unitId
                            )
                        "
                    >
                        <p
                            class="m-0 ta-font-bold text-size-14 text-color-black"
                        >
                            {{ repairedVehicle?.unitNumber }}
                        </p>
                    </div>

                    <!-- Type -->

                    <div
                        class="d-flex align-items-center vehicle-type-container"
                        ngbTooltip
                        [mainTooltip]="repairedVehicle?.vehicleName"
                        position="bottom"
                        [tooltipBackground]="
                            vehicleHoverIndex === repairedVehicleIndex
                                ? (repairedVehicle?.vehicleTypeId
                                  | dispatchColorFinder
                                      : repairedVehicle?.unitType.toLowerCase()
                                      : true)
                                : 'transparent'
                        "
                        (mouseenter)="vehicleHoverIndex = repairedVehicleIndex"
                        (mouseleave)="vehicleHoverIndex = -1"
                    >
                        <svg-icon
                            class="d-flex align-items-center vehicle-icon"
                            [ngClass]="
                                vehicleHoverIndex === repairedVehicleIndex
                                    ? (repairedVehicle?.vehicleTypeId
                                      | dispatchColorFinder
                                          : repairedVehicle?.unitType.toLowerCase())
                                    : ''
                            "
                            [src]="
                                repairedVehicle?.unitType === 'Truck'
                                    ? repairShopDetailsSvgRoutes.trucksRoute +
                                      repairedVehicle?.logoName
                                    : repairShopDetailsSvgRoutes.trailersRoute +
                                      repairedVehicle?.logoName
                            "
                        ></svg-icon>
                    </div>

                    <!-- Repair Count -->

                    <div
                        class="d-flex justify-content-center align-items-center"
                    >
                        <p class="m-0 text-size-14 text-color-black-2">
                            {{ repairedVehicle?.totalRepairs }}
                        </p>
                    </div>

                    <!-- Cost -->

                    <div class="d-flex align-items-center justify-content-end">
                        <p
                            class="m-0 ta-font-semi-bold text-size-14 text-color-black"
                        >
                            ${{
                                repairedVehicle?.totalCost | thousandSeparator
                            }}
                        </p>
                    </div>
                </div>
            </ng-container>
        </div>

        <!-- Footer -->

        <div
            class="d-flex align-items-center justify-content-between repaired-vehicle-list-footer"
        >
            <p class="m-0 ta-font-semi-bold text-size-11 text-color-bw6-2">
                {{ _repairedVehicleList.length }} OF
                {{ _repairedVehicleList.length }}
            </p>
        </div>
    </div>
</ng-container>
