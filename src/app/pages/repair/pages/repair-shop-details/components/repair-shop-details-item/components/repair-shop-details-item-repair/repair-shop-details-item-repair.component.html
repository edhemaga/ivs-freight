<div class="d-flex flex-column justify-content-center shop-details-item-repair">
    <!-- Header -->

    <div class="align-items-center shop-details-item-repair-header">
        <ng-container
            *ngFor="
                let headerItem of repairHeaderItems;
                trackBy: trackByIdentity
            "
        >
            <div
                class="d-flex align-items-center shop-details-item-repair-header-item"
                [ngClass]="{ 'justify-content-end': headerItem === 'COST' }"
            >
                <p class="m-0 ta-font-bold text-size-11 text-color-bw6-2">
                    {{ headerItem }}
                </p>
            </div>
        </ng-container>
    </div>

    <!-- Main -->

    <div
        class="d-flex flex-column justify-content-center shop-details-item-repair-main"
    >
        <ng-container
            *ngFor="let repair of _repairList; trackBy: trackByIdentity"
        >
            <div class="align-items-center shop-details-item-repair-main-item">
                <!-- Invoice -->

                <div class="d-flex align-items-center">
                    <p class="m-0 ta-font-bold text-size-14 text-color-black">
                        {{ repair?.invoice || repair?.orderNumber }}
                    </p>
                </div>

                <!-- Date -->

                <div class="d-flex align-items-center">
                    <p class="m-0 text-size-14 text-color-black-2">
                        {{ repair?.createdAt | formatDateP }}
                    </p>
                </div>

                <!-- Unit -->

                <div class="d-flex align-items-center">
                    <p class="m-0 text-size-14 text-color-black-2">
                        {{
                            repair?.truck?.truckNumber ||
                                repair?.trailer?.trailerNumber
                        }}
                    </p>
                </div>

                <!-- Description -->

                <div
                    class="d-flex align-items-center"
                    [appDescriptionItemsTextCount]="repair?.filteredItemNames"
                    [itemSpecialStylesIndexArray]="repair?.pmItemsIndexArray"
                    [containerWidth]="232"
                ></div>

                <!-- Cost -->

                <div
                    class="d-flex align-items-center justify-content-end cost-container"
                >
                    <p class="m-0 ta-font-bold text-size-14 text-color-black">
                        ${{ repair?.total }}
                    </p>
                </div>

                <!-- Actions -->

                <div class="align-items-center actions-container">
                    <ng-container
                        *ngFor="
                            let actionItem of repairActionItems;
                            trackBy: trackByIdentity
                        "
                    >
                        <div
                            class="d-flex align-items-center justify-content-center actions-container-action"
                            ngbTooltip
                            [mainTooltip]="actionItem.title"
                            tooltipBackground="#424242"
                            position="bottom"
                            (click)="handleActionClick(actionItem.title)"
                        >
                            <svg-icon
                                class="icon"
                                [src]="actionItem.iconRoute"
                                [svgStyle]="{ 'width.px': 18, 'height.px': 18 }"
                            ></svg-icon>
                        </div>
                    </ng-container>
                </div>
            </div>
        </ng-container>
    </div>

    <!-- Footer -->

    <div
        class="d-flex align-items-center justify-content-between shop-details-item-repair-footer"
    >
        <p class="m-0 ta-font-semi-bold text-size-11 text-color-bw6-2">
            10 OF 10
        </p>

        <div
            class="d-flex align-items-center show-more-btn"
            (click)="handleActionClick('show-more')"
        >
            <p class="m-0 ta-font-bold text-size-11 text-color-black">
                SHOW MORE
            </p>
        </div>
    </div>
</div>

<!-- <div *ngSwitchCase="'repair'">
        <div class="repair-container" *ngIf="repairListData?.length">
            <div class="repair-header repair-details-header-columns">
                <span class="repaier-headers">INVOICE</span>
                <span class="repaier-headers">DATE</span>
                <span class="repaier-headers">UNIT</span>
                <span class="repaier-headers">DESCRIPTION</span>
                <span class="repaier-headers last-value-align">COST</span>
            </div>
            <div class="divider"></div>
            <div class="repair-items-wrapper">
                <span
                    *ngFor="let repairs of repairListData; let i = index"
                    (click)="openRepairDetail(repairs)"
                    class="item-shop-wrapper"
                    [ngClass]="{
                        'finish-order-cont':
                            repairs.repairType.name != 'Bill',
                        'open-items-body':
                            showRepairItems[repairs?.id] &&
                            repairs.repairType.name == 'Bill'
                    }"
                >
                    <div class="repair-items">
                        <div
                            class="items-header repair-item-column responsiveHolderRepair"
                            [ngClass]="{
                                'open-items-body':
                                    showRepairItems[repairs?.id] &&
                                    repairs.repairType.name == 'Bill',
                                'open-items-body-no-invoice':
                                    showRepairItems[repairs?.id] &&
                                    repairs.repairType.name != 'Bill'
                            }"
                        >
                            <span class="date">
                                <span
                                    class="inv"
                                    *ngIf="
                                        repairs.repairType.name == 'Bill'
                                    "
                                >
                                    {{
                                        repairs.invoice
                                            ? repairs.invoice
                                            : ''
                                    }}
                                </span>
                            </span>

                            <div
                                *ngIf="repairs.repairType.name != 'Bill'"
                                class="no-invoice"
                            >
                                <svg-icon
                                    class="no-inv"
                                    src="assets/svg/common/ic_note_order.svg"
                                ></svg-icon>
                                <span class="date-order">Order</span>
                            </div>

                            <span class="date">{{
                                repairs.date
                                    ? (repairs.date | formatDateP)
                                    : (repairs.createdAt | formatDateP)
                            }}</span>

                            <span class="unit">{{
                                repairs?.trailer?.trailerNumber
                                    ? repairs.trailer.trailerNumber
                                    : repairs.truck.truckNumber
                            }}</span>

                            <span class="date-description">
                                <span
                                    class="item-desc"
                                    *ngFor="
                                        let desc of repairs?.items;
                                        trackBy: identity
                                    "
                                    [ngClass]="{
                                        'have-pm-description':
                                            desc?.pmTruck != null ||
                                            desc?.pmTrailer != null
                                    }"
                                    >{{ desc.description }}
                                    <span
                                        class="full-stop-shop"
                                        *ngIf="repairs.items.length > 1"
                                        >‚óè</span
                                    ></span
                                >
                            </span>

                            <span *ngIf="repairs?.total" class="cost">
                                {{ repairs.total | formatCurrency }}
                            </span>

                            <div
                                (click)="
                                    finishOrder(repairs.id, repairs, $event)
                                "
                                *ngIf="repairs.repairType.name != 'Bill'"
                                class="button-wrapper-shop"
                            >
                                Finish Order
                            </div>

                            <div
                                class="dots-vertical"
                                [ngClass]="{
                                    'order-activate':
                                        repairs.repairType.name != 'Bill'
                                }"
                            >
                                <app-ta-details-dropdown
                                    [options]="dummyData.actions"
                                    [customClassDropDown]="
                                        'drop-down-details-single'
                                    "
                                    [id]="repairs.id"
                                    [data]="repairs"
                                    (dropDownActions)="
                                        optionsEvent(
                                            $event,
                                            'repair-detail'
                                        )
                                    "
                                    (click)="stopClick($event, repairs)"
                                >
                                </app-ta-details-dropdown>
                            </div>
                        </div>
                    </div>
                    <div
                        *ngIf="repairs?.items?.length"
                        [@showHideCardBody]="
                            showRepairItems[repairs?.id] ? 'true' : 'false'
                        "
                        [ngClass]="{
                            'no-repairs-inovice':
                                repairs.repairType.name != 'Bill'
                        }"
                        class="repair-items-body-wrapper"
                    >
                        <div class="repair-items-body-header">
                            <div class="item-header">#</div>
                            <div class="item-header">ITEM</div>
                            <div
                                *ngIf="repairs.repairType.name == 'Bill'"
                                class="item-header"
                            >
                                PRICE
                            </div>
                            <div class="item-header">QTY</div>
                            <div
                                *ngIf="repairs.repairType.name == 'Bill'"
                                class="item-header"
                            >
                                TOTAL
                            </div>
                        </div>
                        <div
                            *ngFor="
                                let desc of repairs?.items;
                                let i = index;
                                trackBy: identity
                            "
                            class="repair-body-container"
                        >
                            <div
                                class="repair-items-body"
                                [ngClass]="{
                                    'have-pm-description':
                                        desc?.pmTruck != null ||
                                        desc?.pmTrailer != null
                                }"
                            >
                                <span class="description-item-counter">{{
                                    i + 1
                                }}</span>
                                <div class="item-icon-desc-wrapper">
                                    <svg-icon
                                        *ngIf="desc?.pmTruck?.logoName"
                                        class="pm-icon"
                                        [src]="
                                            'assets/svg/common/repair-pm/' +
                                            desc?.pmTruck?.logoName
                                        "
                                        [svgStyle]="{
                                            'width.px': '20',
                                            'height.px': '20'
                                        }"
                                    ></svg-icon>
                                    <svg-icon
                                        *ngIf="desc?.pmTrailer?.logoName"
                                        class="pm-icon"
                                        [src]="
                                            'assets/svg/common/repair-pm/' +
                                            desc?.pmTrailer?.logoName
                                        "
                                        [svgStyle]="{
                                            'width.px': '20',
                                            'height.px': '20'
                                        }"
                                    ></svg-icon>
                                    <span class="description-item">{{
                                        desc?.description
                                    }}</span>
                                </div>
                                <span
                                    *ngIf="desc.price"
                                    class="description-item-qty qty-price"
                                    >{{
                                        desc?.price | formatCurrency
                                    }}</span
                                >
                                <span class="description-item-qty">
                                    <span class="inner-qty-value">
                                        {{ desc?.quantity }}
                                    </span>
                                </span>
                                <span
                                    *ngIf="desc.subtotal"
                                    class="description-item-total"
                                    >{{
                                        desc?.subtotal | formatCurrency
                                    }}</span
                                >
                            </div>
                        </div>
                    </div>
                </span>
            </div>
        </div>
    </div>
-->
