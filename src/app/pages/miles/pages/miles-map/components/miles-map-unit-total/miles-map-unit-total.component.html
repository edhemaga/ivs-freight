@if (total) {
    <div class="background-white br-3 p-12 miles-map-total">
        <div class="text-size-11 ta-font-bold text-color-black m-b-2">
            Total Miles
        </div>
        <div class="text-size-18 ta-font-medium text-color-black m-b-8">
            43,469.9
        </div>

        <div class="d-flex gap-3">
            <ng-container
                *ngTemplateOutlet="
                    loadedAndEmpty;
                    context: {
                        label: 'Loaded',
                        value: '35.767.35',
                        bgClass: 'background-muted',
                    }
                "
            >
            </ng-container>

            <ng-container
                *ngTemplateOutlet="
                    loadedAndEmpty;
                    context: {
                        label: 'Empty',
                        value: '7,702.63',
                        bgClass: 'background-dark-2',
                    }
                "
            >
            </ng-container>
        </div>

        <div class="divider mt-3 mb-2"></div>

        <div class="d-flex align-items-center gap-1">
            <div class="text-color-black text-size-16 ta-font-extra-bold">
                Stop
            </div>
            <div
                class="d-flex align-items-center text-size-11 ta-font-bold text-color-white background-bw6-2 p-x-5 br-60 h-18"
            >
                332
            </div>
        </div>
        <ng-container
            *ngTemplateOutlet="
                milesProgressBar;
                context: {
                    label: 'Pickup',
                    percent: total.pickupPercentage,
                    count: total.pickupCount,
                    icon: 'background-dark-2',
                }
            "
        >
        </ng-container>

        <ng-container
            *ngTemplateOutlet="
                milesProgressBar;
                context: {
                    label: 'Deliver',
                    percent: total.deliveryPercentage,
                    count: total.deliveryCount,
                    icon: 'background-dark-2',
                }
            "
        >
        </ng-container>

        <ng-container
            *ngTemplateOutlet="
                milesProgressBar;
                context: {
                    label: 'Fuel',
                    percent: total.fuelPercentage,
                    count: total.fuelCount,
                    icon: 'background-dark-2',
                }
            "
        >
        </ng-container>

        <ng-container
            *ngTemplateOutlet="
                milesProgressBar;
                context: {
                    label: 'Deadhead',
                    percent: total.deadHeadPercentage,
                    count: total.deadHeadCount,
                    icon: 'background-dark-2',
                }
            "
        >
        </ng-container>

        <ng-container
            *ngTemplateOutlet="
                milesProgressBar;
                context: {
                    label: 'Parking',
                    percent: total.parkingPercentage,
                    count: total.pickupCount,
                    icon: 'background-dark-2',
                }
            "
        >
        </ng-container>

        <ng-container
            *ngTemplateOutlet="
                milesProgressBar;
                context: {
                    label: 'Repair',
                    percent: total.repairPercentage,
                    count: total.repairCount,
                    icon: 'background-dark-2',
                }
            "
        >
        </ng-container>

        <ng-container
            *ngTemplateOutlet="
                milesProgressBar;
                context: {
                    label: 'Towing',
                    percent: total.towingPercentage,
                    count: total.towingCount,
                    icon: 'background-dark-2',
                }
            "
        >
        </ng-container>
    </div>
}

<ng-template
    #milesProgressBar
    let-icon="icon"
    let-label="label"
    let-percent="percent"
    let-count="count"
>
    {{ label }} / {{ count }} // {{ percent }}
</ng-template>

<ng-template
    #loadedAndEmpty
    let-label="label"
    let-value="value"
    let-bgClass="bgClass"
>
    <div class="col-6">
        <div
            class="text-size-11 ta-font-bold text-color-black m-b-2 d-flex align-items-center"
        >
            <span>{{ label }}</span>
            <span
                class="m-l-4 h-10 w-10 rounded-circle"
                [ngClass]="{ bgClass }"
            ></span>
        </div>
        <div class="text-size-14 text-color-black-2">{{ value }}</div>
    </div>
</ng-template>
