<app-ta-modal
    [modalTitle]="editData?.type !== 'edit' ? 'Add Account' : 'Edit Account'"
    [editData]="editData"
    [editName]="editData?.data?.name"
    [isModalValid]="accountForm.valid && isFormDirty"
    [saveAndAddNew]="editData?.type !== 'edit'"
    (action)="onModalAction($event)"
>
    <form
        origin
        [formGroup]="accountForm"
        class="form-container form-container-without-mb"
    >
        <div class="row">
            <div class="col-12">
                <app-ca-input
                    formControlName="name"
                    [inputConfig]="
                        accountModalConfig.NAME_INPUT_CONFIG(
                            editData?.type === 'edit'
                        )
                    "
                ></app-ca-input>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <app-ta-input-dropdown-label
                    formControlName="companyAccountLabelId"
                    [inputConfig]="
                        accountModalConfig.COMPANY_LABEL_INPUT_CONFIG
                    "
                    [colors]="colors"
                    [options]="accountLabels"
                    [selectedLabel]="selectedAccountLabel"
                    [selectedLabelColor]="selectedAccountColor"
                    (pickExistLabel)="onPickExistLabel($event)"
                    (pickColorLabel)="onSelectColorLabel($event)"
                    (editModeLabel)="companyAccountLabelMode($event)"
                    (saveLabel)="onSaveLabel($event)"
                >
                </app-ta-input-dropdown-label>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <app-ca-input
                    formControlName="username"
                    [inputConfig]="accountModalConfig.USERNAME_INPUT_CONFIG"
                ></app-ca-input>
            </div>
            <div class="col-6">
                <app-ca-input
                    formControlName="password"
                    [inputConfig]="accountModalConfig.PASSWORD_INPUT_CONFIG"
                ></app-ca-input>
            </div>
        </div>
        <div class="row last-row">
            <div class="col-12">
                <app-ca-input
                    formControlName="url"
                    [inputConfig]="accountModalConfig.URL_INPUT_CONFIG"
                ></app-ca-input>
            </div>
        </div>
        <app-ca-input-note
            formControlName="note"
            [isVisibleNote]="
                accountForm.get('note').value &&
                accountForm.get('note').value != 'null'
                    ? accountForm.get('note').value
                    : false
            "
            [note]="
                accountForm.get('note').value &&
                accountForm.get('note').value != 'null'
                    ? accountForm.get('note').value
                    : ''
            "
        ></app-ca-input-note>
    </form>
</app-ta-modal>
