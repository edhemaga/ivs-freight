<app-ta-modal
    [modalTitle]="editData?.type !== 'edit' ? 'Add Account' : 'Edit Account'"
    [editData]="editData"
    [editName]="editData?.data?.name"
    [isModalValid]="accountForm.valid && isFormDirty"
    [saveAndAddNew]="editData?.type !== 'edit'"
    (action)="onModalAction($event)"
>
    <form
        origin
        [formGroup]="accountForm"
        class="form-container form-container-without-mb"
    >
        <div class="row">
            <div class="col-12">
                <app-ca-input
                    formControlName="name"
                    [inputConfig]="{
                        name: 'Account Name',
                        type: 'text',
                        label: 'Account Name',
                        isRequired: true,
                        maxLength: 23,
                        textTransform: 'capitalize',
                        autoFocus: editData?.type !== 'edit'
                    }"
                ></app-ca-input>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <app-ta-input-dropdown-label
                    formControlName="companyAccountLabelId"
                    [inputConfig]="{
                        name: 'Input Dropdown Label',
                        type: 'text',
                        label: 'Label',
                        placeholderIcon: 'ic_dynamic_label',
                        dropdownLabel: true,
                        dropdownWidthClass: 'w-col-456',
                        textTransform: 'lowercase',
                        blackInput: true,
                        minLength: 1,
                        maxLength: 32,
                        commands: {
                            active: false,
                            type: 'confirm-cancel',
                            firstCommand: {
                                popup: {
                                    name: 'Confirm',
                                    backgroundColor: '#3074d3'
                                },
                                name: 'confirm',
                                svg: 'assets/svg/ic_spec-confirm.svg'
                            },
                            secondCommand: {
                                popup: {
                                    name: 'Cancel',
                                    backgroundColor: '#2f2f2f'
                                },
                                name: 'cancel',
                                svg: 'assets/svg/ic_x.svg'
                            }
                        }
                    }"
                    [colors]="colors"
                    [options]="accountLabels"
                    [selectedLabel]="selectedAccountLabel"
                    [selectedLabelColor]="selectedAccountColor"
                    (pickExistLabel)="onPickExistLabel($event)"
                    (pickColorLabel)="onSelectColorLabel($event)"
                    (editModeLabel)="companyAccountLabelMode($event)"
                    (saveLabel)="onSaveLabel($event)"
                >
                </app-ta-input-dropdown-label>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <app-ca-input
                    formControlName="username"
                    [inputConfig]="{
                        name: 'Username',
                        type: 'text',
                        label: 'Username',
                        placeholderIcon: 'user_icon',
                        isRequired: true,
                        minLength: 2,
                        maxLength: 30
                    }"
                ></app-ca-input>
            </div>
            <div class="col-6">
                <app-ca-input
                    formControlName="password"
                    [inputConfig]="{
                        name: 'Password',
                        type: 'password',
                        label: 'Password',
                        placeholderIcon: 'password',
                        isRequired: true,
                        maxLength: 64
                    }"
                ></app-ca-input>
            </div>
        </div>
        <div class="row last-row">
            <div class="col-12">
                <app-ca-input
                    formControlName="url"
                    [inputConfig]="{
                        name: 'Url',
                        type: 'text',
                        label: 'URL',
                        placeholderIcon: 'ic_web',
                        minLength: 4,
                        maxLength: 255
                    }"
                ></app-ca-input>
            </div>
        </div>
        <app-ca-input-note
            formControlName="note"
            [isVisibleNote]="
                accountForm.get('note').value &&
                accountForm.get('note').value != 'null'
                    ? accountForm.get('note').value
                    : false
            "
            [note]="
                accountForm.get('note').value &&
                accountForm.get('note').value != 'null'
                    ? accountForm.get('note').value
                    : ''
            "
        ></app-ca-input-note>
    </form>
</app-ta-modal>
