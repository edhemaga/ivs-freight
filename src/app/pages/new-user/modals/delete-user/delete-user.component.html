@let users = modalData?.users || [];
@let isSingular = users.length === 1;
@let inputModalData =
    {
        count: isSingular ? 0 : users.length,
        title: 'Delete User',
    };

<app-ca-delete-modal [template]="deleteTemplate" [modalData]="inputModalData">
    <ng-template #deleteTemplate>
        <div class="gap-2 d-flex flex-column">
            @for (user of users; track user.id) {
                <div class="gap-1 d-flex align-items-center b-8">
                    <app-ca-profile-image
                        [name]="user?.fullName"
                        [size]="'small'"
                        [type]="'user'"
                        [withTooltip]="true"
                        [size]="28"
                        [isDispatch]="true"
                        [avatarImg]="user?.avatar"
                    >
                    </app-ca-profile-image>

                    <div class="d-flex flex-column m-l-2">
                        <div class="text-size-16 ta-font-bold text-color-black">
                            {{ user?.fullName }}
                        </div>

                        <div class="text-size-14 text-color-muted">
                            {{ user?.department }}
                        </div>
                    </div>
                </div>
            }
            <div class="text-size-14 ta-font-medium text-color-black">
                Are you sure you want to delete selected user{{
                    isSingular ? '' : 's'
                }}?
            </div>
        </div>
    </ng-template>
</app-ca-delete-modal>
