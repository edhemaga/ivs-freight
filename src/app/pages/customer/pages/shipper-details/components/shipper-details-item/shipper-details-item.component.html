<div class="repair-component">
    <div
        *ngFor="let shipperData of shipper; trackBy: identity"
        class="repair-component"
        [class.contactGridHolder]="shipperData.nameDefault === 'Contact'"
        [class.reviewGridHolder]="shipperData.nameDefault === 'Review'"
    >
        <div [ngSwitch]="shipperData?.template">
            <div *ngSwitchCase="'general'">
                <app-shipper-details-card [shipper]="shipperData?.data">
                </app-shipper-details-card>
            </div>
            <div *ngSwitchCase="'load'" class="load">
                <div
                    class="repair-container shipper-details-padding"
                    *ngIf="shipperData?.data?.loadStops?.length"
                >
                    <div class="repair-header">
                        <span class="repaier-headers">LOAD</span>
                        <span class="repaier-headers">DRIVER</span>
                        <span class="repaier-headers">TRUCK</span>
                        <span class="repaier-headers">TRAILER</span>
                        <span class="repaier-headers">ARRIVE</span>
                        <span class="repaier-headers">DEPART</span>
                        <span class="repaier-headers">WAIT</span>
                    </div>
                    <div class="divider"></div>
                    <ng-container
                        *ngFor="
                            let loadStop of shipperData.data.loadStops;
                            trackBy: identity
                        "
                    >
                        <ng-container
                            *ngFor="
                                let stop of loadStop.stops;
                                trackBy: identity
                            "
                        >
                            <div class="repair-items-wrapper">
                                <div class="repair-items">
                                    <div class="items-header">
                                        <div class="icon-svg-repair">
                                            <ng-container
                                                *ngIf="
                                                    stop?.stopType?.name ===
                                                    'Pickup'
                                                "
                                            >
                                                <svg-icon
                                                    class="arrow-ri"
                                                    src="{{
                                                        shipperImageRoutes.arrowRight
                                                    }}"
                                                ></svg-icon
                                            ></ng-container>
                                            <ng-container
                                                *ngIf="
                                                    stop?.stopType?.name ===
                                                    'Delivery'
                                                "
                                            >
                                                <svg-icon
                                                    class="arrow-le"
                                                    src="{{
                                                        shipperImageRoutes.arrowLeft
                                                    }}"
                                                ></svg-icon>
                                            </ng-container>
                                            <span class="unit">{{
                                                stop?.load?.id
                                            }}</span>
                                        </div>
                                        <span class="date">
                                            {{
                                                stop?.load?.dispatch.driver
                                                    ?.firstName.length > 6
                                                    ? stop?.load?.dispatch
                                                          .driver
                                                          ?.firstName[0] + '.'
                                                    : stop?.load?.dispatch
                                                          .driver?.firstName
                                            }}
                                            {{
                                                stop?.load?.dispatch.driver
                                                    ?.lastName
                                            }}
                                        </span>
                                        <span class="date">{{
                                            stop?.load?.dispatch.truck
                                                ?.truckNumber
                                        }}</span>
                                        <span class="date">{{
                                            stop?.load?.dispatch.trailer
                                                ?.trailerNumber
                                        }}</span>
                                        <div class="time-date">
                                            <span class="date">{{
                                                stop?.arrive | formatDateP
                                            }}</span>
                                            <span class="time">{{
                                                stop?.arrive | formatTime
                                            }}</span>
                                        </div>
                                        <div class="time-date">
                                            <span class="date">{{
                                                stop?.depart | formatDateP
                                            }}</span>
                                            <span class="time">{{
                                                stop?.depart | formatTime
                                            }}</span>
                                        </div>
                                        <span class="wait-time">
                                            <ng-container
                                                *ngIf="stop?.wait?.days > 0"
                                            >
                                                <span class="hours"
                                                    >{{
                                                        stop?.wait?.days
                                                    }}
                                                    d</span
                                                >
                                            </ng-container>
                                            <ng-container
                                                *ngIf="stop?.wait?.hours > 0"
                                            >
                                                <span class="hours"
                                                    >{{
                                                        stop?.wait?.hours
                                                    }}
                                                    h</span
                                                >
                                            </ng-container>
                                            <ng-container
                                                *ngIf="
                                                    stop?.wait?.hours <= 0 &&
                                                    stop?.wait?.days <= 0
                                                "
                                            >
                                                <span class="hours">
                                                    {{ stop?.wait?.minutes }}
                                                    min
                                                </span>
                                            </ng-container>
                                        </span>
                                    </div>
                                </div>
                                <div class="divider"></div>
                            </div>
                        </ng-container>
                    </ng-container>
                </div>
            </div>
            <div *ngSwitchCase="'contact'" class="contact">
                <div *ngIf="shipperContacts.length" class="contact-wrapper">
                    <app-ta-contacts-card
                        [departmentContacts]="departmentContacts"
                        [parentId]="shipper[0].data.id"
                    ></app-ta-contacts-card>
                </div>
            </div>
            <!--<div *ngSwitchCase="'review'">
                <div class="likes-count-container">
                    <div class="likes-item">
                        <div class="ic-counter">
                            <svg-icon
                                class="like"
                                src="assets/svg/common/ic_dislike.svg"
                            ></svg-icon>
                            <app-ta-counter
                                [countBackgroud]="'#F3F3F3'"
                                [countColor]="'#919191'"
                                [countHeight]="'24px'"
                                [countWidth]="'24px'"
                                [count]="shipperLikes"
                            >
                            </app-ta-counter>
                        </div>
                        <div class="border-vertical"></div>
                        <div class="ic-counter">
                            <app-ta-counter
                                [countBackgroud]="'#F3F3F3'"
                                [countColor]="'#919191'"
                                [countHeight]="'24px'"
                                [countWidth]="'24px'"
                                [count]="shipperDislike"
                            >
                            </app-ta-counter>
                            <svg-icon
                                class="dislike"
                                src="assets/svg/common/ic_dislike.svg"
                            ></svg-icon>
                        </div>
                    </div>
                </div>
                <div class="review-container">
                    <div
                        *ngIf="!reviewsRepair.length"
                        class="no-reviews-details"
                    >
                        No review
                    </div>
                    <app-ta-user-review
                        *ngIf="reviewsRepair.length"
                        [reviewData]="reviewsRepair"
                        [isNewReview]="reviewsRepair[0].isNewReview"
                        (changeReviewsEvent)="changeReviewsEvent($event)"
                    ></app-ta-user-review>
                </div>
            </div> this is not going into this sprint -->
        </div>
    </div>
</div>
