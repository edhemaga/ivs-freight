<app-ca-modal
    [modalTitle]="'Columns'"
    [rightHeaderTemplate]="rightModalContent"
    [leftHeaderTemplate]="leftModalContent"
    [footerTemplate]="footerTemplate"
>
    <div class="new-modal" origin>
        <div class="divider divider--dark divider--small"></div>
        <!-- Number of rows -->
        <form [formGroup]="cardsForm">
            <div
                class="d-flex justify-content-between form-holder head-title modal-cards align-items-center"
            >
                <div class="ta-font-extra-bold title-card-modal">
                    No. of Rows
                </div>
                <div class="form-radio-btns d-flex">
                    <label class="d-flex align-items-center radio-label">
                        <input
                            type="radio"
                            formControlName="numberOfRows"
                            [value]="3"
                            class="radio-input"
                        />
                        <span class="ta-font-semi-bold radio-span"> 3 </span>
                    </label>

                    <label class="d-flex align-items-center radio-label">
                        <input
                            type="radio"
                            formControlName="numberOfRows"
                            [value]="4"
                            class="radio-input"
                        />
                        <span class="ta-font-semi-bold radio-span"> 4 </span>
                    </label>

                    <label class="d-flex align-items-center radio-label">
                        <input
                            type="radio"
                            formControlName="numberOfRows"
                            [value]="5"
                            class="radio-input"
                        />
                        <span class="ta-font-semi-bold radio-span"> 5 </span>
                    </label>

                    <label class="d-flex align-items-center radio-label">
                        <input
                            type="radio"
                            formControlName="numberOfRows"
                            [value]="6"
                            class="radio-input"
                        />
                        <span class="ta-font-semi-bold radio-span"> 6 </span>
                    </label>
                </div>
            </div>

            <!-- Divider -->
            <div class="divider card-color"></div>

            <!-- Front Side -->
            <div class="modal-cards">
                <!-- For Front side of cards -->
                <div class="front-side-body">
                    <div
                        class="ta-font-extra-bold title-card-modal title-margin"
                    >
                        Front Side
                    </div>

                    <div class="d-grid inputs-holder">
                        <div
                            class="modal-holder first-row modal-holder-first d-grid align-items-end d-grid align-items-end"
                        >
                            <ng-cotnainer
                                *ngIf="dataFront[0]?.title !== 'empty'"
                            >
                                <span class="input-title ta-font-semi-bold"
                                    >1st</span
                                ></ng-cotnainer
                            >

                            <app-modal-input-form
                                [dataCardModal]="cardsAllData"
                                [defaultValue]="
                                    dataFront[0] || { title: '1st' }
                                "
                                [backupValue]="'1st'"
                                formControlName="frontSelectedTitle_0"
                                [titlesInForm]="titlesInForm"
                            >
                            </app-modal-input-form>
                        </div>

                        <div
                            class="modal-holder-first first-row modal-holder d-grid align-items-end d-grid align-items-end"
                        >
                            <ng-cotnainer
                                *ngIf="dataFront[1]?.title !== 'empty'"
                            >
                                <span class="input-title ta-font-semi-bold"
                                    >2nd</span
                                >
                            </ng-cotnainer>

                            <app-modal-input-form
                                [dataCardModal]="cardsAllData"
                                [defaultValue]="
                                    dataFront[1] || { title: '2nd' }
                                "
                                [backupValue]="'2nd'"
                                formControlName="frontSelectedTitle_1"
                                [titlesInForm]="titlesInForm"
                            >
                            </app-modal-input-form>
                        </div>

                        <div
                            class="modal-holder sec-row d-grid align-items-end"
                            [ngClass]="{
                                'last-row':
                                    defaultCardsValues.numberOfRows === 4 ||
                                    defaultCardsValues.numberOfRows === 3,
                            }"
                        >
                            <ng-cotnainer
                                *ngIf="dataFront[2]?.title !== 'empty'"
                            >
                                <span class="input-title ta-font-semi-bold"
                                    >3rd</span
                                >
                            </ng-cotnainer>

                            <app-modal-input-form
                                [dataCardModal]="cardsAllData"
                                [defaultValue]="
                                    dataFront[2] || { title: '3rd' }
                                "
                                [backupValue]="'3rd'"
                                formControlName="frontSelectedTitle_2"
                                [titlesInForm]="titlesInForm"
                            >
                            </app-modal-input-form>
                        </div>

                        <ng-container
                            *ngIf="defaultCardsValues.numberOfRows > 3"
                        >
                            <div
                                class="modal-holder sec-row d-grid align-items-end"
                                [ngClass]="{
                                    'last-row':
                                        defaultCardsValues.numberOfRows === 4,
                                }"
                            >
                                <ng-cotnainer
                                    *ngIf="dataFront[3]?.title !== 'empty'"
                                >
                                    <span class="input-title ta-font-semi-bold"
                                        >4th</span
                                    >
                                </ng-cotnainer>
                                <app-modal-input-form
                                    [dataCardModal]="cardsAllData"
                                    [defaultValue]="
                                        dataFront[3] || { title: '4th' }
                                    "
                                    [backupValue]="'4th'"
                                    formControlName="frontSelectedTitle_3"
                                    [titlesInForm]="titlesInForm"
                                >
                                </app-modal-input-form>
                            </div>
                        </ng-container>

                        <ng-container
                            *ngIf="defaultCardsValues.numberOfRows > 4"
                        >
                            <div
                                class="modal-holder sec-row d-grid align-items-end"
                                [ngClass]="{
                                    'last-row':
                                        defaultCardsValues.numberOfRows === 5 ||
                                        defaultCardsValues.numberOfRows === 6,
                                }"
                            >
                                <ng-cotnainer
                                    *ngIf="dataFront[4]?.title !== 'empty'"
                                >
                                    <span class="input-title ta-font-semi-bold"
                                        >5th</span
                                    >
                                </ng-cotnainer>

                                <app-modal-input-form
                                    [dataCardModal]="cardsAllData"
                                    [defaultValue]="
                                        dataFront[4] || { title: '5th' }
                                    "
                                    [backupValue]="'5th'"
                                    formControlName="frontSelectedTitle_4"
                                    [titlesInForm]="titlesInForm"
                                >
                                </app-modal-input-form>
                            </div>
                        </ng-container>

                        <ng-container
                            *ngIf="defaultCardsValues.numberOfRows > 5"
                        >
                            <div
                                class="modal-holder sec-row d-grid align-items-end"
                                [ngClass]="{
                                    'last-row':
                                        defaultCardsValues.numberOfRows === 6,
                                }"
                            >
                                <ng-cotnainer
                                    *ngIf="dataFront[5]?.title !== 'empty'"
                                >
                                    <span class="input-title ta-font-semi-bold"
                                        >6th</span
                                    >
                                </ng-cotnainer>

                                <app-modal-input-form
                                    [dataCardModal]="cardsAllData"
                                    [defaultValue]="
                                        dataFront[5] || { title: '6th' }
                                    "
                                    [backupValue]="'6th'"
                                    formControlName="frontSelectedTitle_5"
                                    [titlesInForm]="titlesInForm"
                                    [titlesInForm]="titlesInForm"
                                >
                                </app-modal-input-form>
                            </div>
                        </ng-container>
                    </div>
                </div>

                <!-- Divider -->
                <div class="divider card-color"></div>

                <!-- For Back side of cards -->
                <div class="back-side-body">
                    <div class="checkbox-modal">
                        <app-ta-checkbox
                            formControlName="checked"
                            [label]="'Back Side'"
                        ></app-ta-checkbox>
                    </div>
                    <ng-container *ngIf="cardsForm.get('checked').value">
                        <div class="d-grid inputs-holder">
                            <div
                                class="modal-holder first-row d-grid align-items-end"
                            >
                                <ng-cotnainer
                                    *ngIf="dataBack[0]?.title !== 'empty'"
                                >
                                    <span class="input-title ta-font-semi-bold"
                                        >1st</span
                                    >
                                </ng-cotnainer>
                                <app-modal-input-form
                                    [dataCardModal]="cardsAllData"
                                    [defaultValue]="
                                        dataBack[0] || { title: '1st' }
                                    "
                                    formControlName="backSelectedTitle_0"
                                    [titlesInForm]="titlesInForm"
                                >
                                </app-modal-input-form>
                            </div>

                            <div
                                class="modal-holder first-row d-grid align-items-end"
                            >
                                <ng-cotnainer
                                    *ngIf="dataBack[1]?.title !== 'empty'"
                                >
                                    <span class="input-title ta-font-semi-bold"
                                        >2nd</span
                                    >
                                </ng-cotnainer>

                                <app-modal-input-form
                                    [dataCardModal]="cardsAllData"
                                    [defaultValue]="
                                        dataBack[1] || { title: '2nd' }
                                    "
                                    formControlName="backSelectedTitle_1"
                                    [titlesInForm]="titlesInForm"
                                >
                                </app-modal-input-form>
                            </div>

                            <div
                                class="modal-holder sec-row d-grid align-items-end"
                                [ngClass]="{
                                    'last-row':
                                        defaultCardsValues.numberOfRows === 4 ||
                                        defaultCardsValues.numberOfRows === 3,
                                }"
                            >
                                <ng-cotnainer
                                    *ngIf="dataBack[2]?.title !== 'empty'"
                                >
                                    <span class="input-title ta-font-semi-bold"
                                        >3rd</span
                                    >
                                </ng-cotnainer>

                                <app-modal-input-form
                                    [dataCardModal]="cardsAllData"
                                    [defaultValue]="
                                        dataBack[2] || { title: '3rd' }
                                    "
                                    formControlName="backSelectedTitle_2"
                                    [titlesInForm]="titlesInForm"
                                >
                                </app-modal-input-form>
                            </div>

                            <ng-container
                                *ngIf="defaultCardsValues.numberOfRows > 3"
                            >
                                <div
                                    class="modal-holder sec-row d-grid align-items-end"
                                    [ngClass]="{
                                        'last-row':
                                            defaultCardsValues.numberOfRows ===
                                            4,
                                    }"
                                >
                                    <ng-cotnainer
                                        *ngIf="dataBack[3]?.title !== 'empty'"
                                    >
                                        <span
                                            class="input-title ta-font-semi-bold"
                                            >4th</span
                                        >
                                    </ng-cotnainer>

                                    <app-modal-input-form
                                        [dataCardModal]="cardsAllData"
                                        [defaultValue]="
                                            dataBack[3] || {
                                                title: '4th',
                                            }
                                        "
                                        formControlName="backSelectedTitle_3"
                                        [titlesInForm]="titlesInForm"
                                    >
                                    </app-modal-input-form>
                                </div>
                            </ng-container>

                            <ng-container
                                *ngIf="defaultCardsValues.numberOfRows > 4"
                            >
                                <div
                                    class="modal-holder sec-row d-grid align-items-end"
                                    [ngClass]="{
                                        'last-row':
                                            defaultCardsValues.numberOfRows ===
                                                5 ||
                                            defaultCardsValues.numberOfRows ===
                                                6,
                                    }"
                                >
                                    <ng-cotnainer
                                        *ngIf="dataBack[4]?.title !== 'empty'"
                                    >
                                        <span
                                            class="input-title ta-font-semi-bold"
                                            >5th</span
                                        >
                                    </ng-cotnainer>

                                    <app-modal-input-form
                                        [dataCardModal]="cardsAllData"
                                        [defaultValue]="
                                            dataBack[4] || {
                                                title: '5th',
                                            }
                                        "
                                        formControlName="backSelectedTitle_4"
                                        [titlesInForm]="titlesInForm"
                                    >
                                    </app-modal-input-form>
                                </div>
                            </ng-container>

                            <ng-container
                                *ngIf="defaultCardsValues.numberOfRows > 5"
                            >
                                <div
                                    class="modal-holder sec-row d-grid align-items-end"
                                    [ngClass]="{
                                        'last-row':
                                            defaultCardsValues.numberOfRows ===
                                            6,
                                    }"
                                >
                                    <ng-cotnainer
                                        *ngIf="dataBack[5]?.title !== 'empty'"
                                    >
                                        <span
                                            class="input-title ta-font-semi-bold"
                                            >6th</span
                                        >
                                    </ng-cotnainer>

                                    <app-modal-input-form
                                        [dataCardModal]="cardsAllData"
                                        [defaultValue]="
                                            dataBack[5] || {
                                                title: '6th',
                                            }
                                        "
                                        formControlName="backSelectedTitle_5"
                                        [titlesInForm]="titlesInForm"
                                    >
                                    </app-modal-input-form>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </div>
        </form>
    </div>
</app-ca-modal>

<ng-template #rightModalContent>
    <div
        class="d-flex justify-content-center align-items-center modal-close-container"
        ngbTooltip
        mainTooltip="Cancel"
        tooltipBackground="#424242"
        position="bottom"
        (click)="onActionModal(cardsModalStringEnum.CLOSE)"
    >
        <svg-icon
            class="modal-close svg-size-14 svg-fill-muted modal-buttons"
            [src]="svgRoutes.CLOSE_ICON"
        ></svg-icon>
    </div>
</ng-template>
<ng-template #leftModalContent>
    <div class="payroll-number text-color-white text-size-14 ta-font-bold">
        <span> {{ 'Owner | ' + tabSelected | titlecase }}</span>
    </div>
</ng-template>
<ng-template #footerTemplate>
    <div class="modal-footer modal-footer-payroll">
        <div class="divider divider--dark divider--small"></div>
        <div class="d-flex justify-content-between w-full">
            <button
                [class.modal-convert-to-template-btn]="hasFormChanged"
                class="modal-save-btn ta-font-bold ta-font-bold pe-auto"
                (click)="onActionModal(cardsModalStringEnum.RESET_TO_DEFAULT)"
            >
                Reset to Default
            </button>
            <button
                [class.valid]="hasFormChanged"
                class="modal-save-btn ta-font-bold"
                (click)="onActionModal(cardsModalStringEnum.CARDS_MODAL)"
            >
                Save Changes
            </button>
        </div>
    </div>
</ng-template>
